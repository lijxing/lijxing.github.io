<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Java基础学习 | myblog</title><meta name="author" content="lijxing"><meta name="copyright" content="lijxing"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="java简介：Java 是由 Sun Microsystems 公司于 1995 年 5 月推出的 Java 面向对象程序设计语言和 Java 平台的总称。由 James Gosling和同事们共同研发，并在 1995 年正式推出。 后来 Sun 公司被 Oracle （甲骨文）公司收购，Java 也随之成为 Oracle 公司的产品。 Java分为三个体系：  JavaSE（JSE)(Java">
<meta property="og:type" content="article">
<meta property="og:title" content="Java基础学习">
<meta property="og:url" content="http://example.com/2022/11/19/JavaSE/index.html">
<meta property="og:site_name" content="myblog">
<meta property="og:description" content="java简介：Java 是由 Sun Microsystems 公司于 1995 年 5 月推出的 Java 面向对象程序设计语言和 Java 平台的总称。由 James Gosling和同事们共同研发，并在 1995 年正式推出。 后来 Sun 公司被 Oracle （甲骨文）公司收购，Java 也随之成为 Oracle 公司的产品。 Java分为三个体系：  JavaSE（JSE)(Java">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/best.jpg">
<meta property="article:published_time" content="2022-11-19T08:37:40.000Z">
<meta property="article:modified_time" content="2023-11-15T06:30:04.103Z">
<meta property="article:author" content="lijxing">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/best.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/11/19/JavaSE/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java基础学习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-15 14:30:04'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/best.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/index_img1.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="myblog"><span class="site-name">myblog</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Java基础学习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-19T08:37:40.000Z" title="发表于 2022-11-19 16:37:40">2022-11-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-11-15T06:30:04.103Z" title="更新于 2023-11-15 14:30:04">2023-11-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java基础学习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h5 id="java简介："><a href="#java简介：" class="headerlink" title="java简介："></a>java简介：</h5><p>Java 是由 Sun Microsystems 公司于 1995 年 5 月推出的 Java 面向对象程序设计语言和 Java 平台的总称。由 James Gosling和同事们共同研发，并在 1995 年正式推出。</p>
<p>后来 Sun 公司被 Oracle （甲骨文）公司收购，Java 也随之成为 Oracle 公司的产品。</p>
<p>Java分为三个体系：</p>
<ul>
<li><p><font color='orange'>JavaSE</font>（JSE)(<font color='cornflowerblue'>Java Standard Edition</font>，java标准版）</p>
</li>
<li><p><font color='orange'>JavaEE</font>(JEE)(<font color='cornflowerblue'>Java Enterprise Edition</font>，java企业版)</p>
</li>
<li><p><font color='orange'>JavaME</font>(JME)(<font color='cornflowerblue'>Java  Micro Edition</font>，java微型版)</p>
<p>主要特性：</p>
<ul>
<li><p><strong><font color='yellow'>Java 语言是简单的</font>：</strong></p>
<p>Java 语言的<font color='green'>语法与 C 语言和 C++ 语言很接近</font>，使得大多数程序员很容易学习和使用。另一方面，Java 丢弃了 C++ 中很少使用的、很难理解的、令人迷惑的那些特性，如<font color='green'>操作符重载、多继承、自动的强制类型转换</font>。特别地，Java 语言<font color='red'>不使用指针</font>，而是引用。并提供了<font color='red'>自动分配和回收内存空间，使得程序员不必为内存管理</font>而担忧。</p>
</li>
<li><p><strong><font color='yellow'>Java 语言是面向对象的:</font></strong></p>
<p>Java 语言提供<font color='red'>类、接口和继承</font>等面向对象的特性，为了简单起见，只支持<font color='orange'>类之间的单继承</font>，但支持<font color='orange'>接口之间的多继承</font>，并<font color='cornflowerblue'>支持类与接口之间的实现机制</font>（关键字为 implements）。Java 语言全面支持动态绑定，而 C++语言只对虚函数使用动态绑定。总之，<font color='purple'>J</font><font color='purple'>ava语言是一个纯的面向对象程序设计语言。</font></p>
</li>
<li><p><strong><font color='yellow'>Java语言是分布式的</font>：</strong></p>
<p>Java 语言<font color='cornflowerblue'>支持 Internet 应用的开发</font>（内置了TCP&#x2F;IP,HTTP,FTP等协议），在基本的 Java 应用编程接口中有一个网络应用编程接口（<font color='orange'>java net</font>），它提供了用于网络应用编程的类库，包括 <font color='green'>URL（Uniform Resourse Locator）、URLConnection、Socket、ServerSocket</font> 等。Java 的 RMI（远程方法激活）机制也是开发分布式应用的重要手段。</p>
</li>
<li><p><font color='yellow'>Java 语言是健壮的</font>：</p>
<p>Java 的<font color='purple'>强类型机制、异常处理、垃圾的自动收集等是 Java 程序健壮性的重要保证</font>。对指针的丢弃是 Java 的明智选择。Java 的安全检查机制使得 Java 更具健壮性。</p>
<p>强类型语言：所有变量要<font color='red'>先声明</font>，定义后<font color='red'>只可以</font>使用<font color='red'>该数据类型</font>（除非强制类型转换），。例：Java、.net 、Python、C++等语言。</p>
<p>弱类型语言：变量<font color='red'>可以先不声明</font>，一个变量<font color='red'>可以</font>赋<font color='red'>不同数据类型</font>的值，根据不同<font color='red'>数据类型自动转换</font>。例：vb 、PHP、javascript等语言。</p>
</li>
<li><p><strong><font color='yellow'>Java语言是安全的</font>：</strong></p>
<p>Java通常被用在网络环境中，为此，Java 提供了一个安全机制以防恶意代码的攻击。除了Java 语言具有的许多安全特性以外，Java 对通过网络下载的类具有一个安全防范机制（类 ClassLoader），如分配不同的名字空间以防替代本地的同名类、字节代码检查，并提供安全管理机制（类 SecurityManager）让 Java 应用设置安全哨兵。而且Java删除了指针和释放内存扥功能，避免了非法内存操作。</p>
</li>
<li><p><strong><font color='yellow'>Java 语言是体系结构中立的</font>：</strong></p>
<p>Java 程序（后缀为 java 的文件）在 Java 平台上被编译为体系结构中立的字节码格式（后缀为 class 的文件），然后可以在实现这个 Java 平台的任何系统中运行。这种途径适合于异构的网络环境和软件的分发。</p>
</li>
<li><p><strong><font color='yellow'>Java 语言是可移植的</font>：</strong></p>
<p>这种可移植性<font color='green'>来源于体系结构中立性</font>，另外，Java 还严格规定了各个基本数据类型的长度。Java 系统本身也具有很强的可移植性，Java 编译器是用 Java 实现的，Java 的运行环境是用 ANSI C 实现的。</p>
</li>
<li><p><strong><font color='yellow'>Java 语言是解释型的</font>：</strong></p>
<p>如前所述，Java 程序在 Java 平台上被编译为<font color='red'>字节码格式</font>，然后可以在实现这个 <font color='orange'>Java 平台的任何系统</font>中运行。在运行时，Java 平台中的 <font color='red'>Java 解释器</font>对这些字节码进行<font color='red'>解释执行</font>，执行过程中需要的类在联接阶段被载入到运行环境中。</p>
</li>
<li><p><strong><font color='yellow'>Java 是高性能的</font>：</strong></p>
<p>与那些解释型的高级脚本语言相比，Java 的确是高性能的。事实上，Java 的运行速度随着 JIT(Just-In-Time）编译器技术的发展越来越接近于 C++。</p>
</li>
<li><p><strong><font color='yellow'>Java 语言是多线程的</font>：</strong></p>
<p>在 Java 语言中，线程是一种特殊的对象，它必须由 Thread 类或其子（孙）类来创建。通常有两种方法来创建线程：其一，<font color='purple'>使用型构为 Thread(Runnable) 的构造子类</font>将一个实现了 Runnable 接口的对象包装成一个线程，其二，<font color='purple'>从 Thread 类派生出子类并重写 run 方法，使用该子类创建的对象即为线程</font>。值得注意的是 Thread 类已经实现了 Runnable 接口，因此，任何一个线程均有它的 run 方法，而 run 方法中包含了线程所要运行的代码。线程的活动由一组方法来控制。Java 语言支持多个线程的同时执行，并提供多线程之间的同步机制（关键字为 synchronized）。Java还有线程同步机制，使得不同线程访问公共资源时相互配合，防止数据不一致。</p>
</li>
<li><p><strong><font color='yellow'>Java 语言是动态的</font>：</strong></p>
<p>Java 语言的设计目标之一是适应于动态变化的环境。Java 程序需要的类能够动态地被载入到运行环境，也可以通过网络来载入所需要的类。这也有利于软件的升级。另外，Java 中的类有一个运行时刻的表示，能进行运行时刻的类型检查。</p>
</li>
</ul>
</li>
</ul>
<h5 id="相关软件来链接："><a href="#相关软件来链接：" class="headerlink" title="相关软件来链接："></a>相关软件来链接：</h5><p>这里我的文件包里有jdk8,sublime,typora,typora.</p>
<p><a target="_blank" rel="noopener" href="https://cloud.189.cn/web/share?code=ZzeeqaUrmuay%EF%BC%88%E8%AE%BF%E9%97%AE%E7%A0%81%EF%BC%9Anq27%EF%BC%89">点击</a></p>
<h5 id="设置JDK"><a href="#设置JDK" class="headerlink" title="设置JDK:"></a>设置JDK:</h5><p>下载JDK后，启动安装程序，请最好用其默念认路径，默认为<font color='red'>c:\Praogram Files\Java\jdk1.8.0_321</font></p>
<p>win10下的环境变量：</p>
<p>按<font color='cornflowerblue'>win键</font>，点击屏幕左边的<font color='purple'>齿轮（设置）</font>，点击<font color='orange'>系统</font>，点击<font color='yellow'>关于</font>，点击<font color='green'>高级系统设置</font>，点击<font color='cornflowerblue'>环境变量</font>，找到<font color='red'>系统变量</font>：</p>
<p>​	1.新建： 变量名:<font color='red'>JAVA_HOME</font></p>
<p>​				   变量值：（自己的jdk位置），我的是：<font color='red'>C:\Program Files\Java\jdk1.8.0_321</font></p>
<p>​		点击确定。</p>
<p>2.path编辑：在系统变量里找到<font color='red'>Path</font>，新建:<font color='red'>%JAVA_HOME%\bin</font>。再上移到最上面。</p>
<p>测试方法：</p>
<p>cmd:</p>
<p>​	<font color='yellow'>javac -version</font>  –&gt;   javac 1.8.0_321</p>
<p>大功告成！</p>
<h5 id="相对路径与绝对路径："><a href="#相对路径与绝对路径：" class="headerlink" title="相对路径与绝对路径："></a>相对路径与绝对路径：</h5><p><font color='springgreen'>不同操作系统</font>使用的斜杠不同（Linux系统是&#x2F;，window系统是;)。</p>
<p>在网站的应用中，通常我们使用”<font color='hotpink'>&#x2F;</font>“来表示<font color='springgreen'>根目录</font>，&#x2F;img&#x2F;photo.jpg就表示photo.jpg文件在这个<font color='cornflowerblue'>网站的根目录上的img目录里</font></p>
<p>绝对路径，从<font color='khaki'>根目录为起点</font>到<font color='wheat'>某一个目录</font>的路径；<br>相对路径，从<font color='cornflowerblue'>一个目录为起点</font>到<font color='cornflowerblue'>另外一个的目录</font>的路径。</p>
<p>绝对路径：<font color='wheat'> C:\A文件夹</font></p>
<p>相对路径（如果你在A文件夹时）： <font color='wheat'>..\B文件夹  （‘..\’向上一级意思）（c盘下有A和B）</font></p>
<h5 id="Java的常见概念词"><a href="#Java的常见概念词" class="headerlink" title="Java的常见概念词:"></a>Java的常见概念词:</h5><p><font color='cornflowerblue'>JVM</font>(<font color='cornflowerblue'>Java Virtual Machine</font>):<font color='orange'>Java 虚拟机</font>；功能：将编译好的<font color='green'>class文件</font><font color='purple'>解释执行</font>，由于class文件(字节码文件)<font color='yellow'>不能由操作系统直接执行</font>，需要JVM解释执行。</p>
<p><strong><font color='cornflowerblue'>JRE</font></strong>(<font color='cornflowerblue'>Java Runtime Environment</font>):<font color='orange'>Java 运行环境</font>，class文件运行时依赖java的类库，即JVM运行class文件，必须调用各种Java类库。</p>
<p><font color='cornflowerblue'>JDK</font>(<font color='cornflowerblue'>Java Development Kit</font>):<font color='orange'>Java开发工具包</font>。</p>
<h5 id="JDK工具体系："><a href="#JDK工具体系：" class="headerlink" title="JDK工具体系："></a>JDK工具体系：</h5><p>①<font color='orange'>编译器</font>: <font color='yellow'>javac</font><font color='yellow'>.exe</font>对扩展名为.java的源文件进行翻译转换生成<font color='cornflowerblue'>.class执行文件</font>。</p>
<p>​	格式：javac[选项] 源文件名.java</p>
<p>②<font color='orange'>解释器</font>: <font color='yellow'>java.exe</font>对.class文件<font color='cornflowerblue'>解释执行</font>编译产生的.class文件,在字节码下载和执行过程中，解释器负责维护它的完整性，正确性和安全性</p>
<p>​	格式：java[选项] 类名[参数]  &#x2F;&#x2F;被执行的类中必须有且只有一个有效的main方法。</p>
<p>③<font color='orange'>显示器</font>：<font color='yellow'>Applet</font>。</p>
<p>​	格式：appletviewer[选项] URL</p>
<p>④<font color='orange'>调试器</font>：<font color='yellow'>JDB</font></p>
<p>日后补充</p>
<p>⑤<font color='orange'>分解器</font>：<font color='yellow'>javap</font>将编译生成的字节码分解，给出指定类的成员变量和方法的有关信息。</p>
<p>​	格式：javap[选项] 类名</p>
<pre><code>例：cmd:   D:\notejavabook&gt;javap Hi
</code></pre>
<p>Compiled from “Hi.java”<br>public class Hi {<br>  public Hi();<br>  public static void main(java.lang.String[]);<br>}</p>
<p>⑥<font color='orange'>文档生成器</font>：<font color='yellow'>javadoc</font>。javadoc接受源文件(.java)输入，自动生成一个<font color='cornflowerblue'>html文件</font>，描述源文件的软件结构，给出有关的类，变量和方法的信息。SUN公司使用它生成了java的应用程序编程接口API（Applicatoin Programming Interface）文档。</p>
<p>​	格式有三种:</p>
<ul>
<li>​	javadoc[选项] 包名</li>
<li>​    javadoc[选项] 类名</li>
<li>​    javadoc[选项] 源文件名.java</li>
</ul>
<p>⑦<font color='orange'>c语言头文件生成器</font>：<font color='yellow'>javah</font>，javah产生<font color='cornflowerblue'>c语言的类文件和源文件</font>，这些文件用来在java的类中融入c语言的源方法。</p>
<p>​	格式：javah[选项] 类名</p>
<p>​	例：javah Hi</p>
<h5 id="JDK文件夹结读："><a href="#JDK文件夹结读：" class="headerlink" title="JDK文件夹结读："></a>JDK文件夹结读：</h5><p>(1) <font color='orange'>bin文件夹</font>：存放jdk附带的实用工具 bin (binary)其中文意思即是:二进制</p>
<p>​    javac.exe Java语言编译器，它负责将Java源代码(.java文件)便以为字节码(.class文件)文件。<br>​    java.exe Java语言解释器，它负责执行Java字节码文件。<br>​    appletviewer.exe Java Applet小程序查看器。<br>​    javadoc.exe Java语言文档生成器。将源程序中的注释提取成HTML格式文档。<br>​    jrre.exse Java语言归档工具，用它可将包结构压缩成一个以.jar作为扩展名的归档文件。<br>​    native2ascii.exe 可以将本地字符转化成为ASCII码的小工具。将不同的文字转化为“\uxxxx”形式的16进制Unicode码。<br>(2) <font color='orange'>lib（library）文件夹：类库</font><br>​     Java开发工具使用的归档文件，其中包含tools.jar,它包含支持JDK的工具和实用程序的非核心类。<br>(3) <font color='orange'>jre文件夹 </font><br>​    Java运行时的环境，其中包含Java虚拟（JVM）。<br>(4) <font color='orange'>include文件夹 </font><br>​    由C和C++实现，里边包含头文件（启动时需要引入一些C语言的头文件），支持Java本地接口和Java虚拟机调试程序接口的本地代码编程。<br>(7) <font color='orange'>src.zip压缩包 </font><br>​    存放Java的源代码，解压即可见。 </p>
<p> 注意：jdk里的bin、lib文件夹和jre里的bin、lib是不同的，总的来说JDK是用于java程序开发，而jre则是只能运行class而没有编译的功能。</p>
<h5 id="Java程序工作原理："><a href="#Java程序工作原理：" class="headerlink" title="Java程序工作原理："></a>Java程序工作原理：</h5><p><img src="/pic/p1.png" alt="img"></p>
<p><img src="/pic/p2.png" alt="img"></p>
<p><font color='yellow'>Java是解释型语言</font>，不过有人说其也是编译型语言，只能说Java兼具解释型和编译型吧。</p>
<p>Java也是混合型语言。</p>
<h6 id="java程序的分类："><a href="#java程序的分类：" class="headerlink" title="java程序的分类："></a>java程序的分类：</h6><p><strong><font color='purple'>Java Application</font></strong>:(java应用程序)</p>
<p><strong><font color='purple'>Java Applet</font></strong>:(java小应用程序)：必须要有支持它的浏览器</p>
<p>先编写HiApplet.java：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.Graphics;</span><br><span class="line"><span class="keyword">import</span> java.applet.Applet;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HiApplet</span> <span class="keyword">extends</span> <span class="title class_">Applet</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> String str;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">		str = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hi&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span>&#123;</span><br><span class="line">		g.drawString(str,<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译运行得到HiApplet.class文件</p>
<p>再编写：index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">APPLET</span> <span class="attr">CODE</span>=<span class="string">HiApplet.class</span> <span class="attr">WIDTH</span>=<span class="string">300</span> <span class="attr">HEIGHT</span>=<span class="string">300</span>&gt;</span><span class="tag">&lt;/<span class="name">APPLET</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>输入:appletviewer index.html</p>
<p>即可！</p>
<p>说明：</p>
<ol>
<li>所有JavaApplet程序都继承Applet,并且覆盖父类的init()方法</li>
<li>JavaApplet从init()方法开始执行</li>
<li>piant()方法在componet第一次被显示或重画时调用。</li>
</ol>
<h5 id="Java程序的5个基本部分："><a href="#Java程序的5个基本部分：" class="headerlink" title="Java程序的5个基本部分："></a>Java程序的5个基本部分：</h5><p><font color='orange'>分隔符</font>，<font color='orange'>标识符</font>，<font color='orange'>关键字</font>，<font color='orange'>运算符</font>，<font color='orange'>常量</font></p>
<h5 id="1-分隔符"><a href="#1-分隔符" class="headerlink" title="1.分隔符:"></a><font color='red'>1.分隔符:</font></h5><p><font color='cornflowerblue'>注释</font>：</p>
<p><font color='green'>&#x2F;&#x2F;</font>	<font color='purple'>行注释</font>(单行注释)		<font color='yellow'>会被Java编译器忽略</font></p>
<p><font color='green'>&#x2F;* 注释内容 *&#x2F;</font>	<font color='purple'>段注释</font>（多行注释）	(<font color='yellow'>不可嵌套</font>)	<font color='yellow'>会被Java编译器忽略</font></p>
<p><font color='green'>&#x2F;**注释内容 *&#x2F;</font>	<font color='purple'>文档注释</font>		<font color='yellow'>不会被Java编译器忽略</font>，一般放在一个变量或函数定义之前。这些注释都是声明条目的描述，而且javadoc工具产生自动软件文档时将使用其中所注释的内容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> lijinx</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p><font color='cornflowerblue'>空白符：</font></p>
<p><font color='purple'>空格，回车，换行，制表符[Tab]键</font>（4个空格），各种java基本成分之间的多个空白符与一个空白符作用相同。</p>
<p><font color='cornflowerblue'>普通分隔符：</font></p>
<ul>
<li><font color='orange'>{}大括号</font>	定义<font color='green'>类体</font>，<font color='green'>方法体</font>，<font color='green'>复合语句</font>和<font color='green'>数组初始化</font></li>
<li><font color='orange'>；分号   </font>    <font color='green'>语句结束</font>标志</li>
<li><font color='orange'>，逗号</font>       区分方法各个<font color='green'>参数</font>，区分变量说明的各个<font color='green'>变量</font></li>
<li><font color='orange'>：冒号</font>        用于语句标号。（for循环，switch）</li>
</ul>
<h5 id="2-标识符，关键字"><a href="#2-标识符，关键字" class="headerlink" title="2.标识符，关键字"></a><font color='red'>2.标识符，关键字</font></h5><p><font color='green'>ASCII</font>: <font color='orange'>占1个字节</font>，表示00000000<code>~</code>01111111，因其最高位为0，故只有（2^7） 128个字符。</p>
<p><font color='green'>Unicode</font>: 使用<font color='orange'>两个字节</font>来表示<font color='orange'>字符，字母，中文</font>，浪费空间，兼容ASCII码(0~127相同)</p>
<p><font color='green'>utf-8</font>:大小可变编码，<font color='orange'>字母1个字节</font>，<font color='orange'>汉字3个字节</font>，兼容好，</p>
<p><font color='green'>GBK</font>: 有中文，<font color='orange'>字母1个字节</font>，<font color='orange'>汉字2个字节</font>（有所有汉字）</p>
<p><font color='green'>GB2312</font>(可以表示汉字，gb2312&lt;gbk)</p>
<p><font color='green'>big5</font>码（繁体中文）</p>
<p>Java使用<font color='orange'>16位</font><font color='yellow'>Unicode</font>（<font color='cornflowerblue'>万国码</font>）字符集代替了标准8位ASCII字符集,整个字符集包括65536个字符集，兼容ASCII码，使用Unicode字符集主要目的是为了提供一些非拉丁符（包含中文）。</p>
<p>标识符：<font color='orange'>驼峰命名法</font>。</p>
<p>​			a.开头：<font color='red'>合法字母</font>，<font color='red'>下划线（_）</font>，<font color='red'>美元符号</font>（$）</p>
<p>​			b.随后：<font color='red'>字母</font>，<font color='red'>数字</font>，<font color='red'>下划线</font>，<font color='red'>美元符号</font>组成的字符串</p>
<p>​			标识符用于对<font color='yellow'>变量</font>，<font color='yellow'>类</font>，<font color='yellow'>方法</font>的命名，<font color='cornflowerblue'>关键字不允许命名</font>，但其不限长度。</p>
<p>​			（1）类，接口：通常使用<font color='purple'>名词</font>，且每个单词<font color='purple'>首字母大写</font></p>
<p>​			（2）方法：通常使用<font color='purple'>动词</font>，首字母<font color='purple'>小写</font>，其后用<font color='purple'>大写字母分隔</font>每个单词</p>
<p>​			 （3）常量：<font color='purple'>全部大写</font>，单词间用<font color='purple'>下划线</font>分隔开。</p>
<p>​			  （4）变量：通常使用<font color='purple'>名词</font>，<font color='purple'>首字母小写</font>，单词间用<font color='purple'>大写字母分隔</font>。</p>
<p>注意：Java与c语言代码连接时会产生”_”以及”$”开头的标识符，故一般不用它们作为标识符的开头。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> 变量<span class="number">1</span> = <span class="number">12</span>;      <span class="comment">// 正确，Java使用unicode,但不建议用中文</span></span><br></pre></td></tr></table></figure>

<p>关键字：java中有特殊含义的函数符。</p>
<p>关键字一律小写。</p>
<ol>
<li><font color='cornflowerblue'>用于数据类型</font>：boolean、byte、char、 double、 float、int、long、new、short、void、instanceof</li>
<li><font color='cornflowerblue'>用于语句</font>：break、case、 catch、 continue、 default 、do、 else、 for、 if、return、switch、try、 while、 finally、 throw、this、 super。</li>
<li><font color='cornflowerblue'>用于方法</font>，<font color='cornflowerblue'>类</font>，<font color='cornflowerblue'>接口</font>，<font color='cornflowerblue'>包</font>，<font color='cornflowerblue'>异常</font>：lass、 extends、 implements、interface、 package、import、throws</li>
<li><font color='cornflowerblue'>用于修饰</font>：abstract、final、native、private、 protected、public、static、synchronized,transient、 volatile。</li>
<li><font color='cornflowerblue'>保留字</font>（已无意义）： future、 generic、 operator、 outer、rest、var、const、goto、innner</li>
</ol>
<h5 id="cmd写Java程序："><a href="#cmd写Java程序：" class="headerlink" title="cmd写Java程序："></a>cmd写Java程序：</h5><p>新建一个文件夹，新建一个Hi.java文件，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hi</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Hi!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font color='cornflowerblue'>类名与.java文件名</font>相同。</p>
<p>保存，cmd,</p>
<p>javac Hi.java</p>
<p>java Hi</p>
<p>结果：</p>
<p>D:\notejavabook&gt;javac Hi.java</p>
<p>D:\notejavabook&gt;java Hi<br>Hi!</p>
<p>可以了。</p>
<p>注意：java<font color='red'>区分大小写</font></p>
<h5 id="Java的数据类型："><a href="#Java的数据类型：" class="headerlink" title="Java的数据类型："></a>Java的数据类型：</h5><p>​	<img src="/pic/p3.png" alt="img"></p>
<h5 id="常量：java中使用final来定义常量，语法格式："><a href="#常量：java中使用final来定义常量，语法格式：" class="headerlink" title="常量：java中使用final来定义常量，语法格式："></a><font color='pink'>常量</font>：java中使用final来定义常量，语法格式：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="variable">DATA_NUM</span> <span class="operator">=</span> <span class="number">123</span>;</span><br><span class="line"><span class="type">double</span> PI= <span class="number">3.14</span>；<span class="comment">//可以修改</span></span><br><span class="line"><span class="keyword">final</span>   <span class="type">double</span> <span class="variable">PI1</span> <span class="operator">=</span> <span class="number">3.14</span>;<span class="comment">//不可以修改  </span></span><br></pre></td></tr></table></figure>

<p>一般来说，常量应该在同一条语句里进行说明和赋值，但也可以在构造方法里赋予初值。</p>
<p><font color='red'>final代表常量不会改变</font></p>
<p><font color='pink'>使用常量</font>的好处：<font color='yellow'>不必重复输入一个值，一改全改，易读性好</font>。</p>
<p><font color='pink'>整型常量</font>：</p>
<ol>
<li><font color='red'>十进制</font>：0~9，无前缀，不以0开头，无小数部分，例：50，-56……</li>
<li><font color='red'>二进制</font>：0~1，表示方法：（是0不是O）0b或0B,如：0b111</li>
<li><font color='red'>八进制</font>：0~7，例：0150，-056。</li>
<li><font color='red'>十六进制</font>：0<del>9，A</del>F（a~f），前缀为（0x或0X）例：0x1a5</li>
</ol>
<p><font color='orange'>整型默认为int</font>，int在计算机里占<font color='orange'>32</font>位，对于<font color='orange'>长整型(long)</font>，则要在<font color='orange'>数字后加L或l</font>，在计算机里占<font color='orange'>64</font>位。</p>
<p><font color='pink'>浮点型常量：</font>（最好不要用于比较）高精度用BigDecimal</p>
<ul>
<li><p>​                 十进制表示：<font color='cornflowerblue'>整数</font>+<font color='cornflowerblue'>小数</font>。小数点<font color='pink'>两边数字不能同时省略</font>，且<font color='pink'>小数点不可以省略</font>，如6.0，     54.67，<font color='cornflowerblue'>.0</font>。</p>
</li>
<li><p>​                 科学计数法：由<font color='pink'>数字后跟字母e（或E）</font>来表示指数，其中e前面<font color='pink'>必须是数字</font>，可正可负， 但e后<font color='pink'>必须为整数</font>，例：6.0e3，5.37E-1.</p>
<p>Java有<font color='yellow'>双精度（Double）</font>和<font color='yellow'>单精度（Float）</font>之分，数值后加<font color='yellow'>d的即为双精度</font>，加<font color='yellow'>f的即为单精度</font>,不加<font color='orange'>默认为双精度浮点型常量</font>。</p>
</li>
</ul>
<p><font color='pink'>布尔型常量</font>：只有<font color='orange'>true</font>与<font color='orange'>false</font>之分，true为逻辑真，false为逻辑假。它们不对应任何<font color='pink'>整数值</font></p>
<p><font color='pink'>字符型常量</font>：用单引号括起来的一个字符，例如：’A’,在Java中用Unicode字符集，是16位无符号整数，					占2个字节，可以用中文表示，如：’好’；</p>
<p>​					Java提供了转义字符的定义，为控制台输出显示或打印等功能设定，</p>
<p>​					char c &#x3D; ‘\t’；</p>
<p>​					char的<font color='orange'>本质是一个整数</font>，输出时是其unicoded的值（字符）。</p>
<p>​					即<font color='red'>对char赋整数的值，会输出unicode的字符</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="number">97</span>;</span><br><span class="line">System.out.prinln(c1);<span class="comment">//a</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="string">&#x27;b&#x27;</span> + <span class="number">1</span>; <span class="comment">//99</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c6</span> <span class="operator">=</span> c1 +<span class="number">25</span>;<span class="comment">//erro,右边为int</span></span><br><span class="line">System.out.prinln((<span class="type">int</span>)c2);<span class="comment">//99</span></span><br><span class="line">System.out.println(c2);<span class="comment">//c</span></span><br><span class="line"> <span class="comment">//性质变了</span></span><br><span class="line"> <span class="type">char</span> <span class="variable">c3</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"> <span class="type">char</span> <span class="variable">c4</span> <span class="operator">=</span> <span class="number">24</span>;</span><br><span class="line"> System.out.println(c3+c4);<span class="comment">//124</span></span><br><span class="line"> System.out.println(c4 + <span class="number">24</span>);<span class="comment">//124</span></span><br></pre></td></tr></table></figure>

<p>转义字符：</p>
<p><font color='green'>\n</font>回车	<font color='green'>\t</font>:水平制表符		<font color='green'>\b</font>：退格		<font color='green'>\r</font>：回车		<font color='green'>\f</font>：走纸，换页，只对打印有效，</p>
<p><font color='green'>\\ : </font>反斜杆（\）		<font color='green'>\ ’ </font>：单引号		<font color='green'>\ “</font> :双引号			<font color='green'>\ddd</font>:1~3位八进制数据所表示的字符。</p>
<p><font color='green'>\uxxx</font>: 1~4位十六进制所表示的unicode字符。</p>
<p><font color='pink'>字符串字符</font>，双引号(“ “),例如: “Hi, jack!”字符串在Java中<font color='orange'>以类存放</font>，每创建一个字符串，实际上就是创建了一个String类的实例。</p>
<h5 id="变量："><a href="#变量：" class="headerlink" title="变量："></a><font color='pink'>变量：</font></h5><p>变量是用来存放数据的，且<font color='yellow'>值可以改变的量</font>，是Java语言程序中的基本存储单元。</p>
<p>声明格式：<font color='cornflowerblue'>数据类型  变量名 &#x3D;  值 ；</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hahah&quot;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">2</span>,b3 = <span class="number">4</span>;</span><br></pre></td></tr></table></figure>

<p>变量类型有：</p>
<p>​					<font color='orange'>int		boolean		short		long		double		float		String		char</font></p>
<p>变量的作用域：</p>
<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">声明位置</th>
<th align="center">从属于</th>
<th align="center">作用域</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><font color='yellow'>局部变量</font></td>
<td align="center"><font color='cornflowerblue'>方法或语句块内</font></td>
<td align="center"><font color='green'>方法&#x2F;语句块</font></td>
<td align="center"><font color='orange'>从声明位置到方法或语句块执行完毕</font></td>
</tr>
<tr>
<td align="center"><font color='yellow'>成员变量</font>(<font color='pink'>实例变量</font>)</td>
<td align="center"><font color='cornflowerblue'>类内部，方法外部</font></td>
<td align="center"><font color='green'>对象</font></td>
<td align="center"><font color='orange'>对象的创建而生，对象消亡而亡</font></td>
</tr>
<tr>
<td align="center"><font color='yellow'>静态变量</font>（<font color='pink'>类变量</font>）</td>
<td align="center"><font color='cornflowerblue'>类内部，static修饰</font></td>
<td align="center"><font color='green'>类</font></td>
<td align="center"><font color='orange'>类被加载而有效，类被卸载，就消失</font></td>
</tr>
</tbody></table>
<p>整型变量：</p>
<table>
<thead>
<tr>
<th align="center">类型名</th>
<th align="center">变量宽度</th>
<th align="center">取值范围</th>
</tr>
</thead>
<tbody><tr>
<td align="center">byte</td>
<td align="center"><font color='orange'>8位</font>（1个字节）</td>
<td align="center">-128~127（-2^7 ~ 2^7 - 1）(有符号位故为7)（有0故减1）</td>
</tr>
<tr>
<td align="center">short</td>
<td align="center"><font color='orange'>16位</font>（2个字节）</td>
<td align="center">-32768~32767（-2^15 ~ 2^15 - 1）≈ 3.2万</td>
</tr>
<tr>
<td align="center">int</td>
<td align="center"><font color='orange'>32位</font>（4个字节）</td>
<td align="center">-2147483648 ~ 2147483647（-2^31 ~ 2^31 - 1）≈ 21亿</td>
</tr>
<tr>
<td align="center">long</td>
<td align="center"><font color='orange'>64位</font>（8个字节）</td>
<td align="center">-9223372036854775808 ~ 9223372036854775807（-2^63 ~ 2^63 - 1）</td>
</tr>
</tbody></table>
<p>浮点型变量：</p>
<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">变量宽度</th>
<th align="center">取值范围</th>
</tr>
</thead>
<tbody><tr>
<td align="center">float</td>
<td align="center"><font color='orange'>32位(</font>4个字节)</td>
<td align="center">-3.4e-38 ~ 3.4e38</td>
</tr>
<tr>
<td align="center">double</td>
<td align="center"><font color='orange'>64位</font>(8个字节）</td>
<td align="center">-1.7e-308~1.7e308</td>
</tr>
</tbody></table>
<p><font color='red'>默认为Double</font>，<font color='green'>double精度高，但占空间</font>。</p>
<p>浮点数在机器中的构成：<font color='yellow'>符号位</font> + <font color='yellow'>指数位</font> + <font color='yellow'>尾数位</font>（尾数部分可能丢失【小数都是近似值】）</p>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">2.7</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">8.1</span> / <span class="number">3</span>;  <span class="comment">//接近2.7的小数</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">小数判断相等时，最好用差值例：if(Math.abs(b- a)&lt;0.0001) </span></span><br><span class="line"><span class="comment">		当b与a的差的绝对值小于某个数时我们就可以认为它们是相等的。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>字符型变量：</p>
<p>Java采用16位无符号Unicode字符集，取值为<font color='yellow'>0~65535（2^16 - 1）</font></p>
<p><font color='yellow'>可以对其赋予整数值（但不可越界）</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">       <span class="type">char</span> a4= <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">       <span class="type">char</span> a5= <span class="number">120</span>;</span><br><span class="line">       <span class="type">char</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">       <span class="type">String</span> <span class="variable">a2</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;<span class="comment">//null</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">a3</span> <span class="operator">=</span> <span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;123&#x27;</span>;<span class="comment">//(×)</span></span><br><span class="line">	System.out.println(<span class="string">&quot;123456\t前面内容有6位，补2个空格&quot;</span>);  </span><br><span class="line">      System.out.println(<span class="string">&quot;12345678\t前面内容有8位，加8个空格&quot;</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;123456789012345\t前面内容有15位，补1个空格&quot;</span>);</span><br><span class="line">      System.out.println(a4);<span class="comment">//a</span></span><br><span class="line">      System.out.println(a5);<span class="comment">//x , x的AScII：120</span></span><br><span class="line">       System.out.println(<span class="number">1213</span>+a2+<span class="number">123</span>);<span class="comment">//1213123</span></span><br><span class="line">       System.out.println(<span class="number">1213</span>+a3+<span class="number">123</span>);<span class="comment">//1213 123</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> <span class="variable">f</span> <span class="operator">=</span> <span class="number">123.4F</span>;</span><br><span class="line"><span class="comment">//Java中字符串不是基本数据类型，而是   类！！！！</span></span><br></pre></td></tr></table></figure>

<p>Java类型转换：	<font color='green'>自动类型转换</font>（<font color='yellow'>隐式转换</font>）和	<font color='green'>强制类型转换</font>（<font color='yellow'>显示转换</font>）</p>
<p>Boolean不参与转换！！！</p>
<p><font color='pink'>自动类型转换：</font></p>
<p>①<font color='red'>只</font>含有<font color='red'>byte,short,char</font>类型的数据，全部<font color='red'>自动转换成int</font>，<font color='red'>计算的结果也为int.</font></p>
<p>byte,short,与char间不发生自动转换。</p>
<blockquote>
<p>char-&gt;int-&gt;long-&gt;float-&gt;double</p>
<p>byte-&gt;short-&gt;int-&gt;long-&gt;float-&gt;double</p>
<p>对byte直接赋值时判断是否越界。byte a &#x3D; 12;</p>
<p>对byte赋予变量时判断类型。int a &#x3D; 12; byte &#x3D; a;&#x2F;&#x2F;erro</p>
<p>int常量 可以自动转换成byte,short,char(不超过范围即可)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">123</span>;<span class="comment">//int常量可以</span></span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span><span class="number">123</span>;</span><br><span class="line">bytec = b;<span class="comment">//erro,int变量不可</span></span><br></pre></td></tr></table></figure>


</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">short</span> a= <span class="number">12</span>;</span><br><span class="line"><span class="type">short</span> a1= <span class="number">13</span>;</span><br><span class="line"><span class="type">short</span>	<span class="variable">s</span>  <span class="operator">=</span> a- <span class="number">5</span>;<span class="comment">//erro,出现了int</span></span><br><span class="line"><span class="type">short</span> <span class="variable">a3</span> <span class="operator">=</span>  a+a1;<span class="comment">//error,左边相加为int,不可以赋给short</span></span><br></pre></td></tr></table></figure>

<p>②含有<font color='cornflowerblue'>int , long , float ,double </font>:<font color='yellow'>占位少</font>的自动转换成<font color='yellow'>占位高</font>的数据类型，结果为<font color='yellow'>占位高的数据类型</font>。 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int n = 10;</span><br><span class="line">float n1 = 2+n;</span><br><span class="line"> float n = a1+1.6;//erro , 右边有double 1.6,不可以 </span><br></pre></td></tr></table></figure>

<p>强制类型转换：</p>
<p>占位高的转成占位低的。强制类型转换会导致计算溢出或精度下降，最好少用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span><span class="number">123.6</span>;</span><br><span class="line">System.out.println((<span class="type">int</span>)a);<span class="comment">//123</span></span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> (<span class="type">int</span>)<span class="number">10</span>*<span class="number">3.5</span>+<span class="number">9</span>*<span class="number">2</span>;<span class="comment">//报错，强制转换只对最近的操作数有效！！！</span></span><br></pre></td></tr></table></figure>



<p>运算符与表达式：</p>
<p>java根据运算符所带的操作数个数分为：</p>
<p><font color='orange'>单目运算符						双目运算符					三目运算符</font></p>
<p><font color='green'>(只带一个操作数)			（带两个操作数）			（带三个操作数）</font></p>
<p>赋值运算符：&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">25</span>;</span><br><span class="line"><span class="type">int</span> a,b,c;</span><br><span class="line">a=b=c=num;</span><br></pre></td></tr></table></figure>

<p>算术运算符：</p>
<p>①二元运算符：+，—，*，&#x2F;，%;			%（模运算）：a%b&#x3D;a - a &#x2F; b * b;</p>
<p>-10 % 3 &#x3D; -10-(-10 &#x2F; 3) * 3&#x3D; -10 + 9 &#x3D; -1;</p>
<p>-10.5 % 3 &#x3D; -10.5 - (-10.5 &#x2F;3) * 3 &#x3D;	-1.5;</p>
<p>②一元运算符：++，–；</p>
<p>a++与++a不同.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line">System.out.println(a++);<span class="comment">//12</span></span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">13</span>;</span><br><span class="line">System.out.println(++b);<span class="comment">//14</span></span><br></pre></td></tr></table></figure>

<p>逻辑运算符：</p>
<p>&amp;：与		|：或		^(异或)：同为false,不同为true		！：逻辑非		</p>
<p>&amp;&amp;：简洁与		||：简洁或	但<font color='yellow'>一边有结果后，另一边可以不用算了</font>。</p>
<p>位运算：</p>
<p><font color='orange'>“~”（按位取反:二进制里，0取1，1取0），”&amp;”（按位与），”|”（按位或），”^”（按位异或：相同为0，不同为1）；</font></p>
<table>
<thead>
<tr>
<th align="center">a</th>
<th align="center">b</th>
<th align="center">~a</th>
<th align="center">a&amp;b</th>
<th align="center">a|b</th>
<th align="center">a^b</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
</tbody></table>
<p>移位运算符：</p>
<p><font color='green'>原码</font>：第一位为符号位，表示正负，0为正数，1为负数。</p>
<p><font color='green'>反码</font>：正数不变，负数除符号外，全取反。</p>
<p><font color='green'>补码</font>：正数依然不变，负数:反码+1 &#x3D; 补码。</p>
<p>0的原码反码补码都是0。</p>
<p>Java中的数都是有符号的！！！！</p>
<p>计算机中以<font color='yellow'>补码为准</font></p>
<p>​		正数：	&lt;&lt; 左移运算符  12&lt;&lt;2  –&gt;0011 0000 —&gt; 48</p>
<p>​						&gt;&gt;右移运算符 ：保留符号位，左边空位由最高符号位填充，右位舍弃。</p>
<p>​		负数： -100的原码：1110 0100</p>
<p>​				    -100的反码： 1001 1011</p>
<p>​					补码：1001 1100</p>
<p>右移四位：高位补1：1111 1001;</p>
<p>​				保留符号位取反：1000 0110 —》-7     ；&gt;&gt;&gt;（不保留符号位的右移），左边缺口全填0.</p>
<p>字符串连接符：”+”,只要有一侧有String即可。</p>
<p>左右数值型：加法</p>
<p>左右字符型：加法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="type">char</span> <span class="variable">b</span> <span class="operator">=</span> <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    System.out.println(<span class="string">&#x27;a&#x27;</span>+<span class="string">&#x27;b&#x27;</span>);<span class="comment">//195</span></span><br><span class="line">    System.out.println(a+b);<span class="comment">//195</span></span><br></pre></td></tr></table></figure>

<p>三元运算符：</p>
<p>逻辑表达式 ？表达式1：表达式2；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">z = x &gt; y ? 19 : 12;</span><br></pre></td></tr></table></figure>

<p>优先级：	<font color='orange'>{  }</font></p>
<p>​				<font color='orange'>单目运算</font></p>
<p>​				<font color='orange'>算术运算</font></p>
<p>​				<font color='orange'>位移运算</font></p>
<p>​				<font color='orange'>比较运算</font></p>
<p>​				<font color='orange'>逻辑运算</font></p>
<p>​				<font color='orange'>三元运算</font></p>
<p>​				<font color='orange'>赋值运算</font></p>
<p>Java语言结构：</p>
<p><font color='pink'>顺序结构</font>：自上而下逐条执行，中间无任何判断和跳转。</p>
<p><font color='pink'>选择结构：</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  if语句：if(布尔表达式)&#123;语句&#125;;</span></span><br><span class="line"><span class="comment">//  if-else：if(布尔表达式)&#123;语句&#125;else if(布尔表达式)&#123;语句&#125;else&#123;语句&#125;	</span></span><br><span class="line"><span class="comment">//嵌套别超过三层，可以用多个if过滤更好</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//switch 语句：</span></span><br><span class="line">		返回值必须是：<span class="type">byte</span>,<span class="type">short</span>,<span class="type">int</span>,<span class="type">char</span>,String,<span class="keyword">enum</span>[枚举]</span><br><span class="line"><span class="comment">// switch(表达式)&#123;</span></span><br><span class="line">	<span class="keyword">case</span> 值 ： 语句 ；<span class="keyword">break</span>；<span class="comment">//没有break；会全部执行下去，直到break,跳出。</span></span><br><span class="line">    <span class="keyword">case</span> 值 ： 语句 ；<span class="keyword">break</span>； </span><br><span class="line">    <span class="keyword">case</span> 值 ： 语句 ；<span class="keyword">break</span>；</span><br><span class="line">    <span class="keyword">default</span> : <span class="keyword">default</span>语句；<span class="keyword">break</span>；    </span><br><span class="line">&#125;<span class="comment">//分支越多，switch越好用</span></span><br></pre></td></tr></table></figure>

<p><font color='pink'>循环语句：</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//for循环语句 for（i=0；i&lt;12;i++）&#123;循环语句&#125;       //break:跳出循环（只可跳一层）；			continue：跳出本次循环</span></span><br><span class="line"><span class="comment">//while循环 while(布尔表达式)&#123;语句&#125; </span></span><br><span class="line"><span class="comment">//do-while循环，do&#123;语句//循环体&#125;while(布尔表达式);</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​						<font color='cornflowerblue'>跳转语句</font>：（Java无goto语句【破坏程序可读性，影响编译优化】）跳转由break和continue实现。</p>
<p>​						break：switch和循环语句。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//标签的使用</span></span><br><span class="line"><span class="comment">//不建议用</span></span><br><span class="line"><span class="comment">//名字任取，若break后无lable,退出最近的一层循环，最外层终止时，循环结束。</span></span><br><span class="line"> lable1:</span><br><span class="line">        <span class="keyword">for</span>(a=<span class="number">0</span>;a&lt;<span class="number">2</span>;a++)&#123;</span><br><span class="line">            lable2:</span><br><span class="line">          <span class="keyword">for</span>(b=<span class="number">0</span>;b&lt;<span class="number">2</span>;b++)&#123;</span><br><span class="line">              <span class="keyword">if</span>(b==<span class="number">2</span>)&#123;</span><br><span class="line">                  <span class="keyword">break</span> lable1;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">            <span class="type">Scanner</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> s.nextLine();</span><br><span class="line">            <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> s.nextInt();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*</span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> IOException&#123;</span><br><span class="line">           <span class="type">InputStreamReader</span> <span class="variable">isr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in);</span><br><span class="line">            <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(isr);</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> br.readLine();</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> Integer.parseInt(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//io包的输入相对来说是快捷的，但缺点是只有字符串，如果有其他需要，还需要自己转</span></span><br><span class="line"><span class="comment">//相对来说Scanner是慢一些的，但Scanner接受的种类比较多</span></span><br><span class="line">		<span class="comment">//可以接受int等等其他类型</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//对于控制台输入来说</span></span><br><span class="line">		<span class="comment">//如果接受大型字符串的还是用io包的比较好，快捷</span></span><br><span class="line">		<span class="comment">//对于接受比较多的，或者说接受非字符串的类型来说Scanner比较好用</span></span><br></pre></td></tr></table></figure>

<p>#注意<font color='red'>return </font>方法要<font color='red'>所有的可能都保证有return</font>；return在方法里：<font color='green'>跳出方法</font>；在main里<font color='green'>退出程序</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span><span class="number">12.988</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> (<span class="type">int</span>)a ;<span class="comment">//12,直接舍去。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常见错误：溢出</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1000000000000000000000000000000000000000000000000000000000</span>;<span class="comment">//err0</span></span><br><span class="line">遇到大数相乘要小心，左右都<span class="type">long</span>或者用Integer</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="comment">//*代表载入io包中的所有系统类，少用*，耗内存和影响运行时间。</span></span><br><span class="line"><span class="comment">//main控制在50行内</span></span><br></pre></td></tr></table></figure>

<p>包装类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>--Integer  <span class="type">long</span>--Long  <span class="type">double</span>--Double  <span class="type">byte</span>--Byte  <span class="type">float</span>--Float</span><br><span class="line"><span class="type">char</span>--Char    <span class="type">boolean</span>--Boolean    </span><br></pre></td></tr></table></figure>

<p>函数的构成：</p>
<p>​			<font color='cornflowerblue'>函数</font> &#x3D; <font color='cornflowerblue'>函数头</font> + <font color='cornflowerblue'>函数体</font></p>
<p>​			格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[修饰符]返回值类型  函数名（[形参列表]）&#123;</span><br><span class="line">	语句块</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// int a=a+7=c+b;(×)</span></span><br></pre></td></tr></table></figure>

<p><font color='pink'>方法：</font></p>
<p>一段用来完成特定功能的代码。</p>
<p>面向过程：函数是基本特征，程序由一个个函数调用组成。</p>
<p>面向对象：整个程序的基本单位为类，方法从属于类和对象。</p>
<p>基本数据类型转成String</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> Integer.parseInt(str);<span class="comment">//123</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">num1</span> <span class="operator">=</span> Integer.parseInt(str1);<span class="comment">//false,异常抛出</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="面向对象的三大特性："><a href="#面向对象的三大特性：" class="headerlink" title="面向对象的三大特性："></a>面向对象的三大特性：</h5><p>面向对象三大特征:<font color='cornflowerblue'>封装</font>,<font color='cornflowerblue'>继承,</font><font color='cornflowerblue'>多态</font>.</p>
<h5 id="封装-encapsulatoin"><a href="#封装-encapsulatoin" class="headerlink" title="封装(encapsulatoin):"></a>封装(encapsulatoin):</h5><p>把抽象的数据和操作封装在一起,</p>
<h5 id="三步走"><a href="#三步走" class="headerlink" title="三步走:"></a>三步走:</h5><blockquote>
<p>1.<font color='orange'>属性私有化</font>,使属性不可被直接修改</p>
<p>2.提供一个<font color='orange'>公共的Set方法</font>.</p>
<p>3.提供一个<font color='orange'>公共的Get方法</font>.</p>
</blockquote>
<h5 id="继承-extends"><a href="#继承-extends" class="headerlink" title="继承(extends):"></a>继承(extends):</h5><p>作用提高代码的复用率</p>
<p>父类又名<font color='cornflowerblue'>超类</font>和<font color='cornflowerblue'>基类</font>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class 子类 extends 父类&#123;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>子类继承了<font color='pink'><font color='yellow'>所有的属性</font>和<font color='yellow'>方法</font>,<font color='yellow'>非私有的方法可以被子类直接访问</font>,而私有的属性与方法<font color='cornflowerblue'>不能</font>被子类直接访问,应由父类提高公共方法.</p>
<p>子类必须调用父类构造器,完成父类的初始化.	<font color='red'>super();</font>	默认有且调用父类无参构造器,可不写.</p>
<p>super()必须在<font color='red'>构造器的第一行</font>.(<font color='pink'>故super与this不可以共存</font>)</p>
<p><em>父类构造器的调用会一直追溯到顶级父类(Object)</em></p>
</blockquote>
<p>Java继承必须满足is-a的关系.</p>
<h6 id="继承的本质"><a href="#继承的本质" class="headerlink" title="继承的本质:"></a>继承的本质:</h6><p><img src="/pic/p6.jpg" alt="img"></p>
<p><font color='cornflowerblue'>子类被实例化,父类不会被实例化,但要调用构造方法</font></p>
<p>练习:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">A</span><span class="params">()</span>&#123;System.out.println(<span class="string">&quot;a&quot;</span>);&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">A</span><span class="params">(String str)</span>&#123;System.out.println(<span class="string">&quot;a name&quot;</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span>&#123;</span><br><span class="line">     <span class="keyword">public</span> <span class="title function_">B</span><span class="params">()</span>&#123;<span class="built_in">this</span>(<span class="string">&quot;abc&quot;</span>);System.out.println(<span class="string">&quot;b&quot;</span>);&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">B</span><span class="params">(String str)</span>&#123;System.out.println(<span class="string">&quot;b name&quot;</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line">main: <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line"><span class="comment">//输出结果: a	 b name		b</span></span><br><span class="line"><span class="comment">//注意B()中没有super,因为有了this(),而且B(String str)里有隐藏的super().</span></span><br></pre></td></tr></table></figure>

<h6 id="super"><a href="#super" class="headerlink" title="super:"></a>super:</h6><blockquote>
<p>父类的引用,用于访问父类的属性,方法,构造器（<font color='red'>不可访问私有的</font>）</p>
<p>①访问父类的属性:		<font color='orange'>	super.属性名</font></p>
<p>②访问父类的方法:			<font color='orange'>super.方法名(形参列表)</font></p>
<p>③访问父类的构造器:		<font color='orange'>super(形参列表);	</font>	必须在第一句</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">区别点</th>
<th align="center">this</th>
<th align="center">super</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">访问属性</td>
<td align="center">访问本类中的属性,如果本类无,就去父类查找…..</td>
<td align="center">从父类开始查找</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">调用方法</td>
<td align="center">访问本类中的方法,如果本类无,就去父类查找…..</td>
<td align="center">从父类开始查找</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">调用构造器</td>
<td align="center">访问本类中的构造器,如果本类无,就去父类查找…..</td>
<td align="center">从父类开始查找</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">特殊</td>
<td align="center">表示当前对象</td>
<td align="center">子类访问父类对象</td>
</tr>
</tbody></table>
<h6 id="方法的重写-覆盖-override"><a href="#方法的重写-覆盖-override" class="headerlink" title="方法的重写&#x2F;覆盖(override)"></a>方法的<font color='pink'>重写&#x2F;覆盖(override)</font></h6><blockquote>
<p>子类与父类有同一个方法,[<font color='pink'>同名,同参,同返回类型</font>],这样就构成了重写.</p>
<p><font color='cornflowerblue'>父类可以不是直接父类,可以是爷爷类.</font></p>
<p>子类的<font color='green'>返回类型</font>要和父类<font color='green'>一致,</font>或者是<font color='green'>父类返回类型的子类.</font>比如父类为Object,子类为String的返回类型</p>
<p>子类方法<font color='orange'>不可以缩小</font>父类的访问权限.但可以<font color='orange'>扩大</font>.例:父类 void say();子类 public void say();</p>
</blockquote>
<h5 id="多态"><a href="#多态" class="headerlink" title="多态:"></a>多态:</h5><p>方法对对象具有多种形态,是面向对象的第三大特征,其建立在<font color='pink'>封装</font>与<font color='pink'>继承</font>之上.(<font color='red'>属性没有多态</font>)</p>
<h6 id="具体体现"><a href="#具体体现" class="headerlink" title="具体体现:"></a>具体体现:</h6><blockquote>
<p>①方法的多态:	<font color='orange'>重写</font>与<font color='green'>重载</font></p>
<p>②对象的多态(重点):	</p>
<p>​								a.一个对象的<font color='green'>编译类型</font>与<font color='green'>运行类型</font>可以<font color='pink'>不一致.</font></p>
<p>​								b.<font color='orange'>编译类型</font>在<font color='orange'>定义对象</font>时就<font color='orange'>确定了</font>,<font color='orange'>不可改变</font>.</p>
<p>​								c.<font color='pink'>运行类型</font><font color='pink'>可以改变</font></p>
<p>​								d.<font color='cornflowerblue'>编译类型</font>在<font color='red'>左边</font>,	String str &#x3D; new String(“hahha”)	<font color='cornflowerblue'>运行类型</font>在<font color='red'>右边.</font>	</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();<span class="comment">//编译类型为Animal,运行类型为Dog,animal这个引用指向了new Dog()对象</span></span><br><span class="line">animal = <span class="keyword">new</span> <span class="title class_">Cat</span>();<span class="comment">//编译类型为Animal,运行类型为Cat</span></span><br></pre></td></tr></table></figure>

<h5 id="多态的细节"><a href="#多态的细节" class="headerlink" title="多态的细节:"></a>多态的细节:</h5><h6 id="多态的向上转型"><a href="#多态的向上转型" class="headerlink" title="多态的向上转型:"></a>多态的向上转型:</h6><blockquote>
<p>本质:<font color='orange'>父类的引用指向了子类的对象</font></p>
<p>语法:  <font color='green'>父类	引用名</font>	&#x3D;	<font color='pink'>new	子类类型( )</font>;</p>
<p>可以<font color='cornflowerblue'>调用父类中的所有成员</font>(需要<font color='red'>遵循访问规则</font>),但<font color='red'>不可以</font>调用<font color='green'>子类的特有方法</font></p>
<p>在<font color='yellow'>编译阶段</font>,能<font color='orange'>调用哪些成员</font>,是由<font color='red'>编译类型</font>实现决定的,而最终运行效果看子类(<font color='red'>运行类型</font>),即调用方法时,按照从<font color='green'>子类(运行类型)查找方向,然后调用</font>,<font color='yellow'>规则依旧</font>.</p>
</blockquote>
<h6 id="多态的向下转型"><a href="#多态的向下转型" class="headerlink" title="多态的向下转型:"></a>多态的向下转型:</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Animal</span>	<span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();<span class="comment">//编译类型为Animal,运行类型皆为Cat</span></span><br><span class="line"><span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> (Cat) animal;<span class="comment">//编译类型与运行类型皆为Cat</span></span><br><span class="line"><span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> (Dog) cat <span class="comment">// ×</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>语法:	<font color='cornflowerblue'>子类类型		引用名		&#x3D;			(子类类型)			父类引用</font></p>
</blockquote>
<p>只可强转<font color='orange'>父类引用</font>,不可强转<font color='orange'>父类的对象</font></p>
<p>要求父类的引用必须指向的是当前目标类型的对象.</p>
<p>向下转型后,可以调用<font color='pink'>子类类型</font>的<font color='cornflowerblue'>所有成员.</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Base</span> <span class="variable">base</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Sub</span>();</span><br><span class="line">System.out.println(base.count);<span class="comment">// 10		看编译类型</span></span><br><span class="line"><span class="type">Sub</span> <span class="variable">sub</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">sub</span>();</span><br><span class="line">System.out.println(sub.count);<span class="comment">// 20		看编译类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>:count= <span class="number">10</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sub</span> <span class="keyword">extends</span> <span class="title class_">Base</span>: count=<span class="number">20</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//   属性没有重写,属性值看		编译类型!!!    </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><font color='cornflowerblue'>getClass()</font>:返回<font color='pink'>运行类型</font>;</p>
<p><font color='cornflowerblue'>instanceof</font>:<font color='pink'>比较操作符</font>,用于判断对象的<font color='green'>运行类型</font>是否为<font color='orange'>xxx类型</font>或<font color='orange'>xxx类型的子类型</font></p>
<p>System.out.println(sub instanceof  Base);&#x2F;&#x2F;		true</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Father:	age=<span class="number">40</span>;	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ok</span><span class="params">()</span>&#123;System.out.println(<span class="string">&quot;father&quot;</span>);&#125;</span><br><span class="line">Son:	age=<span class="number">10</span>;	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ok</span><span class="params">()</span>&#123;System.out.println(<span class="string">&quot;son&quot;</span>);&#125;</span><br><span class="line"># 方法看 运行类型 ,	属性看 编译类型 #</span><br><span class="line"><span class="type">Father</span> <span class="variable">father</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">System.out.println(father.age);		<span class="comment">//  40  编译类型</span></span><br><span class="line">father.ok();<span class="comment">//		son    运行类型</span></span><br><span class="line"></span><br><span class="line"><span class="type">Son</span> <span class="variable">son</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">System.out.println(son.age);		<span class="comment">//  10   编译类型</span></span><br><span class="line">son.ok();<span class="comment">//			son		 运行类型</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="string">&quot;hi&quot;</span>;<span class="comment">//向上转型</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> (String) obj;<span class="comment">//向下转型</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">obj1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">5</span>);<span class="comment">//向上转型</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> (String)obj1;<span class="comment">//ClassCastException   指向Integer类的引用不可转成String</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">in1</span> <span class="operator">=</span> (Integer)obj1;<span class="comment">// //向下转型</span></span><br></pre></td></tr></table></figure>

<p>Java的动态绑定：</p>
<p>引入：①当调用<font color='yellow'>对象方法</font>时：<font color='green'>方法</font>与对象的<font color='cornflowerblue'>内存地址&#x2F;地址</font>类型绑定。</p>
<p>​		   ②当调用<font color='yellow'>对象属性</font>时：<font color='green'>没有动态绑定机制</font>，哪里声明，哪里使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    sum()&#123;<span class="keyword">return</span> getI()+<span class="number">10</span>;&#125;</span><br><span class="line">    sum1()&#123;<span class="keyword">return</span> i + <span class="number">10</span>;&#125;</span><br><span class="line">    getI()&#123;<span class="keyword">return</span> i;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">    sum1()&#123;<span class="keyword">return</span> getI()+<span class="number">10</span>;&#125;</span><br><span class="line">    getI()&#123;<span class="keyword">return</span> i;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main:</span><br><span class="line"><span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">System.out.println(a.sum);	<span class="comment">// 20 + 10 = 30</span></span><br><span class="line"><span class="comment">//当调用对象方法时，该方法会与该对象的运行类型绑定。由于B中没有sum方法，就去A中的sum(),sum()调用&#123;return getI()+10;&#125;;由于动态绑定所以就会返回B类查找getI()方法，因为属性没有动态绑定机制，所以 i = 20，getI() = 20，a.sum() = 30。</span></span><br><span class="line">System.out.println(a.sum1);	<span class="comment">// 20 +10 = 30</span></span><br><span class="line"><span class="comment">//自己全都有，自己直接用。</span></span><br></pre></td></tr></table></figure>

<h6 id="多态数组："><a href="#多态数组：" class="headerlink" title="多态数组："></a>多态数组：</h6><p>数组的定义类型为<font color='green'>父类类型</font>。里面保存的为<font color='green'>子类类型</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person[]	person = <span class="keyword">new</span>	<span class="title class_">Person</span>[<span class="number">5</span>];</span><br><span class="line">person[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&quot;jack&quot;</span>,<span class="number">12</span>);</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h6 id="多态参数："><a href="#多态参数：" class="headerlink" title="多态参数："></a>多态参数：</h6><p>方法定义的形参类型为<font color='cornflowerblue'>父类</font>，实际类型为<font color='cornflowerblue'>子类类型</font></p>
<h5 id="和equals（）方法"><a href="#和equals（）方法" class="headerlink" title="&#x3D;&#x3D;和equals（）方法:"></a>&#x3D;&#x3D;和equals（）方法:</h5><p>ctr + b看源码。</p>
<p>String 是 字符串类型，是 <font color='red'>引用类型</font>，因为字符串在实际的开发中使用太频繁。为了执行效率，所以把字符串放到了<font color='yellow'>方法区</font>的<font color='cornflowerblue'>字符串常量池</font>当中。 java中规定，双引号括起来的字符串，是<font color='pink'> 不可变 </font>的，也就是说”abc”自出生到最终死亡，不可变，不能变成”abcd”，也不能变成”ab”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//      ==	： 比较运算符，可判断    基本类型（值）  和    引用类型（地址对象）</span></span><br><span class="line"><span class="comment">//   equals(): 是object方法，默认只能判断引用类型；而子类方法可以重写，例：</span></span><br><span class="line"><span class="comment">//		String 内改成了比较两个字符串   内容   是否相等</span></span><br><span class="line"><span class="comment">// 子类常常重写方法，用于判断内容是否相等。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">in1 = <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">100</span>);</span><br><span class="line">in2 = <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">100</span>);</span><br><span class="line">System.out.println(in1==in2);<span class="comment">//false，两个对象</span></span><br><span class="line">System.out.println(in1.equal(in2));<span class="comment">//true,值相等，重写了equals()方法！！！</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">p1 = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p2 = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p1.name = <span class="string">&quot;Li&quot;</span>;</span><br><span class="line">p2.name = <span class="string">&quot;Li&quot;</span></span><br><span class="line">sout(p1==p2)<span class="comment">//false</span></span><br><span class="line">sout(p1.name==p2.name);<span class="comment">//true，同一地址，常量池</span></span><br><span class="line">sout(p1.name.equals(p2.name));<span class="comment">//true,String重写了equals()方法</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>); </span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>); </span><br><span class="line">sout(s1==s2);<span class="comment">//false</span></span><br><span class="line">sout(s1.equal(s2));<span class="comment">//true,String重写了equals()方法</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>​	Java中：&#x3D;&#x3D;				</p>
<p>​                    ①基本类型：值比较。</p>
<p>​					②引用类型：对象地址。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;Hi&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;Hi&quot;</span>;</span><br><span class="line">sout(str1 == str2);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hi&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">str4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hi&quot;</span>);</span><br><span class="line">sout(str3==str4);<span class="comment">//false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/pic/p6.png" alt="img"></p>
<p>思考：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line"><span class="type">A</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line"><span class="type">A</span> <span class="variable">c</span> <span class="operator">=</span> a;<span class="comment">//里面只有2个对象，c与a指向同一个对象</span></span><br></pre></td></tr></table></figure>

<h5 id="hashCode方法："><a href="#hashCode方法：" class="headerlink" title="hashCode方法："></a>hashCode方法：</h5><p><font color='cornflowerblue'>hash</font>是一个函数，该函数中的实现就是一种算法，就是通过<font color='orange'>一系列的算法</font>来得到一个hash值</p>
<p><font color='cornflowerblue'>hash表</font>，通过<font color='orange'>hash算法得到的hash值</font>存储张hash表中。</p>
<p>①提高具有哈希结构容器的效率！</p>
<p>②两个引用，当同指向<font color='pink'>一个对象</font>，<font color='orange'>哈希值是一样</font>的！如果是<font color='cornflowerblue'>不同对象</font>，<font color='green'>哈希值是不一致</font>的</p>
<p>③哈希值主要是根据<font color='yellow'>地址号</font>来的，<font color='cornflowerblue'>不能完全将哈希值等价于地址</font>，</p>
<p>④如果对象的equals方法被重写，那么对象的HashCode方法也尽量重写。</p>
<h5 id="toString在Object的源码："><a href="#toString在Object的源码：" class="headerlink" title="toString在Object的源码："></a>toString在Object的源码：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getClass().getName() +<span class="comment">//类的全名：包名  +  类名</span></span><br><span class="line">            <span class="string">&quot;@&quot;</span> +</span><br><span class="line">            Integer.toHexString(hashCode());<span class="comment">//将对象的hashCode值转换为16进制的字符串</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>子类往往重写toString()方法，用于返回对象的属性信息。</p>
<h5 id="Java垃圾回收机制："><a href="#Java垃圾回收机制：" class="headerlink" title="Java垃圾回收机制："></a>Java垃圾回收机制：</h5><p>​	finalize方法：</p>
<blockquote>
<p>1.当<font color='yellow'>对象被回收</font>时，系统<font color='cornflowerblue'>自动</font>调用finalize方法，子类可以重写该方法，释放资源。</p>
<p>2.当对象<font color='orange'>不被引用</font>时，（P p &#x3D;new P();p&#x3D;null;），JVM会将对象视为垃圾对象，使用垃圾回收机制销毁对象。销毁前会调用finalize方法。</p>
<p>3.这个是系统自动完成的，也可以人为完成：<font color='pink'>System.gc()</font>;</p>
</blockquote>
<h5 id="对象数组："><a href="#对象数组：" class="headerlink" title="对象数组："></a>对象数组：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person[] people = <span class="keyword">new</span> <span class="title class_">Person</span>[<span class="number">3</span>];</span><br><span class="line">people[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Jack&quot;</span>,<span class="number">12</span>);</span><br><span class="line">people[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Lili&quot;</span>,<span class="number">14</span>);</span><br><span class="line">people[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Bob&quot;</span>,<span class="number">13</span>);</span><br></pre></td></tr></table></figure>



<p>例题1：假定Grand,Father和son在同一个包下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Grand</span>&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">g</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> <span class="keyword">extends</span> <span class="title class_">Grand</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">id</span>  <span class="operator">=</span> <span class="string">&quot;001&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> score;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.g();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//super可以访问的成员：除去父类私有的，都可以。</span></span><br><span class="line">    <span class="comment">//this可以访问的成员:本类都可以</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;Bob&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">g</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="comment">//super可以访问的成员：除去父类私有的，都可以。</span></span><br><span class="line">    <span class="comment">//this可以访问的成员:本类都可以</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例题2：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">C</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> <span class="keyword">extends</span> <span class="title class_">B</span>&#123;&#125;</span><br><span class="line"><span class="type">C</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">C</span>();</span><br><span class="line"><span class="comment">//最先调用父类构造器，但要从子类构造器开始找！！！</span></span><br></pre></td></tr></table></figure>



<h5 id="类变量与类方法："><a href="#类变量与类方法：" class="headerlink" title="类变量与类方法："></a>类变量与类方法：</h5><h6 id="类变量（静态变量）由static修饰："><a href="#类变量（静态变量）由static修饰：" class="headerlink" title="类变量（静态变量）由static修饰："></a>类变量（<font color='pink'>静态变量</font>）由<font color='orange'>static</font>修饰：</h6><p>​	特点：和<font color='green'>该类的所有实例对象共享</font>，任何一个该类的实例去访问它时，取到的值<font color='red'>始终是相同的</font>。同样，任何一个实例去修改它时，修改的也是<font color='red'>同一个变量</font>。</p>
<p>例：public static int count &#x3D; 10;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">main()&#123;</span><br><span class="line">		<span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        <span class="type">A</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        System.out.println(a.num);	<span class="comment">//10</span></span><br><span class="line">        System.out.println(a1.num);	<span class="comment">//10</span></span><br><span class="line">        a.num=<span class="number">13</span>;</span><br><span class="line">        System.out.println(a.num);	<span class="comment">//13</span></span><br><span class="line">        System.out.println(a1.num);	<span class="comment">//13</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>共识：</p>
<p>①static变量被<font color='yellow'>同一个类的所有对象共享</font>。</p>
<p>②static变量在<font color='pink'>类加载</font>的时候就生成，也就是说<font color='pink'>哪怕没有创建对象</font>，<font color='red'>类变量也可以访问</font>，<font color='green'>类变量属于类；</font><font color='red'>类消亡时消亡</font>！</p>
<h5 id="定义语法："><a href="#定义语法：" class="headerlink" title="定义语法："></a>定义语法：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 				访问修饰符	 static		数据类型	 变量名</span></span><br><span class="line"><span class="comment">//                 static   访问修饰符   数据类型   变量名；</span></span><br></pre></td></tr></table></figure>

<p>访问方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类名.类变量  或  对象名.类变量     (访问权限范围与普通范围一样)</span></span><br></pre></td></tr></table></figure>

<p>其他变量叫：<font color='cornflowerblue'>实例变量 &#x2F; 普通变量 &#x2F; 非静态变量</font>；实例变量不能够通过  类名.类变量 来访问。</p>
<h6 id="类变量（静态变量）由static修饰"><a href="#类变量（静态变量）由static修饰" class="headerlink" title="类变量（静态变量）由static修饰:"></a>类变量（<font color='pink'>静态变量</font>）由<font color='orange'>static</font>修饰:</h6><h6 id="定义语法：-1"><a href="#定义语法：-1" class="headerlink" title="定义语法："></a>定义语法：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//		访问修饰符	static		数据返回类型		方法名  () &#123; &#125;</span></span><br><span class="line"><span class="comment">//        static 访问修饰符   数据返回类型     方法名 （）   &#123;&#125;；</span></span><br></pre></td></tr></table></figure>

<h6 id="访问方式："><a href="#访问方式：" class="headerlink" title="访问方式："></a>访问方式：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类名.类方法  或  对象名.类方法     (访问权限范围与普通范围一样)</span></span><br></pre></td></tr></table></figure>

<h6 id="类方法的使用场景："><a href="#类方法的使用场景：" class="headerlink" title="类方法的使用场景："></a>类方法的使用场景：</h6><blockquote>
<p>①当方法中<font color='cornflowerblue'>不涉及任何与对象相关的成员</font>，则可以将该方法设计成静态方法，<font color='pink'>提高开发效率</font>。（比如Math类的方法）</p>
<p>②在实际开发中将通用的方法设计成静态方法，这样<font color='orange'>不用创建对象也可以使用</font>。</p>
</blockquote>
<h6 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h6><blockquote>
<p>1.<font color='cornflowerblue'>类方法</font>和<font color='cornflowerblue'>普通方法</font>都是随着<font color='orange'>类的加载而加载的</font>，将结果信息存储在方法区：<font color='yellow'>类方法中无this的参数，普通方法中隐含this的参数</font><br>2.类方法可以通过<font color='cornflowerblue'>类名调用</font>，也可以通过<font color='cornflowerblue'>对象名调用</font><br>3.<font color='green'>普通方法和对象有关</font>，需要通过对象名调用，比如<font color='pink'>对象名.方法名（参数）</font><br>4.<font color='red'>类方法中不允许使用和对象有关的关键字</font>，比如<font color='red'>this</font>和<font color='red'>super</font>，普通方法（成员方法）可以<br>5.类方法中<font color='red'>只</font>能访问<font color='red'>静态变量</font>或<font color='red'>静态方法</font><br>6.普通成员方法，既可以访问<font color='pink'>非静态成员</font>，也可以访问<font color='pink'>静态成员</font></p>
</blockquote>
<h6 id="main方法："><a href="#main方法：" class="headerlink" title="main方法："></a>main方法：</h6><p>public static void main(String[] args){}<br>1.main方法由<font color='red'>虚拟机</font>调用<br>2.java虚拟机需要调用类的main（）方法，所以该方法必须是public<br>3.java虚拟机在执行main()方法时<font color='orange'>不必创建对象，所以该方法必须是static</font><br>4.该方法接收<font color='yellow'>String类型</font>的<font color='pink'>数组参数</font>，该数组保存执行<font color='green'>java命令时传递给所运行的类的参数</font></p>
<p>对4的说明：（以Idea为例）</p>
<p>方法一：</p>
<p>ideal右上（锤子和run间）点开，找到EditConfigurations，在Program argument一栏里输入</p>
<blockquote>
<p>65 23 24</p>
</blockquote>
<p>开头<font color='orange'>没有空格</font>，不用打<font color='orange'>“ ”</font>，数据间用<font color='orange'>空格分隔</font>；</p>
<p>方法二：</p>
<p>左下的run方法;点击扳手即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class A&#123;</span><br><span class="line">	public static void main(String[] args)&#123;</span><br><span class="line">		 System.out.println(   args[0] );//65</span><br><span class="line">           System.out.println(args[1]);//23</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>提示：</p>
<p>1.在main()方法中，我们可以直接调用main方法所在类的静态方法或静态属性<br>2.<font color='green'>不能直接访问该类中的非静态成员</font>，必须创建<font color='yellow'>该类的一个实例对象后</font>，才能通过这个对象去访问类中的非静态成员</p>
<h5 id="类与对象："><a href="#类与对象：" class="headerlink" title="类与对象："></a>类与对象：</h5><h5 id="OOP（Object-Oriented-Programming）"><a href="#OOP（Object-Oriented-Programming）" class="headerlink" title="OOP（Object-Oriented-Programming）"></a><font color='pink'>OOP（Object-Oriented-Programming）</font></h5><p><font color='orange'>面向对象</font></p>
<h5 id="类："><a href="#类：" class="headerlink" title="类："></a><font color='yellow'><em>类：</em></font></h5><blockquote>
<p>类的三种成员：</p>
<p>​						①：<font color='orange'>成员变量</font></p>
<p>​						②：<font color='orange'>成员方法</font>（method）</p>
<p>​						③：<font color='orange'>构造器</font>（construct）</p>
<p>java中的字段与属性：</p>
<p>​							Java中的<font color='cornflowerblue'>属性</font>(<font color='green'>property</font>)，<font color='yellow'><u>通常可以理解为get和set方法</u></font>。</p>
<p>​							<font color='cornflowerblue'>字段</font>(<font color='green'>field</font>)，通常叫做 “<font color='cornflowerblue'>成员变量</font>”，用来承载数据的。</p>
<p>​							属性实现了对字段的封装：public void <font color='orange'>Set</font>Age()；public void<font color='orange'> Get</font>Age(){};</p>
<p>​							属性是对字段的封装，供外部访问。成员变量最好用private,封装之！</p>
</blockquote>
<h6 id="类的声明："><a href="#类的声明：" class="headerlink" title="类的声明："></a>类的声明：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符]  class 类名 [extends 父类名][implements 接口名]&#123;</span><br><span class="line">    <span class="comment">//类体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="类修饰符："><a href="#类修饰符：" class="headerlink" title="类修饰符："></a>类修饰符：</h6><blockquote>
<p>​	访问修饰符：每个Java程序有且只有一个类是public，<font color='orange'>其他外部类没有访问修饰符</font>。而对于</p>
<p>​                           <font color='green'>内部类</font>可以被<font color='cornflowerblue'>protected</font>和<font color='cornflowerblue'>private</font>及缺省默认（<font color='cornflowerblue'>default</font>）修饰。  </p>
<p>​	非访问修饰符：<font color='cornflowerblue'>abstract</font>和<font color='cornflowerblue'>final</font></p>
</blockquote>
<p><font color='red'>一个Java源文件只能有一个public 类</font>,所有的类都有的父类:Object类</p>
<p>​	<font color='cornflowerblue'>extends</font> :继承的关键字，一个类有且<font color='red'>只有一个</font>父类，即Java支持<font color='red'>单继承</font>，我们可以通过接口和内部类来实现多重继承。</p>
<p>​	<font color='cornflowerblue'>implements</font>:实现接口的关键字，接口可以实现多个，用逗号分隔接口名。</p>
<blockquote>
<p><font color='orange'>继承要写在接口前</font></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>  <span class="keyword">class</span> <span class="title class_">Stu</span>&#123;</span><br><span class="line">    String name;	<span class="comment">//成员变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> age ;<span class="comment">//局部变量</span></span><br><span class="line">    &#125;<span class="comment">//成员方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="成员方法修饰符："><a href="#成员方法修饰符：" class="headerlink" title="成员方法修饰符："></a>成员方法修饰符：</h6><blockquote>
<p>1.访问控制修饰符</p>
<p>公共访问控制符<font color='orange'>public</font>、保护访问控制符<font color='orange'>protected</font>、<font color='orange'>缺省默认访问控制符</font>、私有访问控制符<font color='orange'>private</font></p>
<p>2.非访问控制修饰符</p>
<p>抽象方法控制符<font color='orange'>abstract </font>、静态方法控制符<font color='orange'>static</font> 、最终方法控制符<font color='orange'>final</font> 、本地方法控制符<font color='orange'>native </font>、同步方法控制符<font color='orange'>synchronized</font></p>
</blockquote>
<h6 id="成员变量修饰符"><a href="#成员变量修饰符" class="headerlink" title="成员变量修饰符:"></a>成员变量修饰符:</h6><blockquote>
<p>1.访问控制符: <font color='cornflowerblue'>public	protected		private		默认(default)</font></p>
<p>2.非访问控制符: <font color='cornflowerblue'>static		final</font></p>
<p>未初始化自动赋值:</p>
<p>​	<font color='orange'>byte 0		short 0		int 0		float 0.0f		long 0L		double 0.0D</font></p>
<p><font color='orange'>	boolean false		引用类型:null</font></p>
</blockquote>
<h6 id="局部变量修饰符："><a href="#局部变量修饰符：" class="headerlink" title="局部变量修饰符："></a>局部变量修饰符：</h6><blockquote>
<p>1.访问控制符</p>
<p>公共访问控制符<font color='orange'>public </font>、保护访问控制符<font color='orange'>protected </font>、<font color='orange'>缺省默认访问</font>控制符、私有访问控制符<font color='orange'>private</font>。</p>
<p>2.非访问控制符</p>
<p>静态域修饰符<font color='orange'>static </font>、最终域修饰符 <font color='orange'>final </font>、易失 ( 共享 ) 域修饰符<font color='orange'>volatile</font> 、暂时性域修饰符<font color='orange'>transient</font>。</p>
<p><font color='green'>局部变量必须初始化</font>!!!!</p>
</blockquote>
<p>被static修饰的方法和变量可以直接用: <font color='pink'>类名.变量名</font>访问</p>
<h6 id="成员方法的格式"><a href="#成员方法的格式" class="headerlink" title="成员方法的格式:"></a>成员方法的格式:</h6><blockquote>
<p>[修饰符]&lt;方法返回值的类型&gt;&lt;方法名&gt;([形参列表]){方法体}</p>
<p><font color='cornflowerblue'>方法的重载(overload):</font></p>
<p>​					<font color='yellow'>条件</font>:<font color='orange'>方法同名</font>且<font color='orange'>形式参数不同</font>(只关心这两个)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">show</span><span class="params">(<span class="type">int</span> a, <span class="type">char</span> b, <span class="type">double</span> c)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、<span class="keyword">void</span> <span class="title function_">show</span><span class="params">(<span class="type">int</span> x, <span class="type">char</span> y, <span class="type">double</span> z)</span>&#123;&#125;<span class="comment">// 不是重载，是同一个方法</span></span><br><span class="line"><span class="number">2</span>、<span class="type">int</span> <span class="title function_">show</span><span class="params">(<span class="type">int</span> a, <span class="type">double</span> c, <span class="type">char</span> b)</span>&#123;&#125; <span class="comment">//是重载，顺序不一样也是重载</span></span><br><span class="line"><span class="number">3</span>、<span class="keyword">void</span> <span class="title function_">show</span><span class="params">(<span class="type">int</span> a, <span class="type">double</span> c, <span class="type">char</span> b)</span>&#123;&#125; <span class="comment">//是重载</span></span><br><span class="line"><span class="number">4</span>、<span class="type">boolean</span> <span class="title function_">show</span><span class="params">(<span class="type">int</span> c, <span class="type">char</span> b)</span>&#123;&#125; <span class="comment">//是重载</span></span><br><span class="line"><span class="number">5</span>、<span class="keyword">void</span> <span class="title function_">show</span><span class="params">(<span class="type">double</span> c)</span>&#123; &#125; <span class="comment">//是重载</span></span><br><span class="line"><span class="number">6</span>、<span class="type">int</span> <span class="title function_">show</span><span class="params">(<span class="type">int</span> a, <span class="type">char</span> b, <span class="type">double</span> c)</span>&#123;&#125; <span class="comment">//不是重载</span></span><br></pre></td></tr></table></figure>

<p>调用对象成员的方法:</p>
<p>​	<font color='cornflowerblue'>	对象名.成员属性;</font></p>
<p>​		<font color='cornflowerblue'>对象名.成员方法;</font></p>
</blockquote>
<h6 id="构造方法-construct"><a href="#构造方法-construct" class="headerlink" title="构造方法(construct):"></a>构造方法(construct):</h6><p>用于对对象的初始化.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Cat</span><span class="params">()</span>&#123;&#125;<span class="comment">//创建对象时,系统会自动调用其构造器,完成对对象的初始化,不可人为调用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//构造器的复用:</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">T</span><span class="params">(<span class="type">int</span> a,<span class="type">double</span> b)</span>&#123;<span class="built_in">this</span>.a = a;<span class="built_in">this</span>.b=b;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">T</span><span class="params">(String s)</span>&#123;<span class="built_in">this</span>.s;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">T</span><span class="params">(String s,<span class="type">int</span> a,<span class="type">double</span> b)</span>&#123;<span class="built_in">this</span>(a,b);<span class="built_in">this</span>.s = s&#125;<span class="comment">//复用时必须是第一句</span></span><br></pre></td></tr></table></figure>

<p>main方法是程序的入口,由于main是static,所以<font color='pink'>main方法属于类</font>而非对象.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();<span class="comment">//cat是对象名(对象的引用);  new Cat()创建的对象空间才是真正的对象</span></span><br><span class="line">cat.name = <span class="string">&quot;小白&quot;</span>;</span><br><span class="line">cat.age = <span class="number">12</span>;</span><br><span class="line">cat.color = <span class="string">&quot;白色&quot;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="/pic/p5.png" alt="img"></p>
<p>this关键字:代表<font color='orange'>当前对象</font>.,<font color='yellow'>this在堆里指向自己</font></p>
<blockquote>
<p>1.<font color='cornflowerblue'>先加载Cat类的信息(属性与方法信息,只加载一次);</font></p>
<p>2.<font color='cornflowerblue'>堆中分配空间,进行默认初始化(构造器);</font></p>
<p>3.<font color='cornflowerblue'>把内存地址赋给p,p指向对象</font></p>
<p>4.<font color='cornflowerblue'>进行指定初始化</font></p>
</blockquote>
<h6 id="Java的内存结构分析"><a href="#Java的内存结构分析" class="headerlink" title="Java的内存结构分析:"></a>Java的内存结构分析:</h6><blockquote>
<p><font color='green'>栈</font>:	一般存放<font color='yellow'>基本数据类型</font>(局部变量)</p>
<p><font color='green'>堆</font>:	存放<font color='yellow'>对象</font>(Cat cat,数组….)</p>
<p><font color='green'>方法区</font>: <font color='yellow'>常量池(</font>常量:字符串……),<font color='yellow'>类加载信息</font></p>
</blockquote>
<h6 id="方法的调用"><a href="#方法的调用" class="headerlink" title="方法的调用:"></a>方法的调用:</h6><blockquote>
<p>a.当程序执行到方法时,会在栈里开辟一个空间(入栈)(先进后出)</p>
<p>b.执行完毕或到return时,返回调用处(出栈)</p>
<p>c.继续执行后面的代码</p>
<p>d.当mian方法退出后,整个程序退出</p>
</blockquote>
<p>形参列表: 可以有0~多个参数,可以为<font color='cornflowerblue'>基本数据类型</font>或<font color='cornflowerblue'>引用类型</font></p>
<p>成员方法的传参机制:</p>
<p>​									<font color='yellow'>基本数据类型</font>:传递的是<font color='orange'>值</font>.<em>形参的改变不影响实参</em></p>
<p>​									<font color='yellow'>引用数据类型</font>:传递的是<font color='orange'>地址</font>,<em>可通过形参改变实参.</em></p>
<h6 id="递归调用"><a href="#递归调用" class="headerlink" title="递归调用:"></a>递归调用:</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">片段一:</span><br><span class="line"><span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">t.test(<span class="number">4</span>);</span><br><span class="line">片段二:</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(n&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			test(n-<span class="number">1</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>递归没有退出方法的话,会发生栈溢出,(StackOverFlowError)</p>
<blockquote>
<p>可变参数:Java允许将同一个类中多个同名同功能,但参数不同的方法封装成一个方法.</p>
<p>语法:		<font color='orange'>访问修饰符	返回类型		方法名 (数据类型…形参名)</font></p>
<p>实参可以为0~多个,其本质是<font color='cornflowerblue'>数组</font>,一个形参列表只可以有一个可变形参.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public void test(int...num,double...num1)&#123;&#125;//error</span><br></pre></td></tr></table></figure>


</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">(<span class="type">int</span> a,<span class="type">double</span> b,dint ... num)</span>&#123;<span class="comment">//必须在最后面</span></span><br><span class="line">	System.out.ptinln(num.length);<span class="comment">//传入多少,输出多少</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font color='green'>&#96;成员变量</font>和<font color='green'>局部变量</font>可以<font color='orange'>重名</font>,遵循<font color='red'>就近原则</font></p>
<p>数学派:Math.PI,直接调用.</p>
<h5 id="包"><a href="#包" class="headerlink" title="包:"></a>包:</h5><blockquote>
<p>实际上是<font color='cornflowerblue'>创建不同文件夹来保存类文件</font></p>
<p>当一个源程序中有两个类同名时,一个包:<font color='yellow'>import包名</font>,另一个用<font color='yellow'>包名.类名</font>来代替类名.</p>
</blockquote>
<h6 id="包的命名"><a href="#包的命名" class="headerlink" title="包的命名:"></a>包的命名:</h6><p>只能含<font color='orange'>数字</font>,<font color='orange'>字母</font>,<font color='orange'>下滑线</font>,<font color='orange'>小圆点</font>.<font color='yellow'><em>不可以用数字开头</em></font><font color='green'>,不可以是关键字或保留字</font>.</p>
<h6 id="命名规范一般是"><a href="#命名规范一般是" class="headerlink" title="命名规范一般是:"></a>命名规范一般是:</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">com.公司名.项目名.业务模块名</span><br><span class="line">例:com.sina.crm.user</span><br></pre></td></tr></table></figure>

<h6 id="常见的包"><a href="#常见的包" class="headerlink" title="常见的包:"></a>常见的包:</h6><blockquote>
<p><font color='orange'>Java.lang.*</font>		&#x2F;&#x2F;lang包是<font color='yellow'>基本包</font>,默认导入</p>
<p><font color='orange'>Java.util.*</font>		&#x2F;&#x2F;util包是系统提供的<font color='yellow'>工具包,工具类</font>,例:Scanner</p>
<p><font color='orange'>Java.net.*</font>		&#x2F;&#x2F;<font color='yellow'>网络开发包</font></p>
<p><font color='orange'>Java.awt.*</font>		&#x2F;&#x2F;Java的<font color='yellow'>界面开发GUI</font></p>
</blockquote>
<h6 id="包的导入"><a href="#包的导入" class="headerlink" title="包的导入:"></a>包的导入:</h6><blockquote>
<p><font color='cornflowerblue'>import     包名</font></p>
</blockquote>
<p>在源文件头部有一个声明当前包的位置的,例:</p>
<p>​					package com.reona.edu.UDP01;</p>
<p>import放在包后,且没有顺序要求.</p>
<table>
<thead>
<tr>
<th align="center">访问级别</th>
<th align="center">访问控制修饰符</th>
<th align="center">同类</th>
<th align="center">同包</th>
<th align="center">子类</th>
<th align="center">不同包</th>
</tr>
</thead>
<tbody><tr>
<td align="center">公开</td>
<td align="center">public</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">受保护的</td>
<td align="center">protected</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">默认</td>
<td align="center">没有修饰符</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
<tr>
<td align="center">私有</td>
<td align="center">private</td>
<td align="center">√</td>
<td align="center">×</td>
<td align="center">×</td>
<td align="center">×</td>
</tr>
</tbody></table>
<p>注意<font color='red'>:只有默认和public可以修饰类.</font></p>
<h5 id="代码块与final"><a href="#代码块与final" class="headerlink" title="代码块与final:"></a>代码块与final:</h5><h6 id="基本介绍："><a href="#基本介绍：" class="headerlink" title="基本介绍："></a>基本介绍：</h6><blockquote>
<p>代码块又称为<font color='cornflowerblue'>初始化块</font>。属于<font color='pink'>类的成员</font><font color='cornflowerblue'>类似于方法</font>，将逻辑语句封装在方法里，通过<font color='orange'>{  }</font>包围</p>
<p>但又与方法不同，<font color='green'>没有方法名</font>，<font color='green'>没有返回类型</font>，<font color='green'>没有参数</font>，<font color='orange'>只有方法体</font>，而且不通过对象或类来显示调用，而是<font color='orange'>类加载时</font>，或<font color='orange'>创建对象时</font><font color='yellow'>隐式的调用</font>。</p>
</blockquote>
<h6 id="基本语法："><a href="#基本语法：" class="headerlink" title="基本语法："></a>基本语法：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符]  &#123;</span><br><span class="line">	代码；</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>说明：</p>
<blockquote>
<p>1）修饰符只有<font color='red'>static</font>和<font color='red'>默认无</font>这两种</p>
<p>2）代码块分为<font color='orange'>静态代码块</font>和<font color='orange'>普通代码块</font>（<font color='orange'>非静态代码块</font>）</p>
<p>3）最好带上      <font color='cornflowerblue'>；</font></p>
</blockquote>
<h6 id="代码块的理解："><a href="#代码块的理解：" class="headerlink" title="代码块的理解："></a>代码块的理解：</h6><blockquote>
<p>①相当于另外一种形式的构造器（<font color='cornflowerblue'>对构造器的补充</font>），可以做<font color='cornflowerblue'>初始化操作</font>。</p>
</blockquote>
<h6 id="使用场景："><a href="#使用场景：" class="headerlink" title="使用场景："></a>使用场景：</h6><blockquote>
<p>多个构造器有重复语句，可抽取到代码块中，提高代码的复用率。无论调用哪个构造器创建对象，都会<font color='red'>先</font>调用代码块的内容。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">A</span><span class="params">()</span>&#123;System.out.println(<span class="string">&quot;A构造器&quot;</span>);&#125;</span><br><span class="line">     &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B代码块&quot;</span>);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main:</span><br><span class="line"><span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">result: </span><br><span class="line">B代码块</span><br><span class="line">A构造器    </span><br></pre></td></tr></table></figure>

<h6 id="（static代码块）静态代码块："><a href="#（static代码块）静态代码块：" class="headerlink" title="（static代码块）静态代码块："></a><font color='cornflowerblue'>（static代码块）静态代码块：</font></h6><p>作用：<font color='yellow'>对类的初始化</font></p>
<p>随着<font color='red'>类</font>的加载而执行，且<font color='red'>只</font>执行<font color='red'>一</font>次！！！而非静态代码块（普通代码块）<font color='green'>对象实例创建一次，就执行一次</font>。</p>
<h6 id="类什么时候被加载："><a href="#类什么时候被加载：" class="headerlink" title="类什么时候被加载："></a>类什么时候被加载：</h6><blockquote>
<p>①：<font color='orange'>创建实例对象</font>的时候（new）;</p>
<p>②：创建<font color='cornflowerblue'>子类实例对象</font>的时候，父类也会被加载；</p>
<p>③：使用<font color='yellow'>类的静态成员（</font>静态方法，静态属性）（代码块用static）</p>
</blockquote>
<h6 id="普通代码块："><a href="#普通代码块：" class="headerlink" title="普通代码块："></a>普通代码块：</h6><p><font color='pink'>创建对象的时候会被隐式的调用</font>，创建一次就执行一次，如果是调用类的静态成员时，普通代码块并不会执行。</p>
<h6 id="调用顺序："><a href="#调用顺序：" class="headerlink" title="调用顺序："></a>调用顺序：</h6><blockquote>
<p>①：最先调用的是<font color='green'>静态代码块</font>和<font color='green'>静态属性</font>初始化，二者优先级相同，按<font color='pink'>顺序</font>来执行。</p>
<p>②：调用<font color='cornflowerblue'>普通代码块</font>和<font color='cornflowerblue'>普通属性</font>,二者优先级相同，按<font color='pink'>顺序</font>来执行。</p>
<p>③：最后调用<font color='yellow'>构造方法</font>。</p>
</blockquote>
<p><font color='red'>静态代码块</font>和<font color='red'>静态属性</font>优先级高于<font color='orange'>普通代码块</font>和<font color='yellow'>构造器</font>。</p>
<p>例子：new 一个子类：</p>
<blockquote>
<p>①最先调用<font color='red'>父类</font>的<font color='orange'>静态代码块</font>和<font color='orange'>静态属性</font>（优先级一样，按定义顺序执行）</p>
<p>②调用<font color='cornflowerblue'>子类</font>的<font color='yellow'>静态代码块</font>和<font color='yellow'>静态属性</font>（优先级一样，按定义顺序执行）</p>
<p>③调用<font color='red'>父类</font>的<font color='orange'>普通代码块</font>和<font color='orange'>普通属性</font>（优先级一样，按定义顺序执行）</p>
<p>④<font color='red'>父类</font><font color='pink'>构造器</font></p>
<p>⑤调用<font color='cornflowerblue'>子类</font>的<font color='yellow'>普通代码块</font>和<font color='yellow'>普通属性</font>（优先级一样，按定义顺序执行）</p>
<p>⑥<font color='cornflowerblue'>子类</font><font color='pink'>构造器</font></p>
</blockquote>
<p><font color='orange'>静态代码块</font><font color='red'>只</font>可以调用<font color='cornflowerblue'>静态成员</font>（<font color='pink'>静态属性</font>和<font color='pink'>静态方法</font>），普通代码块可以<font color='green'>调用任意可以访问的成员</font>。</p>
<h6 id="fianl关键字："><a href="#fianl关键字：" class="headerlink" title="fianl关键字："></a>fianl关键字：</h6><p>final可以修饰<font color='orange'>类</font>，<font color='yellow'>属性</font>，<font color='pink'>方法</font>，<font color='red'>局部变量</font>。</p>
<p>①：<font color='cornflowerblue'>不希望类被继承</font>时，可以用final继承。fianl class A{}</p>
<p>②：<font color='cornflowerblue'>不希望父类的某个方法被重写&#x2F;覆盖</font>，用final。访问修饰符	fianl	返回类型	方法名（）{ }</p>
<p>③：<font color='cornflowerblue'>不希望父类的某个属性的值被修改</font>，使用final。例：public final double TAX &#x3D; 0.8;</p>
<p>④：<font color='cornflowerblue'>不希望某个局部变量被修改</font>，使用final。例：final double TAX &#x3D; 0.8;</p>
<p>final使用的注意是事项：</p>
<blockquote>
<p>①fianl修饰的属性又叫常量，一般使用<font color='green'>XXX_XXX_XXX</font>来命名。</p>
<p>②final修饰的属性在定义时<font color='pink'>必须赋初值</font>，并且<font color='orange'>不可修改</font>。</p>
</blockquote>
<p>final类的赋值：</p>
<blockquote>
<p>①：<font color='orange'>定义时</font>；public final int age &#x3D; 18;</p>
<p>②：<font color='orange'>在构造器中</font>。</p>
<p>③：<font color='orange'>在代码块中</font>。</p>
<p>如果final修饰的是静态的属性：</p>
<p>①：<font color='pink'>定义时</font>；②<font color='pink'>静态代码块中</font>（<font color='yellow'>构造器不可以了</font>）</p>
<p><font color='red'>final类不可以被继承</font>，但可以<font color='orange'>实例化对象</font>。</p>
<p>如果类不是final类，但有f<font color='yellow'>inal方法</font>，该方法<font color='green'>不可以重写</font>，但可以继承。</p>
<p>一般来说，如果一个类已经是final类了，就没有必要将方法修饰成fianl类了，final不可以修饰构造器。</p>
<p><font color='cornflowerblue'>final</font>与<font color='cornflowerblue'>static</font>搭配使用，<font color='cornflowerblue'>效率更高</font>，不会导致类加载，底层编译器做了优化。</p>
</blockquote>
<p>final的例子：</p>
<p>包装类：Integer，Double，Float，Boolean……String也是final。</p>
<h5 id="抽象类："><a href="#抽象类：" class="headerlink" title="抽象类："></a>抽象类：</h5><p>当父类的某些方法需要声明，但又不确定如何实现时，可以将其声明为<font color='orange'>抽象方法</font>，而<font color='orange'>类</font>也必须变成<font color='orange'>抽象类</font>。</p>
<p>抽象方法即是<font color='red'>没有方法体</font>。</p>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">	Srting name;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">Say</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font color='cornflowerblue'>抽象方法</font>所在的<font color='cornflowerblue'>类</font>必须为<font color='orange'>抽象类</font></p>
<p>抽象类<font color='red'>可以继承</font>，子类<font color='yellow'>可以实现抽象方法</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//抽象类:</span></span><br><span class="line">访问修饰符	<span class="keyword">abstract</span>	类名&#123;  &#125;</span><br><span class="line"><span class="comment">//抽象方法：</span></span><br><span class="line">访问修饰符	<span class="keyword">abstract</span>   方法名(参数方法);		<span class="comment">//没有方法体。</span></span><br></pre></td></tr></table></figure>

<p>抽象类的价值更多的作用在于设计，让子类继承并实现抽象类()；</p>
<h6 id="注意事项：-1"><a href="#注意事项：-1" class="headerlink" title="注意事项："></a>注意事项：</h6><blockquote>
<p>①：抽象类<font color='red'>不可以被实例化</font>。</p>
<p>②：抽象类<font color='orange'>不一定包含abstract方法(]可有可无)</font>。</p>
<p>③：一旦一个类<font color='yellow'>包含了抽象方法</font>，该类必须变成<font color='yellow'>抽象类</font>。</p>
<p>④：abstract只能够修饰<font color='green'>类</font>和<font color='green'>方法</font>，<font color='cornflowerblue'>不能修饰属性和其他的</font>。</p>
<p>⑤：抽象类可以有<font color='pink'>任何成员[抽象类本质还是类]</font>，比如：<font color='orange'>非抽象方法，构造器，静态属性</font>……</p>
<p>⑥：抽象方法<font color='red'>不能有主体</font>，即不能实现。</p>
<p>⑦：如果一个类<font color='orange'>继承</font>了抽象类，则它<font color='orange'>必须实现</font>抽象类的<font color='orange'>所有抽象方法</font>，除非自己也声明成abstract。</p>
<p>⑧：抽象方法<font color='red'>不能</font>属于<font color='red'>private</font>，<font color='red'>final</font>，<font color='red'>static</font>来修饰，因为这些<font color='orange'>关键字与重写相违背</font>。</p>
<blockquote>
<p>1）：abstract final class A（）{ }   &#x2F;&#x2F;  ×，final类不可继承</p>
<p>2）：abstract public  static void test（）；&#x2F;&#x2F; ×，static 不可重写</p>
</blockquote>
</blockquote>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h5 id="接口："><a href="#接口：" class="headerlink" title="接口："></a>接口：</h5><p>接口就是给出一些没有实现的方法，封装在一起，到某个类要使用的时候，再根据情况把方法实现。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">interface 接口名	&#123;</span><br><span class="line">	<span class="comment">//属性</span></span><br><span class="line">	<span class="comment">//方法  （1）抽象方法（可以省略abstract关键字）</span></span><br><span class="line">		   （<span class="number">2</span>）默认实现方法（用<span class="keyword">default</span>修饰，只有这样才是默认方法）（jdk8后）</span><br><span class="line">		   （<span class="number">3</span>）可以有静态方法（jdk8后）</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class 类名 implements 接口&#123;</span><br><span class="line">    <span class="comment">//自己的属性与方法。</span></span><br><span class="line">    <span class="comment">//必须实现的接口的抽象方法。</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//jdk7前，接口的所有方法都没有方法体，即都是抽象方法。</span></span><br><span class="line"><span class="comment">//jdk8后，接口可以有静态方法，默认方法，即接口中可以有接口的具体实现。</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>①：接口<font color='red'>不能被实例化</font>。</p>
<p>②：接口里的所有方法都是<font color='red'>public</font>方法，接口中的抽象方法，可以<font color='yellow'>不用abstract修饰</font>，比如：</p>
<p><font color='green'>void add(){}</font>;实际上为 <font color='green'>abstract void add(){}</font></p>
<p>③：一个普通类实现了接口。就必须将该接口的<font color='orange'>所有方法实现</font>！</p>
<p>④：<font color='pink'>抽象类实现接口，可以不用实现接口的方法</font>。</p>
<p>⑤：一个类可以<font color='orange'>同时实现</font><font color='cornflowerblue'>多个接口</font>。</p>
<p>⑥：接口中的属性只能是final，而且是<font color='red'>public	static	final</font>修饰符，例如：</p>
<p><font color='green'>int a &#x3D; 1</font>;实际为<font color='green'>public static  final int a &#x3D; 1</font>;</p>
<p>⑦：接口属性的访问方法：<font color='red'>接口名.属性名</font>；</p>
</blockquote>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">23</span>;<span class="comment">//等价于public static final a = 23;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">implements</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="comment">//空着是对的，因为是方法要必须实现！</span></span><br><span class="line">&#125;</span><br><span class="line">mian:</span><br><span class="line"><span class="type">B</span>  <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">sout(b.a);<span class="comment">//23</span></span><br><span class="line">sout(A.a);<span class="comment">//23</span></span><br><span class="line">sout(B.a);<span class="comment">//23(static)</span></span><br></pre></td></tr></table></figure>

<p>接口是对Java单继承机制的丰富与补充，子类在接口的作用下，可增添不同功能。</p>
<h6 id="继承与接口："><a href="#继承与接口：" class="headerlink" title="继承与接口："></a>继承与接口：</h6><blockquote>
<p>①：继承：解决代码的复用性和可维护性。</p>
<p>②：接口：设计好各种规范方法，让其他类来实现，更加的灵活。</p>
</blockquote>
<h6 id="接口的多态："><a href="#接口的多态：" class="headerlink" title="接口的多态："></a>接口的多态：</h6><blockquote>
<p>①：多态参数</p>
<p>Usb  usb，既可以接受<font color='green'>手机对象</font>，又可以接收<font color='green'>MP3对象</font>，就是实现了接口多态（接口引用可以指向实现了接口的类的对象）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line"><span class="keyword">public</span>   <span class="keyword">void</span> <span class="title function_">click</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span> <span class="keyword">implements</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;手机响了&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mp3</span> <span class="keyword">implements</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;MP3响了&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main:</span><br><span class="line">     <span class="type">Usb</span> <span class="variable">phone</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Phone</span>();</span><br><span class="line">     <span class="type">Usb</span> <span class="variable">mp3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Mp3</span>();</span><br><span class="line">     phone.click();</span><br><span class="line">     mp3.click();</span><br></pre></td></tr></table></figure>

<p>②：多态数组：</p>
<p>在<font color='yellow'>Usb数组</font>中存放<font color='orange'>手机</font>和<font color='orange'>MP3对象</font>,在调用类的特有方法时要先用instanceof方法判断运行类型再调用。</p>
<p>③：接口存在多态传递现象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Usb[] usbs = <span class="keyword">new</span> <span class="title class_">Usb</span>[<span class="number">2</span>];</span><br><span class="line">usbs[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Phone</span>();</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="多态传递："><a href="#多态传递：" class="headerlink" title="多态传递："></a>多态传递：</h6><blockquote>
<p>如果接口Ⅰ<font color='red'>继承</font>（接口间<font color='orange'>只</font>可以继承）了接口Ⅱ，而类实现了接口Ⅰ，那么实际上，该类也实现了接口Ⅱ（且接口Ⅰ和接口Ⅱ的<font color='red'>方法都要重写</font>！）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line"><span class="keyword">public</span>   <span class="keyword">void</span> <span class="title function_">click</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span>  <span class="title class_">Usb1</span> <span class="keyword">extends</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click1</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span> <span class="keyword">implements</span> <span class="title class_">Usb1</span>&#123;</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click1</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;Usb1&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;USb&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line">   <span class="keyword">public</span>   <span class="keyword">void</span> <span class="title function_">click</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span> <span class="keyword">implements</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">23</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;USb&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main:</span><br><span class="line"><span class="type">Phone</span> <span class="variable">phone</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Phone</span>();</span><br><span class="line"><span class="type">Usb</span> <span class="variable">phone1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Phone</span>(); </span><br><span class="line">sout(phone1.a);<span class="comment">//12</span></span><br><span class="line">sout(phone.a);<span class="comment">//23		属性没有动态绑定，看编译类型</span></span><br></pre></td></tr></table></figure>

<h5 id="类的五大成员："><a href="#类的五大成员：" class="headerlink" title="类的五大成员："></a>类的五大成员：</h5><blockquote>
<p>①<font color='cornflowerblue'>构造器</font>	②<font color='cornflowerblue'>代码块</font>	③<font color='cornflowerblue'>属性</font>	④<font color='cornflowerblue'>方法</font>	⑤<font color='cornflowerblue'>内部类</font></p>
</blockquote>
<h6 id="内部类："><a href="#内部类：" class="headerlink" title="内部类："></a>内部类：</h6><p>一个类的内部类又完整的嵌套了另一个类的结构，被嵌套的为内部类，</p>
<p>特点：</p>
<blockquote>
<p>特点：可以直接访问私有属性，且体现了类与类的包含关系。</p>
</blockquote>
<h6 id="基本语法：-1"><a href="#基本语法：-1" class="headerlink" title="基本语法："></a>基本语法：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">outer</span>&#123;  <span class="comment">//外部类</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">inner</span>&#123;</span><br><span class="line">		<span class="comment">//内部类</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">other</span>&#123;</span><br><span class="line">	<span class="comment">//外部其他类</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="内部类的分类："><a href="#内部类的分类：" class="headerlink" title="内部类的分类："></a>内部类的分类：</h6><blockquote>
<p>①：定义在外部类<font color='yellow'>局部位置</font>上（<font color='yellow'>比如方法</font>）</p>
<p>​	a:<font color='pink'>局部内部类</font>（<font color="lightblue">有类名</font>）</p>
<p>​	b:<font color='pink'>匿名内部类</font>（<font color='cornflowerblue'>没有类名</font>）</p>
<p>②：定义在<font color='yellow'>外部类的成员位置上</font></p>
<p>​	a:<font color='pink'>成员内部类</font>（<font color= "purple">没有用static修饰</font>）；</p>
<p>​	b:<font color='pink'>静态内部类</font>（<font color='green'>使用static内部类修饰</font>）；</p>
</blockquote>
<h6 id="局部内部类："><a href="#局部内部类：" class="headerlink" title="局部内部类："></a>局部内部类：</h6><p>说明：局部内部类是定义在外部类的局部位置，比如方法中，并且有方法名。（很像<font color='orange'>因为其在方法中</font>）</p>
<p>1.可以<font color='red'>直接访问外部类的所有成员</font>，包括<font color='red'>私有</font>的。</p>
<p>2.<font color='pink'>不可以</font><font color='orange'>添加</font><font color='yellow'>访问修饰符</font>，因为它的地位相同于<font color='green'>局部变量</font>，其不可用于访问修饰符，但<font color='cornflowerblue'>可以用final</font>修饰，因为局部变量也可用final，且不可被继承。</p>
<p>3.作用域：仅仅在定义它的<font color='orange'>方法</font>或<font color='orange'>代码块</font>中。</p>
<p>4.局部内部类的访问:</p>
<blockquote>
<p>方式一：<font color='pink'>局部内部类</font>—&gt;<font color='pink'>访问</font>—&gt;<font color='pink'>外部类成员</font>（访问方式：<font color='green'>直接访问</font>）</p>
<p>方式二：<font color='orange'>外部类</font>—&gt;<font color='orange'>访问</font>—&gt;<font color='orange'>局部内部类成员</font>（访问方式：<font color='cornflowerblue'>创建对象，再调用方法访问</font>）</p>
<p>方式三：外部其他类<font color='red'>不能访问</font>局部内部类（局部内部类是局部变量）；</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;this is s1 in Outer&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">s_outer</span> <span class="operator">=</span> <span class="string">&quot;this is s_outer in Outer&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">method1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;this is method1 in Outer&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;this is method2 in Outer&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method3</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">String</span> <span class="variable">s_method</span> <span class="operator">=</span> <span class="string">&quot;this is s_method in method3&quot;</span>;<span class="comment">//必须是fianl</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;this is s1 in Inner&quot;</span>;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 内部类访问外部方法的变量，需要有final修饰</span></span><br><span class="line">                System.out.println(s_method);<span class="comment">//内部类访问包含他的方法中的变量必须有final修饰；</span></span><br><span class="line">                <span class="comment">// 局部内部类可直接访问外部类的变量，即使是私有的</span></span><br><span class="line">                System.out.println(s_outer);</span><br><span class="line">                <span class="comment">// 内部类和外部类有同名变量和方法时</span></span><br><span class="line">                System.out.println(s1);<span class="comment">//this is s1 in Inner</span></span><br><span class="line">                System.out.println(Outer.<span class="built_in">this</span>.s1);<span class="comment">//this is s1 in Outer</span></span><br><span class="line">                System.out.println(method2());<span class="comment">//this is method2 in Inner</span></span><br><span class="line">                System.out.println(Outer.<span class="built_in">this</span>.method2());<span class="comment">//this is method2 in Outer</span></span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">private</span> String <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;this is method2 in Inner&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        inner.method1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">main:</span><br><span class="line">	<span class="type">Outer</span> <span class="variable">outer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>();</span><br><span class="line">	outer.method3();</span><br></pre></td></tr></table></figure>

<p>5：当<font color='cornflowerblue'>外部类</font>与<font color='cornflowerblue'>局部内部类成员</font><font color='pink'>重名</font>时，想要访问外部类的成员时，请使用：<font color='orange'>外部类.this.成员</font></p>
<p>6.在外部类中<font color='yellow'>不能创建内部类的实例</font>。</p>
<h6 id="匿名内部类："><a href="#匿名内部类：" class="headerlink" title="匿名内部类："></a>匿名内部类：</h6><p>对比：</p>
<p>传统方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Interface01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        b.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">implements</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;正在调用eat方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>匿名内部类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Interface01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">A</span>()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;正在调用eat方法&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	</p>
<p>作用：对于一次性的接口和类的使用更简单，方便。</p>
<blockquote>
<p>a.本质是类		b.内部类		c.该类没有名字	d.同时也是一个对象</p>
</blockquote>
<h6 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 类 或 接口( 参 数 列 表 )&#123;</span><br><span class="line">	<span class="comment">//     类体</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">IA</span> <span class="variable">ia</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IA</span>()&#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;您好！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        ia.say();<span class="comment">//			您好！</span></span><br><span class="line">        System.out.println(ia.getClass());<span class="comment">//		Test$1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">IA</span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>底层：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class 外部类名$<span class="number">1</span> <span class="keyword">implements</span> <span class="title class_">IA</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>匿名内部类仅可以<font color='green'>使用一次</font>，是唯一一种<font color='red'>没有构造器</font>的类，匿名内部类<font color='cornflowerblue'>不能存在</font>任何<font color='orange'>静态的变量</font>、<font color='orange'>方法</font>等</p>
<p>要实现原类的方法，而<font color='cornflowerblue'>抽象类必须实现抽象方法</font>！</p>
<p>说明：</p>
<blockquote>
<p>①：匿名内部类既是类的定义，本身也是一个对象。</p>
<p>②：调用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>()&#123;							<span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>()&#123;	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;							<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">		......											......</span><br><span class="line">	&#125;										   &#125;</span><br><span class="line">&#125;;										&#125;.say();</span><br><span class="line">a.say</span><br></pre></td></tr></table></figure>

<p>③：可以访问<font color='pink'>外部类</font>的<font color='yellow'>所有成员</font>，包括<font color='orange'>私有</font>。</p>
<p>④：<font color='cornflowerblue'>不可添加修饰符</font>，它的地位是<font color='orange'>局部变量</font>。</p>
<p>⑤：作用域：定义它的<font color='green'>代码块</font>或<font color='green'>方法</font>中。</p>
<p>⑥：<font color='cornflowerblue'>匿名内部类—》访问—》外部类</font>(<font color='orange'>直接访问</font>)</p>
<p>⑦：<font color='pink'>外部其他区类不可访问匿名内部类（尤其是局部变量）</font></p>
<p>⑧：外部类与匿名内部类成员<font color='yellow'>同名</font>时，访问外部类的用:<font color='red'>外部类名.this.成员名</font>。（访问匿名内部类所在方法的对象）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Outter</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Ia</span> <span class="variable">ia</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ia</span>()&#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">22</span>;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">see</span><span class="params">()</span>&#123;</span><br><span class="line">                System.out.println(num);<span class="comment">//22</span></span><br><span class="line">                System.out.println(Outter.<span class="built_in">this</span>.num);<span class="comment">//12</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">       ia.see();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Ia</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">see</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main:</span><br><span class="line"><span class="type">Outter</span> <span class="variable">outter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outter</span>();</span><br><span class="line">outter.say();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Outter</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Ia</span> <span class="variable">ia</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ia</span>(<span class="number">166</span>)&#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">see</span><span class="params">()</span>&#123;</span><br><span class="line">                System.out.println(a);<span class="comment">//166，参数会自动传给构造器</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">       ia.see();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ia</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Ia</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.a = a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> a;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">see</span><span class="params">()</span>&#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main:</span><br><span class="line"><span class="type">Outter</span> <span class="variable">outter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outter</span>();</span><br><span class="line">outter.say();</span><br></pre></td></tr></table></figure>

<h5 id="成员内部类："><a href="#成员内部类：" class="headerlink" title="成员内部类："></a>成员内部类：</h5><p>成员内部类是定义在外部类的<font color='green'>成员位置</font>，并且<font color='red'>没有static修饰</font>（不然，就是静态内部类了）。</p>
<h6 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h6><p>可以<font color='orange'>直接访问</font>外部类的<font color='pink'>所有成员</font>。</p>
<h6 id="作用域"><a href="#作用域" class="headerlink" title="作用域:"></a>作用域:</h6><blockquote>
<p>与<font color='cornflowerblue'>外部类的成员</font>一样</p>
</blockquote>
<p>访问方式：</p>
<blockquote>
<p>①：<font color='cornflowerblue'>成员内部类</font>—–&gt;<font color='yellow'>访问</font>——&gt;<font color='green'>外部类成员</font>（<font color='orange'>直接访问</font>）</p>
<p>②：<font color='green'>外部类</font>——&gt;<font color='cornflowerblue'>访问</font>——-&gt;<font color='yellow'>成员内部类</font>(创建对象，再访问)</p>
<blockquote>
<p>格式： <font color='red'>O</font>utter.<font color='red'>I</font>nner inner &#x3D; outter.new Inner();</p>
</blockquote>
</blockquote>
<p>可以添加任意访问修饰符（默认，private，public，protected）因为其地位是成员；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Outter</span> <span class="variable">outter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outter</span>();</span><br><span class="line">        Outter.<span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> outter.<span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        inner.say();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outter</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">Inner</span>&#123;</span><br><span class="line">       <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">33</span>;</span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">           System.out.println(num);<span class="comment">//    12</span></span><br><span class="line">           System.out.println(Outter.<span class="built_in">this</span>.num);<span class="comment">//	33</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Outter</span> <span class="variable">outter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outter</span>();</span><br><span class="line">        Outter.<span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> outter.ob();<span class="comment">//在外部类中设定一个方法，用来返回一个成员内部类对象。</span></span><br><span class="line">        inner.say();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outter</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">public</span> Inner <span class="title function_">ob</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">Inner</span>&#123;</span><br><span class="line">       <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">33</span>;</span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">           System.out.println(num);</span><br><span class="line">           System.out.println(Outter.<span class="built_in">this</span>.num);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="静态内部类的使用："><a href="#静态内部类的使用：" class="headerlink" title="静态内部类的使用："></a>静态内部类的使用：</h6><p>说明：静态内部类定义在<font color='cornflowerblue'>外部类</font>的<font color='orange'>成员位置</font>，并且<font color='yellow'>有static修饰</font></p>
<blockquote>
<p>①：可以<font color='orange'>直接访问</font>外部类的<font color='red'>所有静态成员</font>，包括<font color='red'>私有的</font>，但<font color='orange'>不能</font>直接访问<font color='red'>非静态成员</font></p>
<p>②：可以添加任意访问修饰符（<font color='pink'>默认</font>，<font color='pink'>private</font>，<font color='pink'>public</font>，<font color='pink'>protected</font>）因为<font color='yellow'>其地位</font>是<font color='yellow'>成员</font>；</p>
</blockquote>
<p>作用域：<font color='green'>同其他成员一样，作用于整个类体</font>。</p>
<blockquote>
<p>④：<font color='cornflowerblue'>静态内部类访问外部类的静态方法</font>：<font color='orange'>静态成员直接访问</font>。</p>
<p>⑤：<font color='cornflowerblue'>外部类访问静态内部类的访问方式</font>：<font color='orange'>创建对象，再访问</font>。</p>
</blockquote>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Outter</span>&#123;</span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">12</span>;<span class="comment">//静态才可以访问</span></span><br><span class="line"> <span class="keyword">public</span> Inner <span class="title function_">ob</span><span class="params">()</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Inner</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">33</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;<span class="comment">//这个方法不是静态的</span></span><br><span class="line">        System.out.println(num);		<span class="comment">//33</span></span><br><span class="line">        System.out.println(Outter.num);		<span class="comment">//12</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main:</span><br><span class="line"><span class="type">Outter</span> <span class="variable">outter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outter</span>();</span><br><span class="line">Outter.<span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> outter.ob();</span><br><span class="line">inner.say();</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="枚举"><a href="#枚举" class="headerlink" title="枚举:"></a>枚举:</h5><p>enumeration，简写：enum;<font color='pink'>枚举</font>是<font color='yellow'>一组常量</font>的<font color='green'>集合</font>。</p>
<p>实现方式：</p>
<blockquote>
<p>①：<font color='orange'>自定义实现枚举</font>。</p>
<p>②：<font color='orange'>enum关键字实现枚举</font>。</p>
</blockquote>
<h6 id="自定义法："><a href="#自定义法：" class="headerlink" title="自定义法："></a>自定义法：</h6><blockquote>
<p>a.构造器<font color='cornflowerblue'>私有化</font>，<font color='green'>防止直接new</font>。</p>
<p>b.去掉<font color='pink'>setXXX</font>方法，<font color='yellow'>防止属性被修改</font>。</p>
<p>c.在类里直接<font color='orange'>创建固定的对象</font>。</p>
<p>d.优化，<font color='cornflowerblue'>引进final</font>。</p>
</blockquote>
<p>补充：对枚举对象&#x2F;属性使用<font color='orange'>final</font> + <font color='orange'>static</font>共同修饰，实现<font color='orange'>底层优化</font>，枚举对象通常<font color='cornflowerblue'>全要大写</font>，枚举对象需要<font color='yellow'>也可以有多个属性</font>；</p>
<p>小结：</p>
<blockquote>
<p>①:构造器私有化.</p>
<p>②:类中创建对象.</p>
<p>③:暴露对象:(public	static	final……)</p>
<p>④:可以有getXXX(),但没set方法</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        System.out.println(Season.SPRING);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Season</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String season;</span><br><span class="line">    <span class="keyword">private</span> String feeling;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Season</span><span class="params">(String season, String feeling)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.season = season;</span><br><span class="line">        <span class="built_in">this</span>.feeling = feeling;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SPRING=<span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;春天&quot;</span>,<span class="string">&quot;温暖&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SUMMER=<span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;夏天&quot;</span>,<span class="string">&quot;炎热&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season AUTTOM=<span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;秋天&quot;</span>,<span class="string">&quot;凉爽&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season WINTER=<span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;冬天&quot;</span>,<span class="string">&quot;冬天&quot;</span>);</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Seanson&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;season=&#x27;&quot;</span> + season + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, feeling=&#x27;&quot;</span> + feeling + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="使用enum来实现枚举"><a href="#使用enum来实现枚举" class="headerlink" title="使用enum来实现枚举:"></a>使用enum来实现枚举:</h6><p>(枚举类<font color='orange'>构造器私有化</font>)</p>
<blockquote>
<p>a.使用<font color='orange'>enum</font>代替<font color='orange'>class</font></p>
<p>b.直接使用<font color='green'>SPRING(“春天”,”温暖”)</font>,<font color='green'>SUMMER(“夏天”,”炎热”)</font>……当使用enum时<font color='cornflowerblue'>要求将定义的常量对象写在最前面.</font></p>
</blockquote>
<p>Hi.java—-javac—–Hi.class</p>
<p>Hi.class—-javap—–Hi.java(反编译):找到out文件,定位该class文件,cmd后,javap XXX.class.</p>
<blockquote>
<p>enum关键字<font color='orange'>默认</font>会<font color='cornflowerblue'>继承</font><font color='yellow'>Enum类</font>,而且是<font color='pink'>一个final类</font>.</p>
<p>使用<font color='cornflowerblue'>无参构造器</font><font color='orange'>创建枚举对象</font>,<font color='yellow'>实参列表</font>和<font color='pink'>小括号</font>都可以省略.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Gender kid=Gender.Boy;</span><br><span class="line">        Gender kid1=Gender.Girl;</span><br><span class="line">        System.out.println(kid);<span class="comment">//Boy</span></span><br><span class="line">        System.out.println(kid1);<span class="comment">//Girl</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span>&#123;Boy,Girl&#125;;</span><br><span class="line"><span class="comment">//使用关键字enum时,会隐式继承enum类,于是我们可以使用Enum类的相关方法.</span></span><br></pre></td></tr></table></figure>

<p>Enum类的部分源码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Enum</span>&lt;E <span class="keyword">extends</span> <span class="title class_">Enum</span>&lt;E&gt;&gt;</span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;E&gt;, Serializable &#123;</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure>

<h6 id="增强for循环"><a href="#增强for循环" class="headerlink" title="增强for循环:"></a>增强for循环:</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] num = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i:nums)&#123;</span><br><span class="line">System.out.println(i);</span><br><span class="line">&#125;<span class="comment">//一个一个取出,赋予i</span></span><br></pre></td></tr></table></figure>

<h6 id="Enum类的常用方法"><a href="#Enum类的常用方法" class="headerlink" title="Enum类的常用方法:"></a>Enum类的常用方法:</h6><blockquote>
<p>1.toString:Enum类已经重写过了,<font color='cornflowerblue'>返回</font>当前的<font color='orange'>对象名</font>,子类可以重写该方法,用于返回对象的属性信息.</p>
<p>2.name:返回当前<font color='green'>对象名</font>(<font color='green'>常量名</font>),子类<font color='red'>不能</font>重写</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Season</span> <span class="variable">season</span> <span class="operator">=</span> Season.SPRING;</span><br><span class="line">System.out.println(season.name);<span class="comment">//SPRING</span></span><br></pre></td></tr></table></figure>

<p>3.ordinal():返回当前对象的<font color='pink'>位置编号</font>,默认从<font color='yellow'>0</font>开始</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Season</span> <span class="variable">season</span> <span class="operator">=</span> Season.SPRING;</span><br><span class="line">System.out.println(season.ordinal());<span class="comment">//0</span></span><br></pre></td></tr></table></figure>

<p>4.values():返回当前<font color='cornflowerblue'>枚举类</font>中<font color='green'>所有的常量</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Season[] values1 = Season.values();</span><br><span class="line"><span class="keyword">for</span>(Season season1:values1)&#123;</span><br><span class="line">	System.out.println(season1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.valueof():将<font color='yellow'>字符串转换枚举对象</font>,要求字符串必须为已有的常量名,否则报错.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Season</span> <span class="variable">season</span> <span class="operator">=</span> Season.valueof(<span class="string">&quot;SPRING&quot;</span>);</span><br><span class="line">System.out.println(season);</span><br></pre></td></tr></table></figure>

<p>6.compareTo():比较两个枚举常量，比的是<font color='cornflowerblue'>编号</font>（<font color='yellow'>前 - 后</font>（传入的））</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(season1 <span class="title function_">compareTo</span><span class="params">(season2)</span>);<span class="comment">//前减后=int值</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>小结：</p>
<blockquote>
<p>1）使用<font color='cornflowerblue'>enum关键字</font>后，就<font color='green'>不可继承其他类</font>了，因为enum会<font color='orange'>隐式的继承Enum</font>（而<font color='red'>Java是单继承</font>的）</p>
<ol start="2">
<li>枚举类和普通类一样，<font color='orange'>可以实现接口</font>。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> 类名 implements 接口<span class="number">1</span>，接口<span class="number">2.</span>..&#123;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="注解："><a href="#注解：" class="headerlink" title="注解："></a>注解：</h5><p>①：<font color='green'>注解(Annotation)</font>也被称为<font color='orange'>元数据(Methoddata)</font>，用于修饰<font color='yellow'>解释包</font>，<font color='lightpink'>类</font>，<font color='cornflowerblue'>方法</font>，<font color='yellow'>属性</font>，<font color='pink'>构造器</font>，<font color='yellow'>局部变量</font>等数据信息。</p>
<p>②：和注释一样，<font color='green'>注解不影响程序逻辑</font>，但注解可以<font color='cornflowerblue'>被编译或运行</font>，相当于嵌入在代码中的<font color='pink'>补充信息</font>。</p>
<p>③：在<font color='green'>JavaSE</font>中，注解用于<font color='green'>标记过时</font>的功能，<font color='green'>忽略警告</font>…在<font color='cornflowerblue'>JavaEE中</font>注解用处大，配置应用程序的任何切面，代替JavaEE旧版中所<font color='orange'>遗留的繁冗代码和XML配置</font>。</p>
<h6 id="基本的Annotation介绍："><a href="#基本的Annotation介绍：" class="headerlink" title="基本的Annotation介绍："></a>基本的Annotation介绍：</h6><p>使用Annotation时要在其前添加<font color='red'>@</font>符号，并把该Annotation当成一个<font color='red'>修饰符</font>，修饰它支持的程序元素。</p>
<p>三个基本的Annotation：</p>
<blockquote>
<p>①：<font color='orange'>@Override</font>：限定某个方法，是<font color='red'>重写父类方法</font>，该注解只能用于表示方法（编译器有语法检验是否重写了方法）</p>
<p>②：<font color='orange'>@Deprecated</font>:用于表示某个程序元素（类，方法等）<font color='red'>已过时</font>。</p>
<p>③：<font color='orange'>@SuppressWarnings</font>：<font color='red'>抑制编译器警告</font>。</p>
</blockquote>
<h6 id="Override源码："><a href="#Override源码：" class="headerlink" title="@Override源码："></a>@Override源码：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Override &#123;</span><br><span class="line">    <span class="comment">//@interface说明，@interface不是interface, 是  注解类，JDK5.0之后引入的。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<blockquote>
<p>1.@Override表示指定<font color='pink'>重写父类的方法</font>（编译层面）（注解可有可无）</p>
<p>2.@Override<font color='cornflowerblue'>只可以修饰方法</font>，不可以修饰其他属性。</p>
<p>3.@Target是<font color='yellow'>修饰注解</font>的<font color='green'>注解</font>，称为<font color='orange'>元注解</font>。</p>
</blockquote>
<h6 id="Deprecated"><a href="#Deprecated" class="headerlink" title="@Deprecated:"></a>@Deprecated:</h6><blockquote>
<p>1.@Deprecated修饰某个元素时，表示<font color='orange'>元素已经过时</font>，即<font color='orange'>不推荐使用</font>，仍要使用，<font color='yellow'>就会被画线</font>,</p>
<blockquote>
<p>a.用于表示某个程序元素(方法，类……)<font color='cornflowerblue'>已过时</font></p>
<p>b.修饰<font color='pink'>方法，类，字段，包，参数</font>……</p>
<p>c.作用：<font color='cornflowerblue'>新旧版本</font>的<font color='yellow'>兼容与过渡</font>。</p>
</blockquote>
<p>源码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(value=&#123;CONSTRUCTOR, FIELD, LOCAL_VARIABLE, METHOD, PACKAGE, PARAMETER, TYPE&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Deprecated &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="SuppressWarning-“-“-（查表填）"><a href="#SuppressWarning-“-“-（查表填）" class="headerlink" title="@SuppressWarning({“  “})（查表填）"></a>@SuppressWarning({“  “})（查表填）</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;All&quot;&#125;)</span></span><br></pre></td></tr></table></figure>

<p>源码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR, LOCAL_VARIABLE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SuppressWarnings &#123;</span><br><span class="line">    String[] value();<span class="comment">//数组保存</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarning(&#123;&quot;unchecked&quot;,&quot;rawtypes&quot;,&quot;unused&quot;&#125;)</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>a.<font color='cornflowerblue'>unchecked</font>：<font color='green'>忽略没有检查的警告</font>。</p>
<p>b.<font color='cornflowerblue'>rawtypes</font>：忽略<font color='green'>没有指定泛型的警告</font>(传参时没有指定泛型的警告错误)。</p>
<p>c.<font color='cornflowerblue'>unused</font>：忽略<font color='green'>未使用某个变量的警告</font>。</p>
</blockquote>
<p>JDK的<font color='orange'>元Annotation</font>（了解）（<font color='yellow'>元注解</font>）</p>
<p>JDK的元注解用于<font color='cornflowerblue'>修饰其他Annotation</font>。</p>
<p>元注解种类：</p>
<blockquote>
<p>1）<font color='orange'>Retention</font>	&#x2F;&#x2F;指定注解的<font color='green'>作用范围</font>。</p>
<p>2）<font color='orange'>Target</font>	&#x2F;&#x2F;指定注解可以<font color='green'>在哪里使用</font>。</p>
<p>3）<font color='orange'>Document</font>	&#x2F;&#x2F;指定该注解是否会在<font color='green'>javadoc</font>里面出现。</p>
<ol start="4">
<li><font color='orange'>Inherited</font>	&#x2F;&#x2F;子类会<font color='green'>继承</font>父类注解</li>
</ol>
</blockquote>
<h5 id="异常处理："><a href="#异常处理：" class="headerlink" title="异常处理："></a>异常处理：</h5><p>基本概念：Java中，将程序执行中发生的不正常情况称为”异常”（开发中的语法错误和逻辑错误不是异常）</p>
<blockquote>
<p><font color='hotpink'>Error(错误)</font>：Java虚拟机中<font color='orange'>无法解决的严重问题</font>，如：JVM系统内部错误，资源耗尽等严重情况。比如：StackOverflowError(栈溢出)和OOM（Out Of Memory ）Error是严重错误，<font color='khaki'>程序会崩溃</font>。</p>
<p><font color='hotpink'>Exception(异常)</font>：其他因编程错误而偶然的外在因素导致的<font color='orange'>一般性问题</font>，可以使用针对性代码进行处理，例如：空指针访问，试图读取不存在的文件，网络连接中断……</p>
</blockquote>
<p>Exception的分类：</p>
<blockquote>
<p>①：<font color='cornflowerblue'>运行时异常</font>：编译器自己找不出来，一般是编程的逻辑错误，java.lang.RuntimeException类以及它的子类都是运行时异常，对于运行时异常，<font color='wheat'>可不做处理</font>，因为这类异常非常普通，若全处理，程序的可读性和运行效率都会被影响。</p>
<p>②：<font color='cornflowerblue'>编译时异常</font>：在编译期就<font color='wheat'>必须处理的异常</font>，编译器要求必须处理的异常否则代码不通过。</p>
</blockquote>
<p><img src="/pic/p7.png" alt="img"></p>
<p><font color='hotpink'>Java源程序</font>（<font color='slateblue'>编译异常</font>）—（<font color='springgreen'>javac.exe</font>）—》<font color='hotpink'>字节码文件</font>—（<font color='springgreen'>java.exe</font>）（<font color='slateblue'>运行异常</font>）—》<font color='hotpink'>内存中加载，运行程序</font>。</p>
<h6 id="常见的运行时异常："><a href="#常见的运行时异常：" class="headerlink" title="常见的运行时异常："></a>常见的运行时异常：</h6><blockquote>
<p>1)<font color='wheat'>NullpointException</font><font color='slateblue'>空指针异常</font>(空引用，引用为空，却调用了方法，不能指向任何对象)</p>
<p>​	当应用程序试图在调用对象的时候使用null，将会报异常。</p>
<p>2)<font color='wheat'>ArithmeticException</font><font color='slateblue'>数学运算异常</font>，出现异常的运算条件时，将会抛出此异常，例如：一个整数除于0。</p>
<p>3)<font color='wheat'>ArrayIndexOutOfBoundsException</font><font color='slateblue'>数组下标越界异常</font>，如果索引为负或者大于等于数组大小，则该索引为非法索引。</p>
<p>4)<font color='wheat'>ClassCastException</font><font color='slateblue'>类型转换异常</font>，试图将将对象转换为不是实例的子类时，将会抛出此异常。</p>
<p>5)<font color='wheat'>NumberFormatException</font><font color='slateblue'>数字格式不正确</font>，当应用试图将字符串转换成一种数值类型，但该字符串不能转换为适当格式时，抛出该异常，使用异常我们可以确保输入的是数字。</p>
</blockquote>
<h6 id="编译异常："><a href="#编译异常：" class="headerlink" title="编译异常："></a>编译异常：</h6><blockquote>
<p><font color='khaki'>SQLException</font>:	&#x2F;&#x2F;操作数据库时，查询表可能发生的异常。</p>
<p><font color='khaki'>IOException</font>:	&#x2F;&#x2F;操作文件时发生的异常</p>
<p><font color='khaki'>FileNotFoundException</font>:	&#x2F;&#x2F;当操作一个不存在的文件时，发生的异常。</p>
<p><font color='khaki'>ClassNotFoundException</font>:	&#x2F;&#x2F;加载类时类找不到的异常</p>
<p><font color='khaki'>EOFException</font>：	&#x2F;&#x2F;操作文件，到文件末尾，发生异常。</p>
<p><font color='khaki'>IIegalArguementException</font>:	&#x2F;&#x2F;参数异常</p>
</blockquote>
<h6 id="异常处理：-1"><a href="#异常处理：-1" class="headerlink" title="异常处理："></a>异常处理：</h6><p>基本介绍：<font color='hotpink'>异常处理就是对发生的异常做出处理</font>。</p>
<p>处理方式：</p>
<blockquote>
<p>1）<font color='orange'>try - catch - finally</font> :<font color='springgreen'>程序员在代码中捕获发生</font></p>
<p>2）<font color='orange'>throws</font> :<font color='springgreen'>将发生的异常抛出后，交给调用者去处理，最顶级的处理者就是JVM</font>。</p>
</blockquote>
<blockquote>
<p><font color='hotpink'>try - catch - finally机制：</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//发现代码块异常。</span></span><br><span class="line"><span class="comment">//异常后的代码不执行。</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line"><span class="comment">//捕获代码块异常，将异常封装成Exception对象e，传递给catch，</span></span><br><span class="line"><span class="comment">//得到异常后，程序员自己处理，</span></span><br><span class="line"><span class="comment">//注意，如果没有异常，catch不执行，    </span></span><br><span class="line">&#125; <span class="keyword">finally</span>&#123;</span><br><span class="line"><span class="comment">//不管try代码块是否有异常发生，始终要执行finally，</span></span><br><span class="line"><span class="comment">//因而，通常释放资源的代码放在finally.    </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>throws处理机制：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JVM(处理异常，输出异常信息，退出程序)    main     <span class="title function_">method</span><span class="params">(方法)</span>      method1(方法)</span><br><span class="line">								---&gt;    ---&gt;		    ----&gt;</span><br><span class="line">								&lt;---    &lt;---             &lt;----</span><br><span class="line"> 							<span class="keyword">throws</span>	<span class="keyword">throws</span>			<span class="keyword">throws</span></span><br></pre></td></tr></table></figure>

<p>try - catch - finally和throws二选一。</p>
<p>如果程序员<font color='cornflowerblue'>没有显示的调用</font>异常处理，<font color='orange'>默认</font>为<font color='hotpink'>throws</font></p>
</blockquote>
<p>try-catch:没有finally，语法是可以行的通的。</p>
<p>基本语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123; </span><br><span class="line">	<span class="comment">//可疑代码，将异常生成对应的异常对象，传给catch块，</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">	<span class="comment">//对异常的处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="注意事项：-2"><a href="#注意事项：-2" class="headerlink" title="#注意事项："></a>#注意事项：</h6><blockquote>
<p>①：如果<font color='cornflowerblue'>异常发生</font>了，则<font color='orange'>异常后面的代码</font>都<font color='khaki'>不会执行</font>，<font color='springgreen'>直接进入catch块</font>。</p>
<p>②：如果<font color='wheat'>没有异常发生</font>，则<font color='hotpink'>顺序执行try的代码块</font>，<font color='cornflowerblue'>不进入catch</font>。</p>
<p>③：如果希望不管是否发生异常，都执行某段代码（比如关闭来连接，释放资源…），则使用<font color='cornflowerblue'>finally{ }</font></p>
<p>④：可以有多个异常，这时也可以有多个catch语句，捕获不同的异常(进行不同的业务处理，要求<font color='hotpink'>父类异常在后</font>，<font color='springgreen'>子类异常在前</font>),比如：NullpointException应在Exception之后(<font color='wheat'>否则会报错</font>)。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception&#123;</span><br><span class="line">     <span class="keyword">try</span> &#123;</span><br><span class="line">         <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">         <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">// 0</span></span><br><span class="line">         <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a / b;</span><br><span class="line">         <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">         arr=<span class="literal">null</span>;</span><br><span class="line">         <span class="keyword">for</span>(<span class="type">int</span> i : arr)&#123;</span><br><span class="line">             System.out.println(i);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;Nullpoiint e&quot;</span>);</span><br><span class="line">     &#125; <span class="keyword">catch</span>(ArithmeticException e )&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;ArithmeticException&quot;</span>);</span><br><span class="line">     &#125; <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">         System.out.prinln(<span class="string">&quot;Exception&quot;</span>);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>try - finally:相当于没有捕获异常，因此程序在遇到异常直接崩掉，应用场景：执行一段代码，不管是否发生异常，都必须执行某个业务逻辑。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123; </span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">	<span class="comment">//总是执行。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font color='red'>finally必须执行</font>，<font color='orange'>哪怕catch里有return</font>！！！！！.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception&#123;</span><br><span class="line">     <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">     <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">try</span> &#123;</span><br><span class="line">         <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a / b;</span><br><span class="line">     &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;除数不为0&quot;</span>);</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">     &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;finally必须执行！！！&quot;</span>);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//除数不为0</span></span><br><span class="line"><span class="comment">//finally必须执行！！！</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="throws异常处理："><a href="#throws异常处理：" class="headerlink" title="throws异常处理："></a>throws异常处理：</h6><blockquote>
<p>①如果一个方法（中语句的执行时间可能生成某种异常）,但是并不能确定某种异常，则应显示地声明此异常，表明该方法将不对这些异常进行处理，而由该方法的调用者负责(既是方法)</p>
<p>②方法中用throws语句可以声明抛出异常的列表，throws后面的异常类型可以是方法中产生的异常，也可以是它的父类。</p>
<p>③throws一级一级的抛异常，<font color='hotpink'>抛到JVM机就罢工了</font>。</p>
<p>#注意事项：</p>
<blockquote>
<p>1):对于编译异常：程序必须要处理（try - catch - finally）或(throws).</p>
<p>2):对于运行时异常: 若不主动处理，默认为throws的方式处理。</p>
<p>3):子类重写父类的方法时，对抛出的异常的规定：子类重写父类中的方法，所抛出的异常类型，要么和父类一致，要么是父类异常的子异常。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Father	void ok() throws Exception&#123;&#125;</span></span><br><span class="line"><span class="comment">//Son 		void ok() throws ArithmeticException&#123;&#125;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>有try -  catch就不用throws,二选一。</p>
</blockquote>
<h6 id="自定义异常："><a href="#自定义异常：" class="headerlink" title="自定义异常："></a>自定义异常：</h6><p>自定义异常的步骤</p>
<blockquote>
<p>①：<font color='springgreen'>定义类</font>：自定义异常类名（程序员自己写的），继承Exception或RuntimeException。</p>
<p>②：如果继承<font color='orange'>Exception</font>,属于<font color='slateblue'>编译异常</font>。</p>
<p>③：如果继承<font color='orange'>RuntimeException</font>，属于<font color='slateblue'>运行异常</font>，（一般来说，都是继承RuntimeException）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(a==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Npp</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a / b;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Npp e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;这里是catch&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;这里是finally&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Npp</span> <span class="keyword">extends</span>  <span class="title class_">RuntimeException</span>&#123; <span class="comment">//分子不为0</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Npp</span><span class="params">( )</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;分子不能为0&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">分子不能为0</span></span><br><span class="line"><span class="comment">这里是catch</span></span><br><span class="line"><span class="comment">这里是finally</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> AgeException &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">180</span>; <span class="comment">//要求范围在 18 – 120 之间，否则抛出一个自定义异常</span></span><br><span class="line">        <span class="keyword">if</span>(!(age &gt;= <span class="number">18</span> &amp;&amp; age &lt;= <span class="number">120</span>)) &#123;</span><br><span class="line">            <span class="comment">//这里我们可以通过构造器，设置信息</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AgeException</span>(<span class="string">&quot;年龄需要在 18~120 之间&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;你的年龄范围正确.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AgeException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AgeException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="comment">//构造器</span></span><br><span class="line">        <span class="built_in">super</span>(message); <span class="comment">//这里的super调用的是RuntimeException父类里的构造器 输出异常信息</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Exception in thread &quot;main&quot; com.Reona.AllTest.AgeException: 年龄需要在 18~120 之间</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> ArithmeticException &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> b / a;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;完成了&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;好耶&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//java.lang.ArithmeticException: / by zero</span></span><br><span class="line"><span class="comment">//完成了</span></span><br><span class="line"><span class="comment">//好耶</span></span><br><span class="line"><span class="comment">//捕获异常后的代码会执行（仅限不在catch内的）</span></span><br></pre></td></tr></table></figure>

<p>throws与throw的区别：</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">意义</th>
<th align="center">位置</th>
<th align="center">后面跟的东西</th>
</tr>
</thead>
<tbody><tr>
<td align="center">throws</td>
<td align="center">异常处理的一种方式</td>
<td align="center">方法声明处</td>
<td align="center">异常类型</td>
</tr>
<tr>
<td align="center">throw</td>
<td align="center">手动丢出一个异常对象</td>
<td align="center">方法体中</td>
<td align="center">异常对象</td>
</tr>
</tbody></table>
<p>例题：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Npp.methodA();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());<span class="comment">//String  ,输出传到异常构造器里的东西</span></span><br><span class="line">        &#125;</span><br><span class="line">        Npp.mehtodB();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Npp</span> <span class="keyword">extends</span>  <span class="title class_">RuntimeException</span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">methodA</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           System.out.println(<span class="string">&quot;在方法A&quot;</span>);</span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;有异常！！！&quot;</span>);</span><br><span class="line">       &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">           System.out.println(<span class="string">&quot;方法A的finally方法&quot;</span>);<span class="comment">//比try块里的throw先执行！！！</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">mehtodB</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           System.out.println(<span class="string">&quot;进入方法B&quot;</span>);</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;  <span class="keyword">finally</span> &#123;</span><br><span class="line">           System.out.println(<span class="string">&quot;调用B的finally&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在方法A</span></span><br><span class="line"><span class="comment">//方法A的finally方法</span></span><br><span class="line"><span class="comment">//有异常！！！</span></span><br><span class="line"><span class="comment">//进入方法B</span></span><br><span class="line"><span class="comment">//调用B的finally</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="Wrapper"><a href="#Wrapper" class="headerlink" title="Wrapper:"></a>Wrapper:</h5><p>包装类：</p>
<blockquote>
<p>①针对八种基本数据类型相应的引用类型—-包装类</p>
<p>②有了类的特点，就可以调用其中类的方法。</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">基本数据类型</th>
<th align="center">包装类</th>
</tr>
</thead>
<tbody><tr>
<td align="center">boolean</td>
<td align="center">Boolean</td>
</tr>
<tr>
<td align="center">char</td>
<td align="center">Character</td>
</tr>
<tr>
<td align="center">byte</td>
<td align="center">Byte</td>
</tr>
<tr>
<td align="center">short</td>
<td align="center">Short</td>
</tr>
<tr>
<td align="center">int</td>
<td align="center">Integer     父类是Number</td>
</tr>
<tr>
<td align="center">long</td>
<td align="center">Long</td>
</tr>
<tr>
<td align="center">float</td>
<td align="center">Float</td>
</tr>
<tr>
<td align="center">double</td>
<td align="center">Double</td>
</tr>
</tbody></table>
<h6 id="包装类与基本数据类型的相互转换："><a href="#包装类与基本数据类型的相互转换：" class="headerlink" title="包装类与基本数据类型的相互转换："></a>包装类与基本数据类型的相互转换：</h6><p>1)JDK5之前的<font color='khaki'>手动装箱</font>和<font color='khaki'>手动拆箱</font>，</p>
<p>手动装箱：<font color='wheat'>基本类型</font>—》<font color='wheat'>包装类型</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(i);<span class="comment">//方法一</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer1</span> <span class="operator">=</span> Integer.valueOf(i);<span class="comment">//方法二</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>手动拆箱：<font color='wheat'>包装类型</font>—》<font color='wheat'>基本类型</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">12</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> integer.intValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>自动装箱：</p>
<blockquote>
<p><font color='hotpink'>底层调用</font>的是<font color='slateblue'>valueOf()</font>方法，比如Integer.valueOf()</p>
</blockquote>
<p>自动拆箱：</p>
<blockquote>
<p><font color='hotpink'>底层调用</font>的是<font color='slateblue'>intValue()</font>方法。</p>
</blockquote>
<p>JDk5.0后采用自动装箱和拆箱：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> i;	<span class="comment">//自动装箱：Integer integer = Integer.valueOf(i)</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">56</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> integer1;	<span class="comment">//自动拆箱：int r = integer.intValue();</span></span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其他类似：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="literal">true</span> ? <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>) : <span class="keyword">new</span> <span class="title class_">Double</span>(<span class="number">2.0</span>);</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">//result:	三元运算符是一个整体</span></span><br><span class="line"><span class="comment">// 1.0</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Object obj;</span><br><span class="line">       <span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">           obj = <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           obj = <span class="keyword">new</span> <span class="title class_">Double</span>(<span class="number">2.0</span>);</span><br><span class="line">       &#125;</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//result:</span></span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h6 id="包装类与String类型的相互转换："><a href="#包装类与String类型的相互转换：" class="headerlink" title="包装类与String类型的相互转换："></a>包装类与String类型的相互转换：</h6><p>包装类型——》String类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="comment">//方式一：</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> i.toString();</span><br><span class="line"><span class="comment">//方式二:</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> String.valueOf(i);</span><br><span class="line"><span class="comment">//方式三：</span></span><br><span class="line"><span class="type">Sting</span> <span class="variable">s3</span> <span class="operator">=</span> i + <span class="string">&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>String类型——-》包装类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;1234&quot;</span>;</span><br><span class="line"><span class="comment">//方式一：</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(str);</span><br><span class="line"><span class="comment">//方式二:</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">integer1</span> <span class="operator">=</span> Integer.valueOf(str);</span><br><span class="line"><span class="comment">//方式三：</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">integer2</span> <span class="operator">=</span> Integer.parseInt(str);</span><br></pre></td></tr></table></figure>

<p>其他相似…..</p>
<p>Integer与Character内的方法常见的filed：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MAX_VALUE;</span><br><span class="line">MIN_VALUE;</span><br></pre></td></tr></table></figure>

<p>​	</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">isDigit(<span class="string">&#x27;a&#x27;</span>)<span class="comment">//判断是否为数字</span></span><br><span class="line">isLetter(<span class="string">&#x27;a&#x27;</span>)<span class="comment">//是否为字母</span></span><br><span class="line">isUpperCase(<span class="string">&#x27;a&#x27;</span>)<span class="comment">//判断是否大写</span></span><br></pre></td></tr></table></figure>

<p>注意：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">     <span class="type">Integer</span> <span class="variable">m</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">     <span class="type">Integer</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">     System.out.println(m==n);</span><br><span class="line">     <span class="type">Integer</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">     <span class="type">Integer</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">        System.out.println(x==y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//true</span></span><br><span class="line"><span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<p>解释：</p>
<blockquote>
<p>先看源码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">valueOf</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">         <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(i);</span><br><span class="line"> &#125;</span><br><span class="line">	<span class="comment">//IntegerCache.low  = -128</span></span><br><span class="line">	<span class="comment">//IntegerCache.high = 127</span></span><br></pre></td></tr></table></figure>

<p>①：如果i在<font color='springgreen'>IntegerCache.low</font>和<font color='springgreen'>IntegerCache.high</font>之间就<font color='slateblue'>直接从数组中返回</font>，如果不在<font color='wheat'>-128~127</font>间，直接<font color='khaki'>new Integer(i).</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">  <span class="type">Integer</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">127</span>; <span class="comment">//Integer.valueof();从数组取得。</span></span><br><span class="line">  <span class="type">Integer</span> <span class="variable">y</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">127</span>);<span class="comment">// new来的</span></span><br><span class="line">     System.out.println(x==y);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>②只要有<font color='cornflowerblue'>基本数据类型</font>，就是<font color='slateblue'>判断值相等</font>，<font color='hotpink'>不考虑valueOf()的判定</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">  <span class="type">Integer</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">365</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">365</span>;</span><br><span class="line">  System.out.println(x==y);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="String"><a href="#String" class="headerlink" title="String:"></a>String:</h5><blockquote>
<p>①：<font color='hotpink'>String对象</font>用于<font color='wheat'>保存字符串</font>，也就是一组字符序列。</p>
<p>②：字符串常量对象是用<font color='red'>双括号</font>括起来的字符序列，例如：”你好！”；”1297”。</p>
<p>③：字符串使用<font color='hotpink'>unicode字符编码</font>，<font color='khaki'>一个字符</font>（<font color='springgreen'>不管汉字还是英文</font>），占<font color='red'>2</font><font color='cornflowerblue'>个字节</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">String</span></span><br><span class="line"> <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable, Comparable&lt;String&gt;, CharSequence &#123;</span><br><span class="line"> 			......</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>④：String类<font color='springgreen'>有众多构造器</font>，<font color='orange'>构造器的重载</font>。</p>
<p>常用的有：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">String</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.value = <span class="string">&quot;&quot;</span>.value;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">String</span><span class="params">(String original)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.value = original.value;</span><br><span class="line">     <span class="built_in">this</span>.hash = original.hash;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">String</span><span class="params">(<span class="type">char</span> value[])</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.value = Arrays.copyOf(value, value.length);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">String</span><span class="params">(<span class="type">char</span> value[], <span class="type">int</span> offset, <span class="type">int</span> count)</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (offset &lt; <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">StringIndexOutOfBoundsException</span>(offset);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> (count &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">if</span> (count &lt; <span class="number">0</span>) &#123;</span><br><span class="line">             <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">StringIndexOutOfBoundsException</span>(count);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">if</span> (offset &lt;= value.length) &#123;</span><br><span class="line">             <span class="built_in">this</span>.value = <span class="string">&quot;&quot;</span>.value;</span><br><span class="line">             <span class="keyword">return</span>;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment">// Note: offset or count might be near -1&gt;&gt;&gt;1.</span></span><br><span class="line">     <span class="keyword">if</span> (offset &gt; value.length - count) &#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">StringIndexOutOfBoundsException</span>(offset + count);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="built_in">this</span>.value = Arrays.copyOfRange(value, offset, offset+count);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">String</span><span class="params">(<span class="type">byte</span> bytes[])</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>(bytes, <span class="number">0</span>, bytes.length);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>⑤：String是<font color='red'>final</font>类，<font color='orange'>不可被继承</font>，<font color='wheat'>本质</font>是<font color='hotpink'>字符数组</font>。</p>
<p>⑥：String的重要属性：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="type">char</span> value[]; <span class="comment">// value数组名</span></span><br></pre></td></tr></table></figure>

<p>用于存放字符串数组内容，但value是一个final类型，不可修改，value不可指向新的地址，但是单个字符内容是可变化的（即存的值可以变）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例子：</span></span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;lili&quot;</span>;</span><br><span class="line">name = <span class="string">&quot;tom&quot;</span>; <span class="comment">//ok</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="type">char</span>[] values = &#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>&#125;；</span><br><span class="line"><span class="type">char</span>[] values2 = &#123;<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span>&#125;;</span><br><span class="line">values[<span class="number">0</span>]=<span class="string">&#x27;m&#x27;</span>;<span class="comment">// ok</span></span><br><span class="line">values = values2;<span class="comment">// error</span></span><br></pre></td></tr></table></figure>

<h6 id="创建String对象的两种方式："><a href="#创建String对象的两种方式：" class="headerlink" title="创建String对象的两种方式："></a>创建String对象的两种方式：</h6><p>方式一：<font color='hotpink'>直接赋值</font>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hsp&quot;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>先从<font color='springgreen'>常量池</font>看是否有”hsp”数据空间，如果<font color='cornflowerblue'>有</font>，<font color='cornflowerblue'>直接指向</font>。如果<font color='wheat'>没有</font>，<font color='wheat'>重新创建</font>，再<font color='wheat'>指向</font>，最后<font color='khaki'>str</font>指向的是<font color='khaki'>常量池的空间地址</font>。</p>
</blockquote>
<p>方式二：<font color='hotpink'>调用构造器</font>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hsp&quot;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>先在<font color='wheat'>堆中创建空间</font>，里面维护了<font color='hotpink'>value</font>属性，指向常量池的hsp空间。如果<font color='wheat'>没有</font>，<font color='wheat'>创建</font>，最终str1最终指向<font color='cornflowerblue'>堆中的空间地址</font>。</p>
</blockquote>
<p><img src="/pic/p7.png" alt="img"></p>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hsp&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hsp&quot;</span>;</span><br><span class="line">System.out.println(str==str1);<span class="comment">//	true。Sting类是引用型，比较地址</span></span><br><span class="line">System.out.println(str.equals(str1));<span class="comment">//		true。String类重写了equals()方法，比较内容。</span></span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public String intern()  </span><br><span class="line">//调用intern()方法时，intern()方法返回常量池的地址</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hsp&quot;</span>;</span><br><span class="line">   <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line">   System.out.println(str==str1);	<span class="comment">//false</span></span><br><span class="line">   System.out.println(str.equals(str1));	<span class="comment">//true</span></span><br><span class="line">   System.out.println(str==str1.intern());	<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String str;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String str1;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(str);<span class="comment">//null </span></span><br><span class="line">        System.out.println(str + str1);<span class="comment">//nullnull</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//null的解释：</span></span><br><span class="line"><span class="comment">//PrintStream源码：</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span>) &#123;</span><br><span class="line">        s = <span class="string">&quot;null&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    write(s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//nullnull的解释：直接点IDEA的view--》show Bytecode</span></span><br><span class="line"> INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"><span class="comment">//可以看到了编译器会对String字符串相加的操作进行优化，会把这一过程转化为StringBuilder的append方法</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//append方法源码：</span></span><br><span class="line"><span class="keyword">public</span> AbstractStringBuilder <span class="title function_">append</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (str == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> appendNull();</span><br><span class="line"> <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//appendNull方法</span></span><br><span class="line"><span class="keyword">private</span> AbstractStringBuilder <span class="title function_">appendNull</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> count;</span><br><span class="line">    ensureCapacityInternal(c + <span class="number">4</span>);</span><br><span class="line">    <span class="keyword">final</span> <span class="type">char</span>[] value = <span class="built_in">this</span>.value;</span><br><span class="line">    value[c++] = <span class="string">&#x27;n&#x27;</span>;</span><br><span class="line">    value[c++] = <span class="string">&#x27;u&#x27;</span>;</span><br><span class="line">    value[c++] = <span class="string">&#x27;l&#x27;</span>;</span><br><span class="line">    value[c++] = <span class="string">&#x27;l&#x27;</span>;</span><br><span class="line">    count = c;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**这里的value就是底层用来存储字符的  char类型数组 ，到这里我们就可以明白了，其实StringBuilder也对null的字符串进行了特殊处理，在append的过程中如果碰到是null的字符串，那么就会以&quot;null&quot;的形式    被添加    进   字符数组      ，这也就导致了两个为空null的字符串相加后会打印为&quot;nullnull&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;1234&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String str1;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(str);<span class="comment">//1234</span></span><br><span class="line">        System.out.println(str+str1);<span class="comment">//1234null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        String s=<span class="string">&quot;Hydra&quot;</span>;</span><br><span class="line">        System.out.println(s+<span class="string">&quot;:  &quot;</span>+s.hashCode());</span><br><span class="line">        s=<span class="string">&quot;Trunks&quot;</span>;</span><br><span class="line">        System.out.println(s+<span class="string">&quot;: &quot;</span>+s.hashCode());</span><br><span class="line">        <span class="comment">//二者hashCode()不一样。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//String是final类，但s是对象的引用罢了！</span></span><br></pre></td></tr></table></figure>

<h6 id="关于String对象："><a href="#关于String对象：" class="headerlink" title="关于String对象："></a>关于String对象：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hydra&quot;</span>);</span><br><span class="line"><span class="comment">//创建了2个对象。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">str = <span class="string">&quot;hhahh&quot;</span>;</span><br><span class="line"><span class="comment">//创建了2个对象。</span></span><br><span class="line">一个是<span class="string">&quot;hello&quot;</span>,一个是<span class="string">&quot;hhahh&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span> + <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="comment">//创建了1个对象</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"> <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;Hydra&quot;</span>;</span><br><span class="line"> <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hydra&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建了1个对象</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> 	   <span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">       <span class="type">String</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">       <span class="type">String</span> <span class="variable">a2</span> <span class="operator">=</span> a + a1;</span><br><span class="line">       <span class="comment">//创建了3 个对象，与String a3 = &quot;hello&quot;+&quot;abc&quot;;机制不同。</span></span><br><span class="line">	   <span class="comment">//①创建一个StringBuilder sb = StringBuilder();</span></span><br><span class="line">	   <span class="comment">//②执行sb.append(&quot;hello&quot;)，sb.append(&quot;abc&quot;)</span></span><br><span class="line">	   <span class="comment">//③String c = sb.toString();</span></span><br><span class="line">	   <span class="comment">//④最后其实是c指向堆中的对象(String) value[] 指向池中的&quot;helloabc&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//String c1 =&quot;ab&quot;+&quot;cd&quot;;（常量相加，看池）</span></span><br><span class="line"><span class="comment">//String c2 = a + b;（变量相加，在堆中）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hsp&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;java&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> (s1 + s2).intern();</span><br><span class="line">System.out.println(s3 == s2);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String a = &quot;helloning&quot;;</span><br><span class="line">String b= &quot;hello&quot;+&quot;ning&quot;;</span><br><span class="line">System.out.println(a==b);//true </span><br></pre></td></tr></table></figure>



<h5 id="String类的常见方法："><a href="#String类的常见方法：" class="headerlink" title="String类的常见方法："></a>String类的常见方法：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> <span class="title function_">charAt</span><span class="params">(<span class="type">int</span> index)</span> <span class="comment">// 返回指定索引处的 char 值。</span></span><br><span class="line"></span><br><span class="line"> String <span class="title function_">concat</span><span class="params">(String str)</span> <span class="comment">//将指定字符串连接到此字符串的结尾。  </span></span><br><span class="line"> </span><br><span class="line"> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object anObject)</span> <span class="comment">// 将此字符串与指定的对象比较,区分大小写。</span></span><br><span class="line"> </span><br><span class="line"> <span class="type">boolean</span> <span class="title function_">equalsIgnoreCase</span><span class="params">(String anotherString)</span> <span class="comment">//将此 String 与另一个 String 比较，不考虑大小写。  </span></span><br><span class="line"> </span><br><span class="line"> <span class="type">byte</span>[] getBytes() <span class="comment">// 使用平台的默认字符集将此 String 编码为 byte 序列，并将结果存储到一个新的 byte 数组中。  byte[] arr = str.getBytes();</span></span><br><span class="line"> </span><br><span class="line">str.length()	<span class="comment">//返回当前字符串的长度</span></span><br><span class="line"></span><br><span class="line">indexOf();<span class="comment">//获取字符在字符串中第一次出现的索引，索引从0开始，找不到就返回-1.</span></span><br><span class="line"> <span class="comment">//System.out.println(s.indexOf(&#x27;5&#x27;));</span></span><br><span class="line"> </span><br><span class="line"> lastIndexOf();<span class="comment">//获取字符在字符串中最后出现的索引，索引从0开始，找不到就返回-1.</span></span><br><span class="line"> </span><br><span class="line"> substring(<span class="type">int</span> a,<span class="type">int</span> b);<span class="comment">//返回索引a到b-1间的字符串，[a,b)。</span></span><br><span class="line"> </span><br><span class="line"> trim();	<span class="comment">//去掉字符串前面和后面的空白。</span></span><br><span class="line"> </span><br><span class="line"> split(<span class="string">&quot; &quot;</span>);<span class="comment">//以什么规则分割str,</span></span><br><span class="line"> 例：<span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;oo;tt;ll&quot;</span>);</span><br><span class="line">        String[] spr = str.split(<span class="string">&quot;;&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(String str1: spr)&#123;</span><br><span class="line">            System.out.println(str1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">       	oo</span></span><br><span class="line"><span class="comment">	    tt</span></span><br><span class="line"><span class="comment">        ll</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">         </span><br><span class="line">    toCharArray();<span class="comment">//转换为字符数组。</span></span><br><span class="line">   	format();<span class="comment">//格式化输出</span></span><br><span class="line">   	    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;温度%d&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> String.format(str,temp);</span><br><span class="line">        System.out.println(str1);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>[] chars =&#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>&#125;;</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(chars);</span><br><span class="line">System.out.println(str);<span class="comment">//1234</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">T</span>&#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line">	<span class="keyword">final</span> <span class="type">char</span>[] ch = &#123;<span class="string">&#x27;j&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;v&#x27;</span>,<span class="string">&#x27;a&#x27;</span>&#125;;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">change</span><span class="params">(String str,<span class="type">char</span> ch[])</span>&#123;</span><br><span class="line">		str = <span class="string">&quot;java&quot;</span>;</span><br><span class="line">		ch[<span class="number">0</span>] = <span class="string">&#x27;h&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main:</span><br><span class="line"><span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">t.change(t.str,t.ch);</span><br><span class="line">System.out.println(t.str +<span class="string">&quot;  and&quot;</span>);</span><br><span class="line">System.out.println(t.ch);</span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line">hsp   and</span><br><span class="line">hava</span><br><span class="line">解释：由于t.str是String类型， t.change(t.str,t.ch)中，是对象传入了一个和T中str指向相同的value[]的str(栈中),而构造器中是对传入的str(栈中)改变(而<span class="built_in">this</span>.str是类中的str)，是改传进去的参数，又由于String类型是<span class="keyword">final</span>类，改掉了栈中的str的指向到常量池的java。而t.change(t.str,t.ch);执行完毕后，栈被销毁，str没了，故调用t.str时访问的是T中的str.</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        t.change(t.str);</span><br><span class="line">        System.out.println(t.str);<span class="comment">//java</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;c++&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">change</span><span class="params">(String str)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.str = <span class="string">&quot;java&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        t.change(t.str);</span><br><span class="line">        System.out.println(t.str);<span class="comment">//c++</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;c++&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">change</span><span class="params">(String str)</span>&#123;</span><br><span class="line">      str = <span class="string">&quot;java&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hsp&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">t1</span> <span class="operator">=</span> s1 +<span class="string">&quot;edu&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="string">&quot;hspedu&quot;</span>;</span><br><span class="line">System.out.println(t1.intern()==t2);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p><font color='hotpink'>String类</font>是保存<font color='khaki'>字符串常量</font>的，每次更新<font color='cornflowerblue'>都需要重新开辟空间</font>，<font color='wheat'>效率低</font>，因此Java设计者，还设计了<font color='springgreen'>StringBuffer</font>和<font color='springgreen'>StringBuilder</font>来增强String功能，并提高效率。</p>
<h5 id="StringBuffer类："><a href="#StringBuffer类：" class="headerlink" title="StringBuffer类："></a>StringBuffer类：</h5><p>java.lang.StringBuffer代表<font color='hotpink'>可变字符序列</font>，可以对字符串内容进行增删查改，<font color='wheat'>很多方法与String一致</font>，但<font color='slateblue'>StringBuffer是可变长度的</font>。</p>
<blockquote>
<p>StringBuffer的直接父类是<font color='cornflowerblue'>AbstractStringBuilder</font></p>
<p>StringBuffer实现了<font color='hotpink'>serializable接口</font>，则其可以被<font color='orange'>序列化</font>。</p>
<p>父类中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>[] value;</span><br></pre></td></tr></table></figure>

<p><font color='red'>不是final类型</font>，该<font color='slateblue'>value数组存放字符串内容</font>，<font color='wheat'>保留到堆中。</font></p>
<p><font color='orange'>StringBuffer是一个final类</font>，<font color='cornflowerblue'>不可被继承</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">StringBuffer</span></span><br><span class="line">    <span class="keyword">extends</span> <span class="title class_">AbstractStringBuilder</span></span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">Serializable</span>, CharSequence</span><br><span class="line">&#123;	... 	&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;你好！&quot;</span>);</span><br><span class="line">        System.out.println(stringBuffer);<span class="comment">//你好！</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>String与StringBuffer的比较：</p>
<blockquote>
<p>1）String保存的是<font color='red'>字符串常量</font>，里面的<font color='red'>值不能改</font>，每次String类的更新，实际就是<font color='orange'>地址的更新</font>，<font color='orange'>效率极低</font>。</p>
<p>2）StringBuffer保存的是<font color='red'>字符串变量</font>，里面的<font color='red'>值可以修改</font>，每次StringBuffer更新，<font color='orange'>可以只更新内容，而不更新地址</font>.(除非超出定义的内存，会自动扩大)。</p>
</blockquote>
<h6 id="构造器："><a href="#构造器：" class="headerlink" title="构造器："></a>构造器：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer();<span class="comment">// 构造一个其中不带字符的字符串缓冲区，初始容量为 16 个字符</span></span><br><span class="line">StringBuffer(CharSequence seq);<span class="comment">// 构造一个字符串缓冲区，它包含与指定的 CharSequence 相同的字符</span></span><br><span class="line">StringBuffer(<span class="type">int</span> capacity) <span class="comment">//构造一个不带字符，但具有指定初始容量的字符串缓冲区</span></span><br><span class="line">构造方法摘要 </span><br><span class="line">StringBuffer() </span><br><span class="line">          构造一个其中不带字符的字符串缓冲区，初始容量为 <span class="number">16</span> 个字符。 </span><br><span class="line">StringBuffer(CharSequence seq) </span><br><span class="line">          <span class="keyword">public</span> java.lang.StringBuilder(CharSequence seq) 构造一个字符串缓冲区，它包含与指定的 CharSequence 相同的字符。 </span><br><span class="line">StringBuffer(<span class="type">int</span> capacity) <span class="comment">//构造一个不带字符，但具有指定初始容量的字符串缓冲区。 </span></span><br><span class="line">StringBuffer(String str) <span class="comment">//构造一个字符串缓冲区，并将其内容初始化为指定的字符串内容 </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="String转换为StringBuffer"><a href="#String转换为StringBuffer" class="headerlink" title="String转换为StringBuffer:"></a>String转换为StringBuffer:</h6><p>方法一：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(str);</span><br></pre></td></tr></table></figure>

<p>方式二：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">stringBuffer.append(str);</span><br></pre></td></tr></table></figure>

<h6 id="StringBuffer转换为String："><a href="#StringBuffer转换为String：" class="headerlink" title="StringBuffer转换为String："></a>StringBuffer转换为String：</h6><p>方式一：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;hahha&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> stringBuffer.toString();</span><br></pre></td></tr></table></figure>

<p>方式二：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;haahhaa&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(stringBuffer);</span><br></pre></td></tr></table></figure>

<h6 id="常见方法："><a href="#常见方法：" class="headerlink" title="常见方法："></a>常见方法：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>）：append()追加。返回StringBuffer</span><br><span class="line"><span class="number">2</span>）：delete()删除。</span><br><span class="line">	   <span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;abcdefgh&quot;</span>);</span><br><span class="line">        System.out.println(stringBuffer);<span class="comment">//abcdefgh</span></span><br><span class="line">        stringBuffer.delete(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">        System.out.println(stringBuffer);<span class="comment">//bcdefgh;删除[begin,end)的元素，再返回处理好了的给原引用。</span></span><br><span class="line"><span class="number">3</span>）：replace()替换。</span><br><span class="line">		<span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;abcdefgh&quot;</span>);</span><br><span class="line">        System.out.println(stringBuffer);	<span class="comment">//abcdefgh</span></span><br><span class="line">        stringBuffer.replace(<span class="number">0</span>,<span class="number">3</span>,<span class="string">&quot;wo&quot;</span>);</span><br><span class="line">        System.out.println(stringBuffer);	<span class="comment">//wodefgh</span></span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">       <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">       <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">       sb.append(str);</span><br><span class="line">       System.out.println(sb);</span><br><span class="line">       System.out.println(sb.length());</span><br><span class="line">      <span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(str);<span class="comment">//java.lang.NullPointerException</span></span><br><span class="line">	  <span class="comment">// 空指针异常</span></span><br><span class="line">       System.out.println(stringBuffer);<span class="comment">//异常不处理后续代码！</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">Exception in thread &quot;main&quot; java.lang.NullPointerException</span></span><br><span class="line"><span class="comment">	at java.lang.StringBuffer.&lt;init&gt;(StringBuffer.java:145)</span></span><br><span class="line"><span class="comment">	at com.Reona.AllTest.Test.main(Test.java:16)</span></span><br><span class="line"><span class="comment">null</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder:"></a>StringBuilder:</h5><blockquote>
<p>1）：<font color='hotpink'>一个可变的字符序列</font>，此类提供一个与<font color='springgreen'>StringBuffer兼容的API</font>，但<font color='khaki'>不保证</font><font color='slateblue'>线程同步</font>(<font color='wheat'>StringBuilder不是线程安全</font>)，该类被设计用作StringBuffer的一个简易替换，当在<font color='khaki'>字符串缓冲区</font>被<font color='slateblue'>单个线程调用</font>时，如果可能，建议优先采用该类，因为在大多业务逻辑里，它比StringBuffer要<font color='orange'>快</font>。</p>
<p>2）：在StringBuilder上的主要操作是append（）和insert（）方法，可重载这些方法，以接受各种数据类型。</p>
</blockquote>
<h6 id="源码："><a href="#源码：" class="headerlink" title="源码："></a>源码：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">StringBuilder</span></span><br><span class="line">    <span class="keyword">extends</span> <span class="title class_">AbstractStringBuilder</span></span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">Serializable</span>, CharSequence</span><br><span class="line">&#123;	....	&#125;</span><br></pre></td></tr></table></figure>

<h6 id="说明："><a href="#说明：" class="headerlink" title="说明："></a>说明：</h6><blockquote>
<p>①StringBuilder<font color='springgreen'>继承了</font><font color='orange'>AbstractStringBuilder类</font>。</p>
<p>②实现了<font color='khaki'>Serializable接口</font>，说明其可以<font color='hotpink'>串行化</font>，（对象<font color='wheat'>可以网络传输</font>）。</p>
<p>③StringBuilder是<font color='orange'>final</font>类，<font color='cornflowerblue'>不能继承</font>。</p>
<p>④StringBuilder对象字序列仍然是存放在其父类<font color='orange'>AbstractStringBuilder</font>的<font color='hotpink'>char[ ] value</font>里，因此，<font color='springgreen'>字符序列存放在堆中</font>。</p>
<p>⑤StringBuilder的方法，没有做<font color='springgreen'>互斥处理</font>，即没有<font color='cornflowerblue'>synchronized(同步）</font>关键字，<font color='orange'>单线程</font>情况下使用。</p>
</blockquote>
<p>String，StringBuffer和StringBuilder</p>
<blockquote>
<p>①：<font color='slateblue'>StringBuffer和StringBuilder非常相似，均代表可变的字符序列，而且方法也一样(实现了同样的类与接口)</font></p>
<p>②：String是<font color='red'>不可变序列</font>，<font color='cornflowerblue'>效率低</font>，但是<font color='khaki'>复用率高</font>。</p>
<p>③：StringBuffer是<font color='hotpink'>可变序列</font>，<font color='wheat'>效率较高</font>，<font color='cornflowerblue'>线程安全</font>。</p>
<p>④：StringBuilder是<font color='slateblue'>可变序列</font>，<font color='orange'>效率最高</font>，<font color='khaki'>线程不安全</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;abcd&quot;</span>;</span><br><span class="line">str += <span class="string">&quot;b&quot;</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">实际上，原来&quot;a&quot;的字符串对象已经丢弃了，现在又产生了字符串str+&quot;b&quot;（即&quot;abcdb&quot;），如果多次执行这些改变串内容的操作，会导致大量副本字符串留在字符串中，降低效率。如果这样的操作放到循环中，会极大的影响程序性能。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>结论：对字符串大量修改时不要使用String。</p>
<p>效率：StringBuilder &gt; StringBuffer &gt;String</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"> <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++ )&#123;</span><br><span class="line">          str+=i;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">long</span> <span class="variable">stop</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">      System.out.println(<span class="string">&quot;String&quot;</span>+(stop-start));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(str);</span><br><span class="line">        <span class="type">long</span> <span class="variable">start1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">long</span> i=<span class="number">0</span>;i&lt;<span class="number">100000</span>;i++ )&#123;</span><br><span class="line">            stringBuffer.append(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">stop1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;StringBuffer&quot;</span>+(stop1-start1));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">stringBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(str);</span><br><span class="line">    <span class="type">long</span> <span class="variable">start2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100000</span>;i++)&#123;</span><br><span class="line">         stringBuilder.append(i);</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="type">long</span> <span class="variable">stop2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;StringBuilder&quot;</span>+(stop2-start2));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">String283</span></span><br><span class="line"><span class="comment">StringBuffer16</span></span><br><span class="line"><span class="comment">StringBuilder0</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>


</blockquote>
<h6 id="总结论："><a href="#总结论：" class="headerlink" title="总结论："></a>总结论：</h6><blockquote>
<p>①<font color='slateblue'>如果字符串中存在大量的修改操作</font>，使用<font color='springgreen'>StringBuffer</font>或<font color='springgreen'>StringBuilder</font>;</p>
<p>②<font color='slateblue'>如果字符串中存在大量的修改操作</font>，且是<font color='orange'>单</font>线程，使用<font color='springgreen'>StringBuilder</font></p>
<p>③<font color='slateblue'>如果字符串中存在大量的修改操作</font>,且是<font color='orange'>多</font>线程，使用<font color='springgreen'>StringBuffer</font>.</p>
<p>④如果我们<font color='hotpink'>很少去修改这个字符串</font>，被多个字符引用，使用<font color='springgreen'>String</font>,比如配置信息等。</p>
</blockquote>
<h5 id="Math类："><a href="#Math类：" class="headerlink" title="Math类："></a>Math类：</h5><p>Math类包含用于<font color='slateblue'>执行基本数学运算的方法</font>，如初等函数，对数平方根和三角函数…..(方法都为<font color='orange'>静态方法</font>)</p>
<p>方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">abs();  <span class="comment">//返回绝对值.</span></span><br><span class="line">pow();	<span class="comment">//求幂。</span></span><br><span class="line">ceil();	<span class="comment">//向上取整，返回最小的整数（&gt;=）。</span></span><br><span class="line">floor();  <span class="comment">//向下取整，返回最大整数（&lt;=）。</span></span><br><span class="line">round();<span class="comment">//返回最接近的参数，四舍五入。</span></span><br><span class="line">sqrt();<span class="comment">//开平方。Math.sqrt(-9);//NaN not a number.</span></span><br><span class="line">random(); <span class="comment">//求随机数，[0,1)</span></span><br><span class="line">		例：<span class="number">2</span>~<span class="number">7</span></span><br><span class="line">		(<span class="type">int</span>)(a+Math.random()*(b-a+<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<h5 id="Array类（数组）（引用类型）"><a href="#Array类（数组）（引用类型）" class="headerlink" title="Array类（数组）（引用类型）"></a>Array类（数组）（引用类型）</h5><p>常见方法：Arrays包含了一系列<font color='slateblue'>静态方法</font>，用于管理或操作数组，（比如，排序和搜索）。</p>
<blockquote>
<p>①toString返回数组的字符串形式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Arrays.toString(arr);</span><br></pre></td></tr></table></figure>

<p>②sort排序</p>
<blockquote>
<p>Ⅰ.<font color='orange'>直接排序</font>。&#x2F;&#x2F;会改arr原有顺序，因为是<font color='khaki'>引用类型</font>，（<font color='hotpink'>自然排序</font>）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Arrays.sort(arr);<span class="comment">//默认从小到大</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        String[] strs = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">3</span>];</span><br><span class="line">        strs[<span class="number">0</span>]=<span class="string">&quot;abc&quot;</span>;</span><br><span class="line">        strs[<span class="number">1</span>]=<span class="string">&quot;aba&quot;</span>;</span><br><span class="line">        strs[<span class="number">2</span>]=<span class="string">&quot;ab&quot;</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;排序前：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(String str: strs)&#123;</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(strs);</span><br><span class="line">        System.out.println(<span class="string">&quot;排序后：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(String str: strs)&#123;</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//排序前：</span></span><br><span class="line">abc</span><br><span class="line">aba</span><br><span class="line">ab</span><br><span class="line">排序后：</span><br><span class="line">ab</span><br><span class="line">aba</span><br><span class="line">abc</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>Ⅱ.<font color='orange'>定制排序</font>：</p>
<p><font color='springgreen'>sort有重载</font>，也可以传入<font color='khaki'>一个接口Comparator实现定制排序</font>，体现了<font color='wheat'>接口编程</font>的方式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     Integer[] arrs = <span class="keyword">new</span> <span class="title class_">Integer</span>[<span class="number">6</span>];</span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;<span class="number">6</span>;i++)&#123;</span><br><span class="line">         arrs[i]= i;</span><br><span class="line">     &#125;</span><br><span class="line">     Arrays.sort(arrs,<span class="keyword">new</span> <span class="title class_">Comparator</span>()&#123;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">             <span class="keyword">return</span> (Integer)o2 - (Integer)o1;<span class="comment">//12是从小到大，21是从大到小。</span></span><br><span class="line">         &#125;</span><br><span class="line">     &#125;);</span><br><span class="line">     <span class="keyword">for</span>(Integer i:arrs)&#123;</span><br><span class="line">         System.out.println(i);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">     Person[] people = <span class="keyword">new</span> <span class="title class_">Person</span>[<span class="number">4</span>];</span><br><span class="line">     people[<span class="number">0</span>]=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;小欢&quot;</span>,<span class="number">23</span>,<span class="string">&#x27;女&#x27;</span>);</span><br><span class="line">     people[<span class="number">1</span>]=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;小黑&quot;</span>,<span class="number">22</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line">     people[<span class="number">2</span>]=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;小美&quot;</span>,<span class="number">19</span>,<span class="string">&#x27;女&#x27;</span>);</span><br><span class="line">     people[<span class="number">3</span>]=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;小东&quot;</span>,<span class="number">20</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"></span><br><span class="line">     Arrays.sort(people, <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">             <span class="type">Person</span> <span class="variable">oo1</span> <span class="operator">=</span> (Person) o1;</span><br><span class="line">             <span class="type">Person</span> <span class="variable">oo2</span> <span class="operator">=</span> (Person) o2;</span><br><span class="line">             <span class="keyword">return</span> oo1.getAge() - oo2.getAge();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;);</span><br><span class="line">     <span class="keyword">for</span>(Person p:people)&#123;</span><br><span class="line">         System.out.println(p);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"> <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"> <span class="keyword">private</span> <span class="type">char</span> sex;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> name;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.name = name;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> age;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.age = age;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">getSex</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> sex;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSex</span><span class="params">(<span class="type">char</span> sex)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.sex = sex;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">char</span> sex)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.name = name;</span><br><span class="line">     <span class="built_in">this</span>.age = age;</span><br><span class="line">     <span class="built_in">this</span>.sex = sex;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">             <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">             <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">             <span class="string">&quot;, sex=&quot;</span> + sex +</span><br><span class="line">             <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Person&#123;name=<span class="string">&#x27;小美&#x27;</span>, age=<span class="number">19</span>, sex=女&#125;</span><br><span class="line">Person&#123;name=<span class="string">&#x27;小东&#x27;</span>, age=<span class="number">20</span>, sex=男&#125;</span><br><span class="line">Person&#123;name=<span class="string">&#x27;小黑&#x27;</span>, age=<span class="number">22</span>, sex=男&#125;</span><br><span class="line">Person&#123;name=<span class="string">&#x27;小欢&#x27;</span>, age=<span class="number">23</span>, sex=女&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="重点："><a href="#重点：" class="headerlink" title="重点："></a>重点：</h6><p>调用定制排序时，传入两个参数：</p>
<blockquote>
<p>①：<font color='khaki'>待排序的数组</font>。②：<font color='cornflowerblue'>实现了Comparator接口的匿名内部类。</font></p>
</blockquote>
</blockquote>
<p>源码分析：</p>
<blockquote>
<p>(1)最先调用自己的<font color='orange'>Array.sort(arr,new Comparator(){….})</font></p>
<p>(2)最终到<font color='khaki'>TimSort类</font>得</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(T[] a, <span class="type">int</span> lo, <span class="type">int</span> hi, Comparator&lt;? <span class="built_in">super</span> T&gt; c,</span></span><br><span class="line"><span class="params">                     T[] work, <span class="type">int</span> workBase, <span class="type">int</span> workLen)</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>(3)执行到<font color='wheat'>binarySort()方法的代码</font>，会根据<font color='slateblue'>动态绑定机制</font>调用传入的匿名内部类compare()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) &gt;&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(c.compare(pivot, a[mid]&lt;<span class="number">0</span>))&#123;</span><br><span class="line">		right = mid;</span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">    	left = mid + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(4)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">             <span class="type">Person</span> <span class="variable">oo1</span> <span class="operator">=</span> (Person) o1;</span><br><span class="line">             <span class="type">Person</span> <span class="variable">oo2</span> <span class="operator">=</span> (Person) o2;</span><br><span class="line">             <span class="keyword">return</span> oo1.getAge() - oo2.getAge();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125; </span><br></pre></td></tr></table></figure>

<p>(5)  public int compare(）方法的return会影响排序方法，充分体现了<font color='hotpink'>接口编程</font>+<font color='hotpink'>动态绑定</font>+<font color='hotpink'>匿名内部类</font>的综合使用。</p>
</blockquote>
</blockquote>
<p>对自制排序的深入理解：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">12</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">56</span>,<span class="number">21</span>&#125;;</span><br><span class="line">        bubble01(arr, <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> (Integer)o1 - (Integer)o2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> m: arr)&#123;</span><br><span class="line">            System.out.print(m+<span class="string">&quot;  &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubble01</span><span class="params">(<span class="type">int</span>[] arr,Comparator c)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt; arr.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>;j&lt; arr.length;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(c.compare(arr[i],arr[j])&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    temp = arr[i];</span><br><span class="line">                    arr[i] = arr[j];</span><br><span class="line">                    arr[j] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Arrays的常见方法："><a href="#Arrays的常见方法：" class="headerlink" title="Arrays的常见方法："></a>Arrays的常见方法：</h5><p>Arrays包含一系列<font color='cornflowerblue'>静态方法</font>，用于管理或操作数组（比如排序和搜索）。</p>
<blockquote>
<p>①</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Arrays.toString(arr);<span class="comment">//返回数组的字符串形式</span></span><br></pre></td></tr></table></figure>

<p>②</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">binarySearch();</span><br><span class="line"><span class="comment">//通过二分搜索法，要求必须排好序，即数组必须是有序的，不然，不可以使用，存在索引，从0开始。</span></span><br></pre></td></tr></table></figure>

<p>③</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">copyOf();</span><br><span class="line"><span class="comment">//数组元素复制，如果拷贝长度大于源数组，置于null；</span></span><br><span class="line">例: </span><br><span class="line">Integer[] newArr = Arrays.copyOf(arr,arr.length);</span><br><span class="line">该方法底层是System.arrayCopy();</span><br></pre></td></tr></table></figure>

<p>④</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fill();</span><br><span class="line"><span class="comment">//数组填充.</span></span><br><span class="line">Arrays.fill(arr,<span class="number">99</span>)<span class="comment">//填充所有</span></span><br></pre></td></tr></table></figure>

<p>⑤</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">equals();</span><br><span class="line"><span class="comment">//比较两个数组内容是否完全一致</span></span><br><span class="line"><span class="type">Boolean</span> <span class="variable">result</span> <span class="operator">=</span> Arrays.equals(arr1,arr2);</span><br></pre></td></tr></table></figure>

<p>⑥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">asList();</span><br><span class="line"><span class="comment">//将一组值转换为list</span></span><br><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> Arrays.asList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">编译类型：List（接口）。运行类型：java.util.Arrays#ArrayList(Arrays内的一个静态内部类)</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="System类："><a href="#System类：" class="headerlink" title="System类："></a>System类：</h5><blockquote>
<p>①<font color='cornflowerblue'>退出程序</font>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">exit();</span><br><span class="line"><span class="comment">// System.exit(0);  // 0代表正常退出。</span></span><br></pre></td></tr></table></figure>

<p>②<font color='cornflowerblue'>复制数组元素</font>，比较适合底层，一般用Arrays.copyOf():</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">arraycopyof(bject src,  <span class="type">int</span>  srcPos,Object dest, <span class="type">int</span> destPos,<span class="type">int</span> length);</span><br><span class="line">			源数组      拷贝起点     目标数组      复制起点     拷贝长度</span><br><span class="line"><span class="comment">//例：</span></span><br><span class="line">        <span class="type">int</span> arr[] = &#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>&#125;;</span><br><span class="line">        <span class="type">int</span> arr1[]=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>];</span><br><span class="line">        System.arraycopy(arr,<span class="number">0</span>,arr1,<span class="number">0</span>,<span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<p>③<font color='cornflowerblue'>返回当前时间到1970-1-1的毫秒数</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(System.currentTimeMillis());</span><br></pre></td></tr></table></figure>

<p>④<font color='cornflowerblue'>垃圾回收机制</font>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.gc();</span><br></pre></td></tr></table></figure>

<p>⑤<font color='cornflowerblue'>BigInteger类</font>和<font color='cornflowerblue'>BigDecimal类</font>：</p>
<blockquote>
<p>Ⅰ.<font color='khaki'>BigInteger</font>适合保存<font color='orange'>比较大的整型</font>。</p>
<p>Ⅱ.<font color='khaki'>BigDecimal</font>适合保存<font color='orange'>精度更高的浮点型</font>。（小数）</p>
<blockquote>
<p>一：<font color='hotpink'>处理很大的数时</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BigDecimal bigDecimal=newBigDecimal(<span class="string">&quot;1277777777777777777777777&quot;</span>);</span><br><span class="line">System.out.println(bigDecimal);</span><br></pre></td></tr></table></figure>

<p>二：当涉及到加减乘除时，使用<font color='hotpink'>对应的方法</font>，<font color='springgreen'>不可直接加减乘除</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">add();<span class="comment">//加</span></span><br><span class="line">subtract();<span class="comment">//减</span></span><br><span class="line">multiply();<span class="comment">//乘</span></span><br><span class="line">divide();<span class="comment">//除</span></span><br></pre></td></tr></table></figure>

<p>三：<font color='hotpink'>保存精度很高的数</font>，double已经不够用了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BigDecimal bigDecimal=<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;1.277777777777777777777777&quot;</span>);</span><br><span class="line">        System.out.println(bigDecimal);</span><br></pre></td></tr></table></figure>

<p>注意：如果对BigDecimal进行<font color='springgreen'>除法，可能导致除不尽</font>，结果<font color='cornflowerblue'>无限循环</font>，而抛出异常(ArithmeticException)。解决方案：<font color='khaki'>指定精度</font>，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(bigDecimal.divide(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="number">3</span>),BigDecimal.ROUND_CEILING));</span><br></pre></td></tr></table></figure>


</blockquote>
</blockquote>
</blockquote>
<h5 id="Date类："><a href="#Date类：" class="headerlink" title="Date类："></a>Date类：</h5><h6 id="第一代日期类："><a href="#第一代日期类：" class="headerlink" title="第一代日期类："></a>第一代日期类：</h6><blockquote>
<p>精确到<font color='khaki'>毫秒</font>，代表特定的时间。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SimpleDateFormate:格式化和解析日期的类</span><br></pre></td></tr></table></figure>

<p>允许进行格式化：（日期–》文本）；解析：（文本–》日期）和规范化。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//获得本机当前时间。</span></span><br><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">System.out.println(date);<span class="comment">//默认为国外的时间；Wed Nov 23 16:24:46 CST 2022</span></span><br><span class="line"><span class="comment">//创建SimpleDateFormat对象，可以用指定的相应格式.</span></span><br><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">simpleDateFormat</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy年MM日dd hh:mm:ss&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">date1</span> <span class="operator">=</span> simpleDateFormat.format(date);</span><br><span class="line">System.out.println(date1);<span class="comment">//2022年11日23日 04:28:08</span></span><br></pre></td></tr></table></figure>

<p>通过<font color='khaki'>指定毫秒数获得时间</font>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">100000000</span>);<span class="comment">//Mon Jan 12 21:46:40 CST 1970</span></span><br></pre></td></tr></table></figure>

<p>把一个<font color='khaki'>格式化时间转成字符串</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;1996年01月01日 10:20:30 星期一&quot;</span> ;<span class="comment">//要和格式化模式一致</span></span><br><span class="line">SimpleDateFormat simpleDateFormat=<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy年MM月dd日 hh:mm:ss E&quot;</span>);</span><br><span class="line"><span class="type">Date</span> <span class="variable">parse</span> <span class="operator">=</span> simpleDateFormat.parse(str);</span><br><span class="line">System.out.println(parse);<span class="comment">//Mon Jan 01 10:20:30 CST 1996变成国外模式了，</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="第二代日期类："><a href="#第二代日期类：" class="headerlink" title="第二代日期类："></a>第二代日期类：</h6><p><font color='springgreen'>calendar</font>，是一个<font color='springgreen'>抽象类</font>，而且<font color='hotpink'>构造器是private</font>，但可以通过<font color='orange'>getInstance()</font>来获取实例，内含大量的方法和字段。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="type">Calendar</span> <span class="variable">cal</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line"> System.out.println(cal);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">java.util.GregorianCalendar[time=1669193085286,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Asia/Shanghai&quot;,offset=28800000,dstSavings=0,useDaylight=false,transitions=31,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2022,MONTH=10,WEEK_OF_YEAR=48,WEEK_OF_MONTH=4,DAY_OF_MONTH=23,DAY_OF_YEAR=327,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=44,SECOND=45,MILLISECOND=286,ZONE_OFFSET=28800000,DST_OFFSET=0]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>获取日历对象的<font color='cornflowerblue'>某个日历字段</font>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Calendar</span> <span class="variable">cal</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">System.out.println(<span class="string">&quot;月：&quot;</span>+(cal.get(Calendar.MONTH)+<span class="number">1</span>));<span class="comment">//为什么+1，因为是从0开始的，要加1.</span></span><br></pre></td></tr></table></figure>

<p><font color='wheat'>Calendar没有专门的格式化方法</font>，所以需要程序员自己来组合显示。</p>
<p><font color='slateblue'>获取24小时制的时间：</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="type">Calendar</span> <span class="variable">cal</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line"> System.out.println(cal.get(Calendar.HOUR));<span class="comment">//4</span></span><br><span class="line">System.out.println(cal.get(Calendar.HOUR_OF_DAY));<span class="comment">// 16</span></span><br></pre></td></tr></table></figure>

<h6 id="第三代日期类："><a href="#第三代日期类：" class="headerlink" title="第三代日期类："></a>第三代日期类：</h6><p>前两代的问题分析：</p>
<blockquote>
<p>JDK1,0中包含了一个<font color='cornflowerblue'>java.util.Date</font>类，但是其大多数方法已经在JDK1.1引入<font color='khaki'>Calendar时被弃用了</font>，而Calendar的问题则是：</p>
<blockquote>
<p>①<font color='wheat'>可变性</font>：像时间和日期应该是不可变的</p>
<p>②<font color='wheat'>偏移性</font>：Date中的年份始于1900年，而月份始于0。</p>
<p>③<font color='wheat'>格式化</font>：格式化只对Date有用，Calender则不行。</p>
<p>④此外，它们都是<font color='wheat'>线程不安全</font>的，不能处理闰年，（每隔两天多出1s）</p>
</blockquote>
</blockquote>
<p>常见方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalDateTime</span>  <span class="variable">ldt</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">System.out.println(ldt);</span><br><span class="line"><span class="comment">//2022-11-23T18:07:32.718  		(年月日时分秒)</span></span><br><span class="line">System.out.println(ldt.getHour());</span><br><span class="line"><span class="comment">//18</span></span><br></pre></td></tr></table></figure>

<p>DateTimeFormatter格式日期类，类似于SimpleDateFormat</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//获取时间对象</span></span><br><span class="line"> <span class="type">LocalDateTime</span>  <span class="variable">ldt</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line"> System.out.println(ldt);<span class="comment">//2022-11-23T18:13:14.102</span></span><br><span class="line"> <span class="comment">//格式化的方式</span></span><br><span class="line"> DateTimeFormatter dateTimeFormatter=DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy年MM月dd日 hh:mm:ss E&quot;</span>);</span><br><span class="line"><span class="comment">//转换为String</span></span><br><span class="line"> <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> dateTimeFormatter.format(ldt);</span><br><span class="line"> System.out.println(str);<span class="comment">//  2022年11月23日 06:13:14 星期三      </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Instant时间戳(类似于Date)</p>
<p>提供了一系列和Date转换的方式：</p>
<p>Date转换到Instant：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">System.out.println(date);<span class="comment">//Wed Nov 23 18:20:34 CST 2022</span></span><br><span class="line"><span class="type">Instant</span> <span class="variable">itt</span> <span class="operator">=</span> date.toInstant();</span><br><span class="line">System.out.println(itt);<span class="comment">//2022-11-23T10:20:34.137Z</span></span><br></pre></td></tr></table></figure>

<p>Instant转换到Date</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> Instant.now();<span class="comment">//获取时间戳对象</span></span><br><span class="line"> <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> Date.from(instant);</span><br><span class="line"> System.out.println(date);<span class="comment">//Wed Nov 23 18:37:34 CST 2022</span></span><br></pre></td></tr></table></figure>

<p>如何写出问题的错误情况：</p>
<blockquote>
<p>①：先写正确的情况。②：取反。</p>
</blockquote>
<h5 id="集合（Collection）："><a href="#集合（Collection）：" class="headerlink" title="集合（Collection）："></a>集合（Collection）：</h5><h6 id="数组的不足之处："><a href="#数组的不足之处：" class="headerlink" title="数组的不足之处："></a>数组的不足之处：</h6><blockquote>
<p>①：<font color='springgreen'>长度开始时必须指定</font>，而且一旦指定，<font color='hotpink'>不能更改</font>。</p>
<p>②：保存的数据类型必须为<font color='springgreen'>同一数据类型</font>。</p>
<p>③：使用数组进行<font color='springgreen'>增删时较为麻烦</font>。</p>
</blockquote>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Cat[] cats = <span class="keyword">new</span> <span class="title class_">Cat</span>[<span class="number">1</span>];</span><br><span class="line">cats[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;lili&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//当添加小猫时</span></span><br><span class="line">Cat[] cats1 = <span class="keyword">new</span> <span class="title class_">Cat</span>[cats.length + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i;i&lt;cats.length;i++)&#123;</span><br><span class="line">	cats1[i]=cats[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="集合的优点："><a href="#集合的优点：" class="headerlink" title="集合的优点："></a>集合的优点：</h6><blockquote>
<p>①：可以<font color='cornflowerblue'>动态</font>的<font color='slateblue'>保存任意多个对象</font>，使用方便。</p>
<p>②：提供了一系列方便操作对象的方法（add();move()）；</p>
<p>③：使用集合添加删除新元素代码简洁明了。</p>
</blockquote>
<h6 id="集合的框架图："><a href="#集合的框架图：" class="headerlink" title="集合的框架图："></a>集合的框架图：</h6><p><img src="/pic/p9s.png" alt="img"></p>
<p><img src="/pic/p10.png" alt="img"></p>
<p>①Collection接口有2个重要的重要的<font color='springgreen'>子接口</font>:<font color='springgreen'>List</font> 和 <font color='springgreen'>Set</font>，它们的<font color='wheat'>实现子类都是</font><font color='khaki'>单列集合</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ArrayList</span> <span class="variable">arrayList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">arrayList.add(<span class="string">&quot;jack&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>②Map接口的实现子类是<font color='wheat'>双列集合</font>，存放的是<font color='khaki'>k-v</font>（<font color='hotpink'>双列集合：双列数据</font>）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HashMap</span> <span class="variable">hashMap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">hashMap.put(<span class="string">&quot;No.1&quot;</span>,<span class="string">&quot;BeiJing&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Collection接口和常用方法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Collection</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">Iterable</span>&lt;E&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>①：Collection实现<font color='orange'>子类可以存放多个元素</font>，每个元素可以是<font color='slateblue'>Object</font>。</p>
<p>②：有些Collection接口的子类可以<font color='khaki'>存放重复的元素</font>，有些<font color='cornflowerblue'>不可以</font>。</p>
<p>③：有些Collection的实现类，有些是<font color='wheat'>有序的List</font>，有些是<font color='orange'>无序的Set</font>。</p>
<p>④：Collection接口<font color='red'>没有直接实现的子类</font>，是通过它的<font color='hotpink'>子类Set和List来实现的</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">add(Object o );<span class="comment">//添加单个元素。</span></span><br><span class="line"></span><br><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">list.add(<span class="number">10</span>);<span class="comment">//自动装箱，list.add(new Integer(10));</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">contains(Object o);<span class="comment">//查找元素是否存在。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">size();<span class="comment">//获取元素个数</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clear();<span class="comment">//清空所有元素</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(Collection c)</span> &#123;&#125;<span class="comment">//实现了Collection接口，按照指定 collection 的迭代器所返回的元素顺序，将该 collection 中的所有元素添加到此列表的尾部。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">containsAll(Collection c);<span class="comment">//查找多个元素是否存在。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">removeAll();<span class="comment">//删除指定对象</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="Collection遍历元素："><a href="#Collection遍历元素：" class="headerlink" title="Collection遍历元素："></a>Collection遍历元素：</h6><p>方式一：<font color='springgreen'>使用iterator（迭代器）</font></p>
<blockquote>
<p>①：iterator对象称为迭代器，主要用于遍历Collection集合中的元素，</p>
<p>②：所有实现了Collection接口的类都有一个iterator()方法，用以返回一个实现了<font color='springgreen'>Iterator接口</font>的对象，即可以<font color='orange'>返回一个迭代器</font>。</p>
<p>③：Iterator仅用<font color='cornflowerblue'>于遍历集合</font>，Iterator本身<font color='hotpink'>不存放对象</font>。</p>
<p>④：执行原理：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="number">10</span>);</span><br><span class="line">        list.add(<span class="number">12</span>);</span><br><span class="line">        list.add(<span class="number">11</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> list.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext()<span class="comment">/*得到一个Boolean值*/</span>)&#123;</span><br><span class="line">            System.out.println(iterator.next());<span class="comment">//调用next()方法时，必须要调用hasNext()，来保证还有下一元素。</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">[10, 12, 11]</span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">12</span></span><br><span class="line"><span class="comment">11</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//		iterator.next();返回的是Object!!!</span></span><br><span class="line"><span class="comment">// next() ①下移。②将下移后所在位置元素返回。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;lili&quot;</span>,<span class="number">19</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;jimi&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;rick&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;tom&quot;</span>,<span class="number">22</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> list.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> (Person)(iterator.next());</span><br><span class="line">            System.out.println(person);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        iterator = list.iterator();<span class="comment">//使迭代器重置到初始位置。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name,<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123; &quot;</span>+name+<span class="string">&quot; , &quot;</span>+age+<span class="string">&quot;  &quot;</span>+<span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">Person&#123; lili , 19  &#125;</span></span><br><span class="line"><span class="comment">Person&#123; jimi , 20  &#125;</span></span><br><span class="line"><span class="comment">Person&#123; rick , 18  &#125;</span></span><br><span class="line"><span class="comment">Person&#123; tom , 22  &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>⑤：另一种方式：<font color='springgreen'>增强for循环</font>：可以代替iterator迭代器。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;lili&quot;</span>,<span class="number">19</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;jimi&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;rick&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;tom&quot;</span>,<span class="number">22</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(Object person: list)&#123;</span><br><span class="line">            System.out.println((Person)person);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name,<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123; &quot;</span>+name+<span class="string">&quot; , &quot;</span>+age+<span class="string">&quot;  &quot;</span>+<span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>特点：增强for循环就是简化版的iterator（<font color='orange'>增强for循环底层使用了iterator</font>）；本质一样，只能用于遍历集合或数组。</p>
<p>基本语法：</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(元素类型 元素名: 集合名或数组名)&#123;</span><br><span class="line">	System.out.println(元素名);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<h5 id="List接口："><a href="#List接口：" class="headerlink" title="List接口："></a>List接口：</h5><p>List接口是<font color='springgreen'>Collection的子接口</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">List</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">Collection</span>&lt;E&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>

<h6 id="特点：-1"><a href="#特点：-1" class="headerlink" title="特点："></a>特点：</h6><blockquote>
<p>①：List元素<font color='hotpink'>有序（即添加顺序和取出顺序一致）</font>，且<font color='orange'>可以重复</font>。</p>
<p>②：List集合中的<font color='wheat'>每个元素多有对应的顺序索引</font>，可取<font color='orange'>get(索引)</font>取，<font color='khaki'>索引从0开始</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list.get(<span class="type">int</span> i);</span><br></pre></td></tr></table></figure>

<p>③：List的实现类有很多</p>
</blockquote>
<h6 id="List的常见方法："><a href="#List的常见方法：" class="headerlink" title="List的常见方法："></a>List的常见方法：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> index,Object ele)</span>;<span class="comment">//在index的位子处插入ele元素</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(<span class="type">int</span> index, Collection ele)</span>;<span class="comment">//从index位置开始将ele中所有元素添加进来。</span></span><br><span class="line"></span><br><span class="line">Object <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span>;<span class="comment">//获取指定的index位置的元素。</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">indexOf</span><span class="params">(Object ob)</span> / <span class="type">int</span>  <span class="title function_">lastIndexOf</span><span class="params">(Object ob)</span>;</span><br><span class="line"><span class="comment">//   返回首次				返回最后一次</span></span><br><span class="line"></span><br><span class="line">Object <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span>;<span class="comment">//移除指定index的元素，并返回此元素。（均不可越界）</span></span><br><span class="line"></span><br><span class="line">Object <span class="title function_">set</span><span class="params">(<span class="type">int</span> index,Object ele)</span>;<span class="comment">//设置指定位置的元素为ele,相当于为替换。</span></span><br><span class="line"></span><br><span class="line">List <span class="title function_">suibList</span><span class="params">(<span class="type">int</span> fromIndex, <span class="type">int</span> toIndex)</span>;<span class="comment">//返回从fromIndex到toIndex位置的子集合</span></span><br><span class="line">				<span class="comment">//    [ fromIndedx , toIndex )</span></span><br></pre></td></tr></table></figure>

<p>List的三种遍历方式：</p>
<blockquote>
<p>①：<font color='springgreen'>使用iterator</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> list.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">    <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> (Person)iterator.next();</span><br><span class="line">    System.out.println(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>②：<font color='springgreen'>使用增强for循环：</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(Object p: list)&#123;</span><br><span class="line">           <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> (Person)p;</span><br><span class="line">           System.out.println(person);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<p>③：<font color='springgreen'>使用普通的for循环：</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;list.size();i++)&#123;</span><br><span class="line">           <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> (Person)list.get(i);</span><br><span class="line">           System.out.println(person);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="ArrayList的底层分析："><a href="#ArrayList的底层分析：" class="headerlink" title="ArrayList的底层分析："></a>ArrayList的底层分析：</h5><blockquote>
<p>①：可以<font color='cornflowerblue'>保存各种元素</font>，<font color='wheat'>包括null</font>，且<font color='orange'>可以存多个</font>。</p>
<p>②：底层是<font color='orange'>由数组存储</font>。</p>
<p>③：<font color='springgreen'>ArrayList基本等同于Vector</font>，ArrayList<font color='hotpink'>线程不安全（执行效率高</font>）（各方法<font color='orange'>没有synchronized</font>），故<font color='slateblue'>多线程时，不建议用ArrayList</font>。</p>
</blockquote>
<h6 id="底层分析：（先说结论）"><a href="#底层分析：（先说结论）" class="headerlink" title="底层分析：（先说结论）"></a>底层分析：（先说结论）</h6><blockquote>
<p>①：ArrayList底层维护了<font color='khaki'>一个Object类型的数组elementData</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">transient</span> Object[] elementData;<span class="comment">// transient表示瞬间，短暂，该属性不会被序列化</span></span><br></pre></td></tr></table></figure>

<p>②：创建ArrayList对象使用<font color='springgreen'>无参构造器</font>，则<font color='springgreen'>elementData初始容量为0</font>，第一次添加扩容为<font color='hotpink'>10</font>，如果还要添加，则以<font color='hotpink'>1.5倍扩容</font>。</p>
<p>③：如果调用<font color='khaki'>指定大小的构造器</font>，<font color='khaki'>则初始elementData容量为指定大小</font>，如果要扩容，以<font color='hotpink'>1.5倍扩容</font>。</p>
</blockquote>
<h6 id="空参构造器的底层分析："><a href="#空参构造器的底层分析：" class="headerlink" title="空参构造器的底层分析："></a>空参构造器的底层分析：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">            list.add(i);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>①：调用空参构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">ArrayList</span><span class="params">()</span> &#123;</span><br><span class="line">       <span class="built_in">this</span>.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span><br><span class="line">    	<span class="comment">// 创建一个空的elementData数组。</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>②：先自动装箱为Integer</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">valueOf</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">            <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(i);</span><br></pre></td></tr></table></figure>

<p>③：调用add()方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">        ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!</span></span><br><span class="line">        elementData[size++] = e;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 执行list.add()方法：</span></span><br><span class="line">    (<span class="number">1</span>)、先确定是否可以扩容。</span><br><span class="line">    (<span class="number">2</span>)、可以扩容，再走下一步。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Ⅰ：    ensureCapacityInternal(size + 1);</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">						<span class="comment">//size=0;minCapacity=0+1=1;</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">ensureCapacityInternal</span><span class="params">(<span class="type">int</span> minCapacity)</span> &#123; </span><br><span class="line">       ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// elementData是存储数据的数组</span></span><br></pre></td></tr></table></figure>

<p>Ⅱ：calculateCapacity(elementData, minCapacity);</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">calculateCapacity</span><span class="params">(Object[] elementData, <span class="type">int</span> minCapacity)</span> &#123;</span><br><span class="line">    <span class="comment">//如果elementData是空数组,返回minCapacity和DEFAULT_CAPACITY的最大值</span></span><br><span class="line">        <span class="keyword">if</span> (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;</span><br><span class="line">            <span class="keyword">return</span> Math.max(DEFAULT_CAPACITY, minCapacity);<span class="comment">//return 10;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> minCapacity;<span class="comment">//当不为空时返回最小的minCapacity</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ArrayList中：</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">DEFAULT_CAPACITY</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//上述方法，执行完毕后，返回到</span></span><br><span class="line"> ensureExplicitCapacity()</span><br></pre></td></tr></table></figure>

<p>Ⅲ：ensureExplicitCapacity(int minCapacity);</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">ensureExplicitCapacity</span><span class="params">(<span class="type">int</span> minCapacity)</span>&#123;<span class="comment">//minCapacity=10</span></span><br><span class="line">       modCount++;<span class="comment">//记录当前集合修改的次数</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">// overflow-conscious code</span></span><br><span class="line">       <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)</span><br><span class="line">   <span class="comment">//需要的最小容量  减去  数组实际的容量 大于 0，即容量不够    </span></span><br><span class="line">           grow(minCapacity);</span><br><span class="line">           <span class="comment">//真正去扩容</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>Ⅳ：private void grow(int minCapacity)  &#x2F;&#x2F; 真正去扩容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">grow</span><span class="params">(<span class="type">int</span> minCapacity)</span> &#123;</span><br><span class="line">        <span class="comment">// overflow-conscious code</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">oldCapacity</span> <span class="operator">=</span> elementData.length;</span><br><span class="line">        <span class="comment">//                      0</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> <span class="variable">newCapacity</span> <span class="operator">=</span> oldCapacity + (oldCapacity &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//                         0  +  0/2  = 1.5 * 0 </span></span><br><span class="line">    	<span class="comment">//   第二次及其以后，按照1.5倍扩容。    </span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (newCapacity - minCapacity &lt; <span class="number">0</span>)<span class="comment">//0 - 10 =-10</span></span><br><span class="line">            newCapacity = minCapacity;</span><br><span class="line">            <span class="comment">//  			10</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="number">0</span>)</span><br><span class="line">        <span class="comment">//				2147483639</span></span><br><span class="line">        <span class="comment">//如果newCapacity比MAX_ARRAY_SIZE还大，再进行hugeCapacity();</span></span><br><span class="line">            newCapacity = hugeCapacity(minCapacity);</span><br><span class="line">        <span class="comment">// minCapacity is usually close to size, so this is a win:</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//将elementData数组和newCapacity复制到elementData中。</span></span><br><span class="line">        <span class="comment">//可以防止原数组丢失；</span></span><br><span class="line">        elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Ⅴ：一步步return回到add()方法执行</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  elementData[size++] = e; <span class="comment">//把数据添加进去</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//再循环执行。</span></span><br></pre></td></tr></table></figure>

<p>Ⅵ：当超过15时再次扩容（以1.5倍扩容(15+15&#x2F;2&#x3D;15+7&#x3D;22)）：</p>
<p>注意：IDEA会简化Debug的数据：设置方法：</p>
<blockquote>
<p>File –&gt; setting –&gt; Build,Execution,Deployment–&gt;Debugger–&gt;Data Views–&gt;Java–&gt;去除Enable alternative view for Collection classes</p>
</blockquote>
</blockquote>
</blockquote>
<p>含参构造器的底层分析：</p>
<blockquote>
<p>①：调用构造器：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">ArrayList</span><span class="params">(<span class="type">int</span> initialCapacity)</span> &#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (initialCapacity &gt; <span class="number">0</span>) &#123;</span><br><span class="line">       <span class="comment">//如果初始值大于大于0,传一个Object数组给当前数组</span></span><br><span class="line">           <span class="built_in">this</span>.elementData = <span class="keyword">new</span> <span class="title class_">Object</span>[initialCapacity];</span><br><span class="line">       &#125; <span class="keyword">else</span> <span class="keyword">if</span> (initialCapacity == <span class="number">0</span>) &#123;</span><br><span class="line">       	<span class="comment">//等于0时，当前数组为空数组</span></span><br><span class="line">           <span class="built_in">this</span>.elementData = EMPTY_ELEMENTDATA;</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="comment">//参数小于0时，丢出异常！！！</span></span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Illegal Capacity: &quot;</span>+</span><br><span class="line">                                              initialCapacity);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>②：和上面完全一样（也是以1.5倍扩容）（8+8&#x2F;2 &#x3D; 12;）</p>
</blockquote>
<h5 id="Vector"><a href="#Vector" class="headerlink" title="Vector:"></a>Vector:</h5><blockquote>
<p>①定义：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Vector</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">AbstractList</span>&lt;E&gt; <span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable</span><br><span class="line">&#123;  &#125;</span><br></pre></td></tr></table></figure>

<p>②底层也是<font color='springgreen'>对象数组</font>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Object[] elementData;</span><br></pre></td></tr></table></figure>

<p>③Vactor是<font color='orange'>线程同步</font>的，即<font color='orange'>线程安全</font>的，Vector类的操作<font color='hotpink'>方法带有synchronized</font>。</p>
<p>④在开发时，要保证<font color='slateblue'>线程同步可使用Vector</font>。</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">底层结构</th>
<th align="center">版本</th>
<th align="center">线程安全（同步），效率</th>
<th align="center">扩容倍数</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ArrayList</td>
<td align="center">可变数组</td>
<td align="center">jdk1.2</td>
<td align="center">不安全，效率高</td>
<td align="center">①：有参1.5倍②：无参第一次为10，之后按1.5倍扩容</td>
</tr>
<tr>
<td align="center">Vector</td>
<td align="center">可变数组</td>
<td align="center">jdk1.0</td>
<td align="center">安全，效率低</td>
<td align="center">①：有参2倍扩②：无参第一次为10，之后按2倍扩容</td>
</tr>
</tbody></table>
<h6 id="Vector的源码解读："><a href="#Vector的源码解读：" class="headerlink" title="Vector的源码解读："></a>Vector的源码解读：</h6><p>方式一：无参构造器：</p>
<blockquote>
<p>①调用构造器：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Vector</span><span class="params">()</span> &#123; <span class="built_in">this</span>(<span class="number">10</span>);&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Vector</span><span class="params">(<span class="type">int</span> initialCapacity)</span>&#123;<span class="built_in">this</span>(initialCapacity, <span class="number">0</span>);&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Vector</span><span class="params">(<span class="type">int</span> initialCapacity, <span class="type">int</span> capacityIncrement)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line">    <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)<span class="comment">//initialCapacity = 10,小于抛异常。</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Illegal Capacity: &quot;</span>+</span><br><span class="line">                                           initialCapacity);</span><br><span class="line">    <span class="built_in">this</span>.elementData = <span class="keyword">new</span> <span class="title class_">Object</span>[initialCapacity];<span class="comment">//这里指定了10!!</span></span><br><span class="line">    <span class="built_in">this</span>.capacityIncrement = capacityIncrement;</span><br><span class="line">    <span class="comment">//capacityIncrement初始为0，现在还是0.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>②自动装箱：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">valueOf</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">           <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(i);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>③调用add()方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">        modCount++;<span class="comment">//记录更改次数</span></span><br><span class="line">        ensureCapacityHelper(elementCount + <span class="number">1</span>);<span class="comment">//容量判断够不够</span></span><br><span class="line">        elementData[elementCount++] = e;<span class="comment">//把元素加入其中</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>④ensureCapacityHelper(int minCapacity)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">ensureCapacityHelper</span><span class="params">(<span class="type">int</span> minCapacity)</span> &#123;</span><br><span class="line">       <span class="comment">// overflow-conscious code</span></span><br><span class="line">       <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)</span><br><span class="line">     <span class="comment">//所需的最小容量  减去  集合的实际长度</span></span><br><span class="line">           grow(minCapacity);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>⑤把数据元素加入集合</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elementData[elementCount++] = e;<span class="comment">//后加加</span></span><br></pre></td></tr></table></figure>

<p>⑥grow()方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">grow</span><span class="params">(<span class="type">int</span> minCapacity)</span> &#123;</span><br><span class="line">       <span class="comment">// overflow-conscious code</span></span><br><span class="line">       <span class="type">int</span> <span class="variable">oldCapacity</span> <span class="operator">=</span> elementData.length;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//capacityIncrement=0;故为oldCapacity+oldCapacity=2*oldCapacity!!!!</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">newCapacity</span> <span class="operator">=</span> oldCapacity +                    </span><br><span class="line">           ((capacityIncrement&gt;<span class="number">0</span>) ? capacityIncrement : oldCapacity);</span><br><span class="line">    </span><br><span class="line">       <span class="keyword">if</span> (newCapacity - minCapacity &lt; <span class="number">0</span>)</span><br><span class="line">           newCapacity = minCapacity;</span><br><span class="line">       <span class="keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="number">0</span>)</span><br><span class="line">           newCapacity = hugeCapacity(minCapacity);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//拷贝数组！！！</span></span><br><span class="line">       elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="LinkedList的全面说明："><a href="#LinkedList的全面说明：" class="headerlink" title="LinkedList的全面说明："></a>LinkedList的全面说明：</h5><blockquote>
<p>①：底层实现了<font color='hotpink'>双向链表</font>和<font color='hotpink'>双端队列</font></p>
<p>②：可以<font color='hotpink'>添加任意元素（元素可以重复），包括null</font></p>
<p>③：<font color='hotpink'>线程不安全，没有实现同步</font>。</p>
</blockquote>
<p>底层操作机制：</p>
<blockquote>
<p>Ⅰ.LinkedList<font color='orange'>底层维护了一个双向链表</font>。</p>
<p>Ⅱ.LinkedList中维护了<font color='khaki'>两个属性</font>，<font color='springgreen'>first</font>和<font color='springgreen'>last</font>，分别指向<font color='wheat'>首节点</font>和<font color='wheat'>尾节点</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">transient</span> Node&lt;E&gt; first;</span><br><span class="line"><span class="keyword">transient</span> Node&lt;E&gt; last;</span><br></pre></td></tr></table></figure>

<p>Ⅲ.每个<font color='slateblue'>节点（Node对象）</font>，里面又维护了<font color='khaki'>prev</font>，<font color='khaki'>next</font>，<font color='khaki'>item</font>三个属性，<font color='cornflowerblue'>prev指向前一个，next指向下一个节点</font>。</p>
<p><img src="/pic/p11.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;E&gt; &#123;</span><br><span class="line">        E item;</span><br><span class="line">        Node&lt;E&gt; next;</span><br><span class="line">        Node&lt;E&gt; prev;</span><br><span class="line"></span><br><span class="line">        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">            <span class="built_in">this</span>.item = element;</span><br><span class="line">            <span class="built_in">this</span>.next = next;</span><br><span class="line">            <span class="built_in">this</span>.prev = prev;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Ⅳ.由于LinkedList的<font color='cornflowerblue'>添加与删除</font>，<font color='orange'>不是数组完成的</font>，因而<font color='hotpink'>效率高</font>。</p>
</blockquote>
<p>简单模拟下链表：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Nodess</span> <span class="variable">jack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Nodess</span>(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        <span class="type">Nodess</span> <span class="variable">lili</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Nodess</span>(<span class="string">&quot;lili&quot;</span>);</span><br><span class="line">        jack.next=lili;</span><br><span class="line">        lili.prev=jack;</span><br><span class="line">        <span class="type">Nodess</span> <span class="variable">first</span> <span class="operator">=</span> jack;</span><br><span class="line">        <span class="type">Nodess</span> <span class="variable">last</span> <span class="operator">=</span> lili;</span><br><span class="line">        <span class="keyword">while</span>(first!=<span class="literal">null</span>)&#123;</span><br><span class="line">            System.out.println(first);</span><br><span class="line">            first = first.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="keyword">class</span> <span class="title class_">Nodess</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> Object ele;</span><br><span class="line">    <span class="keyword">public</span> Nodess prev ;</span><br><span class="line">    <span class="keyword">public</span> Nodess next ;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">public</span> <span class="title function_">Nodess</span><span class="params">(Object ele)</span> &#123;</span><br><span class="line">         <span class="built_in">this</span>.ele = ele;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">     <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="string">&quot;ele =&quot;</span>+ele;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">ele =jack</span></span><br><span class="line"><span class="comment">ele =lili</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><font color='orange'>CRUD：增删改查。</font></p>
</blockquote>
<h6 id="LinkedList添加源码解读："><a href="#LinkedList添加源码解读：" class="headerlink" title="LinkedList添加源码解读："></a>LinkedList添加源码解读：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="type">LinkedList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span> ; i &lt; <span class="number">10</span>;i++)&#123;</span><br><span class="line">            list.add(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  我的建议画图去理解！！！！不然，容易晕的。</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>①调用构造器：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">LinkedList</span><span class="params">()</span> &#123; &#125;</span><br></pre></td></tr></table></figure>

<p>②自动装箱：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">valueOf</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">          <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(i);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>③调用add()方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">        linkLast(e);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>④调用linkLast()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">linkLast</span><span class="params">(E e)</span> &#123;</span><br><span class="line">       <span class="keyword">final</span> Node&lt;E&gt; l = last;<span class="comment">//last = null</span></span><br><span class="line">       <span class="keyword">final</span> Node&lt;E&gt; newNode = <span class="keyword">new</span> <span class="title class_">Node</span>&lt;&gt;(l, e, <span class="literal">null</span>);<span class="comment">//创建新节点</span></span><br><span class="line">       last = newNode;<span class="comment">//last指向新的节点</span></span><br><span class="line">       <span class="keyword">if</span> (l == <span class="literal">null</span>)<span class="comment">//赋值first节点</span></span><br><span class="line">           first = newNode;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">           l.next = newNode;<span class="comment">//上一节点指向新节点</span></span><br><span class="line">       size++;<span class="comment">//集合大小加加</span></span><br><span class="line">       modCount++;<span class="comment">//修改次数加加</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>⑤创建新节点</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;E&gt; &#123;</span><br><span class="line">       E item;</span><br><span class="line">       Node&lt;E&gt; next;</span><br><span class="line">       Node&lt;E&gt; prev;</span><br><span class="line"></span><br><span class="line">       Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">       <span class="comment">//     l             e            null    </span></span><br><span class="line">           <span class="built_in">this</span>.item = element;</span><br><span class="line">           <span class="built_in">this</span>.next = next;</span><br><span class="line">           <span class="built_in">this</span>.prev = prev;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>⑥逐步返回，再循环执行。</p>
</blockquote>
<h6 id="LinkedList删除源码解读："><a href="#LinkedList删除源码解读：" class="headerlink" title="LinkedList删除源码解读："></a>LinkedList删除源码解读：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">E <span class="title function_">remove</span><span class="params">()</span> </span><br><span class="line"><span class="comment">//获取并移除此列表的头（第一个元素）</span></span><br><span class="line"></span><br><span class="line">E <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span> </span><br><span class="line"><span class="comment">//移除此列表中指定位置处的元素</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object o)</span> </span><br><span class="line"><span class="comment">//从此列表中移除首次出现的指定元素（如果存在） </span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">E <span class="title function_">remove</span><span class="params">()</span> 的源码解读：</span><br><span class="line"></span><br><span class="line">①：<span class="keyword">public</span> E <span class="title function_">remove</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> removeFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">②：<span class="keyword">public</span> E <span class="title function_">removeFirst</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; f = first;</span><br><span class="line">        <span class="keyword">if</span> (f == <span class="literal">null</span>) <span class="comment">//如果没有first指针什么也没指，说明为空</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NoSuchElementException</span>();</span><br><span class="line">        <span class="keyword">return</span> unlinkFirst(f);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">③：<span class="keyword">private</span> E <span class="title function_">unlinkFirst</span><span class="params">(Node&lt;E&gt; f)</span> &#123;</span><br><span class="line">        <span class="comment">// assert f == first &amp;&amp; f != null;</span></span><br><span class="line">        <span class="keyword">final</span> <span class="type">E</span> <span class="variable">element</span> <span class="operator">=</span> f.item;</span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; next = f.next; </span><br><span class="line">        f.item = <span class="literal">null</span>;</span><br><span class="line">        f.next = <span class="literal">null</span>; <span class="comment">// help GC （垃圾回收）</span></span><br><span class="line">        first = next;</span><br><span class="line">        <span class="keyword">if</span> (next == <span class="literal">null</span>)</span><br><span class="line">            last = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            next.prev = <span class="literal">null</span>;</span><br><span class="line">        size--;</span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="keyword">return</span> element;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">④再逐步返回....</span><br></pre></td></tr></table></figure>

<p>LinkedList实现了<font color='springgreen'>List接口</font>，可以用iterator或增强for循环。</p>
<p>ArrayList和LinkedList的比较：</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">底层结构</th>
<th align="center">增删效率</th>
<th align="center">查找效率</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ArrayList</td>
<td align="center">可变数组</td>
<td align="center">较低（数组扩容）</td>
<td align="center">较高</td>
</tr>
<tr>
<td align="center">LinkedList</td>
<td align="center">双向链表</td>
<td align="center">较高（链表修改）</td>
<td align="center">较低</td>
</tr>
</tbody></table>
<p>结论：</p>
<blockquote>
<p>①：如果<font color='orange'>查</font>的多，用<font color='khaki'>ArrayList</font>。</p>
<p>②：如果<font color='orange'>增删</font>的多，用<font color='khaki'>LinkedList</font>。</p>
<p>③：一般来说，程序中80%~90%都是查询，因此，大部分选用ArrayList。</p>
<p>④：在一个项目里，由于业务所需，可能会一个模块用ArrayList，另一个用LinkedList。</p>
</blockquote>
<h5 id="Set接口和常用方法："><a href="#Set接口和常用方法：" class="headerlink" title="Set接口和常用方法："></a>Set接口和常用方法：</h5><h6 id="特点：-2"><a href="#特点：-2" class="headerlink" title="特点："></a>特点：</h6><blockquote>
<p>①：<font color='red'>无序</font>（<font color='hotpink'>添加和取出的顺序不一致</font>），<font color='red'>没有索引</font>。</p>
<p>②：<font color='springgreen'>不允许有重复的元素</font>，<font color='orange'>最多包含一个null</font>。</p>
<p>③：JDK中是实现Set接口的类有很多。</p>
</blockquote>
<h6 id="Set接口的常用方法："><a href="#Set接口的常用方法：" class="headerlink" title="Set接口的常用方法："></a>Set接口的常用方法：</h6><blockquote>
<p>和List接口一样，<font color='khaki'>Set接口也是Collection接口的子接口</font>，因此，常用方法和Collecetion接口一样。</p>
</blockquote>
<h6 id="Set接口的遍历方式："><a href="#Set接口的遍历方式：" class="headerlink" title="Set接口的遍历方式："></a>Set接口的遍历方式：</h6><blockquote>
<p>Ⅰ：<font color='wheat'>使用迭代器</font>。</p>
<p>Ⅱ：<font color='wheat'>增强for循环</font>。</p>
<p>Ⅲ：<font color='hotpink'>不可使用索引</font>：<font color='orange'>因为无序</font>。（<font color='khaki'>没有get()方法</font>）</p>
</blockquote>
<p>HashSet：</p>
<blockquote>
<p>Ⅰ：<font color='springgreen'>实现了Set接口</font></p>
<p>Ⅱ：<font color='cornflowerblue'>实际上是HashMap源码</font>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">HashSet</span><span class="params">()</span> &#123;</span><br><span class="line">    map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Ⅲ：可以<font color='orange'>存放null值，但是只能有一个null值。</font></p>
<p>Ⅳ：HashSet<font color='khaki'>不保证元素有序</font>，即<font color='slateblue'>存放元素顺序和取出顺序不一样</font>。</p>
<p>Ⅴ：<font color='red'>不能有重复元素</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">       hashSet.add(<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line">       hashSet.add(<span class="string">&quot;hsp&quot;</span>);<span class="comment">//加不进去！！！</span></span><br><span class="line"></span><br><span class="line">       hashSet.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;tom&quot;</span>));</span><br><span class="line">       hashSet.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;tom&quot;</span>));<span class="comment">//加的进去</span></span><br><span class="line"></span><br><span class="line">       hashSet.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hsp&quot;</span>));</span><br><span class="line">       hashSet.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hsp&quot;</span>));<span class="comment">//加不进去</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        hashSet.add(<span class="string">&quot;First&quot;</span>);</span><br><span class="line">        hashSet.add(<span class="number">1</span>);</span><br><span class="line">        hashSet.add(<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">        hashSet.add(<span class="number">2.4</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> hashSet.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">2.4</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">A</span></span><br><span class="line"><span class="comment">First</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// 顺序不一致！！！</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p><font color='cornflowerblue'>HashSet底层是HashMap</font>，HashMap底层是（<font color='orange'>数组</font>+<font color='orange'>链表</font>+<font color='orange'>红黑树</font>）</p>
<p><img src="/pic/p12.png" alt="img"></p>
<p>重点：</p>
<blockquote>
<p>①：<font color='cornflowerblue'>添加一个元素</font>时，先得到<font color='orange'>hash值</font>之后会转变为<font color='khaki'>索引值</font>。</p>
<p>②：找到<font color='hotpink'>存储数据的数据表table</font>，看到这个索引位置是否已存放元素。</p>
<blockquote>
<p>Ⅰ：<font color='cornflowerblue'>若无，直接存入</font>。</p>
<p>Ⅱ：若有，<font color='khaki'>调用equals（）比较（不同传入内容的equals（）方法作用不一样，具体看情况）</font>。如果<font color='wheat'>相同</font>则<font color='wheat'>放弃添加</font>，若<font color='wheat'>不同</font>，添<font color='wheat'>加到最后</font>。</p>
<p>Ⅲ：在Java8中，如果一条链表的元素个数达到TREETFY_THRESHOLD（如果默认为8）；并且table的大小 &gt;&#x3D; MINTREEIFY_CAPACITY（默认为64)；就会进行树化（红黑树）。</p>
</blockquote>
</blockquote>
<p>HashSet的源码解读：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        hashSet.add(<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line">      	hashSet.add(<span class="string">&quot;php&quot;</span>);</span><br><span class="line">        hashSet.add(<span class="string">&quot;hsp&quot;</span>);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p><font color='hotpink'>第一次添加”hsp”</font></p>
<p>①：构造器初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">HashSet</span><span class="params">()</span> &#123;</span><br><span class="line">        map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>②：执行add()方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;	<span class="comment">// e:	&quot;hsp&quot;</span></span><br><span class="line">       <span class="keyword">return</span> map.put(e, PRESENT)==<span class="literal">null</span>;</span><br><span class="line">    <span class="comment">// PRESET在HashSet源代码的找，定义如下：</span></span><br><span class="line">    <span class="comment">// private static final Object PRESENT = new Object();</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>③：执行put（）方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123;</span><br><span class="line"><span class="comment">//        e:&quot;hsp&quot;</span></span><br><span class="line"><span class="comment">//    value :</span></span><br><span class="line">       <span class="keyword">return</span> putVal(hash(key), key, value, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">   &#125;<span class="comment">// force stop into 进入hash()方法</span></span><br></pre></td></tr></table></figure>

<p>④：获得”hsp”的hash值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">hash</span><span class="params">(Object key)</span> &#123;</span><br><span class="line">     <span class="comment">//     			&quot;hsp&quot;</span></span><br><span class="line">        <span class="type">int</span> h;</span><br><span class="line">        <span class="keyword">return</span> (key == <span class="literal">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//hashcode和hash值不是同一个东西，hash由上述算法搞来</span></span><br></pre></td></tr></table></figure>

<p>⑤：执行putVal(hash(key), key, value, false, true);方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> V <span class="title function_">putVal</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">boolean</span> onlyIfAbsent,</span></span><br><span class="line"><span class="params">                   <span class="type">boolean</span> evict)</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="type">int</span> n, i;<span class="comment">//定义辅助变量</span></span><br><span class="line">    <span class="comment">// transient Node&lt;K,V&gt;[] table;</span></span><br><span class="line"> <span class="keyword">if</span> ((tab = table) == <span class="literal">null</span> || (n = tab.length) == <span class="number">0</span>)<span class="comment">//table：HashMap内放节点的字段</span></span><br><span class="line">            n = (tab = resize()).length;<span class="comment">//</span></span><br><span class="line">        <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span>)</span><br><span class="line">            tab[i] = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Node&lt;K,V&gt; e; K k;</span><br><span class="line">            <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                e = p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">                        p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                        <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    p = e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">                <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">                <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                    e.value = value;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="keyword">return</span> oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ++modCount;</span><br><span class="line">        <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">            resize();</span><br><span class="line">        afterNodeInsertion(evict);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>⑥：resize()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class="line">        Node&lt;K,V&gt;[] oldTab = table;</span><br><span class="line">        <span class="type">int</span> <span class="variable">oldCap</span> <span class="operator">=</span> (oldTab == <span class="literal">null</span>) ? <span class="number">0</span> : oldTab.length;<span class="comment">//oldTab=null</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">oldThr</span> <span class="operator">=</span> threshold;<span class="comment">//前面定义的threshold=0;</span></span><br><span class="line">        <span class="type">int</span> newCap, newThr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (oldCap &gt; <span class="number">0</span>) &#123;<span class="comment">//false</span></span><br><span class="line">            <span class="keyword">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</span><br><span class="line">                threshold = Integer.MAX_VALUE;</span><br><span class="line">                <span class="keyword">return</span> oldTab;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> ((newCap = oldCap &lt;&lt; <span class="number">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class="line">                     oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class="line">                newThr = oldThr &lt;&lt; <span class="number">1</span>; <span class="comment">// double threshold</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (oldThr &gt; <span class="number">0</span>) <span class="comment">// initial capacity was placed in threshold</span></span><br><span class="line">            <span class="comment">//   false</span></span><br><span class="line">            newCap = oldThr;</span><br><span class="line">        <span class="keyword">else</span> &#123;               <span class="comment">// zero initial threshold signifies using defaults</span></span><br><span class="line">            newCap = DEFAULT_INITIAL_CAPACITY;<span class="comment">//  16</span></span><br><span class="line">            <span class="comment">//前面定义过：</span></span><br><span class="line">            <span class="comment">// static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16</span></span><br><span class="line">            newThr = (<span class="type">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class="line">            <span class="comment">// newThr =	12	        加载因子 *              16</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (newThr == <span class="number">0</span>) &#123;<span class="comment">//false</span></span><br><span class="line">            <span class="type">float</span> <span class="variable">ft</span> <span class="operator">=</span> (<span class="type">float</span>)newCap * loadFactor;</span><br><span class="line">            newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (<span class="type">float</span>)MAXIMUM_CAPACITY ?</span><br><span class="line">                      (<span class="type">int</span>)ft : Integer.MAX_VALUE);</span><br><span class="line">        &#125;</span><br><span class="line">        threshold = newThr;<span class="comment">// 12</span></span><br><span class="line">        <span class="meta">@SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)</span></span><br><span class="line">        Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class="keyword">new</span> <span class="title class_">Node</span>[newCap];</span><br><span class="line">    <span class="comment">//简化：Node newTab = new Node[16];</span></span><br><span class="line">        table = newTab;<span class="comment">//使table指向newTab。</span></span><br><span class="line">        <span class="keyword">if</span> (oldTab != <span class="literal">null</span>) &#123;  <span class="comment">//false</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; oldCap; ++j) &#123;</span><br><span class="line">                Node&lt;K,V&gt; e;</span><br><span class="line">                <span class="keyword">if</span> ((e = oldTab[j]) != <span class="literal">null</span>) &#123;</span><br><span class="line">                    oldTab[j] = <span class="literal">null</span>;</span><br><span class="line">                    <span class="keyword">if</span> (e.next == <span class="literal">null</span>)</span><br><span class="line">                        newTab[e.hash &amp; (newCap - <span class="number">1</span>)] = e;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                        ((TreeNode&lt;K,V&gt;)e).split(<span class="built_in">this</span>, newTab, j, oldCap);</span><br><span class="line">                    <span class="keyword">else</span> &#123; <span class="comment">// preserve order</span></span><br><span class="line">                        Node&lt;K,V&gt; loHead = <span class="literal">null</span>, loTail = <span class="literal">null</span>;</span><br><span class="line">                        Node&lt;K,V&gt; hiHead = <span class="literal">null</span>, hiTail = <span class="literal">null</span>;</span><br><span class="line">                        Node&lt;K,V&gt; next;</span><br><span class="line">                        <span class="keyword">do</span> &#123;</span><br><span class="line">                            next = e.next;</span><br><span class="line">                            <span class="keyword">if</span> ((e.hash &amp; oldCap) == <span class="number">0</span>) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (loTail == <span class="literal">null</span>)</span><br><span class="line">                                    loHead = e;</span><br><span class="line">                                <span class="keyword">else</span></span><br><span class="line">                                    loTail.next = e;</span><br><span class="line">                                loTail = e;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (hiTail == <span class="literal">null</span>)</span><br><span class="line">                                    hiHead = e;</span><br><span class="line">                                <span class="keyword">else</span></span><br><span class="line">                                    hiTail.next = e;</span><br><span class="line">                                hiTail = e;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="keyword">while</span> ((e = next) != <span class="literal">null</span>);</span><br><span class="line">                        <span class="keyword">if</span> (loTail != <span class="literal">null</span>) &#123;</span><br><span class="line">                            loTail.next = <span class="literal">null</span>;</span><br><span class="line">                            newTab[j] = loHead;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (hiTail != <span class="literal">null</span>) &#123;</span><br><span class="line">                            hiTail.next = <span class="literal">null</span>;</span><br><span class="line">                            newTab[j + oldCap] = hiHead;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newTab; <span class="comment">//返回</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回，到</span></span><br><span class="line"><span class="comment">//  n = (tab = resize()).length;  // newTab.length;16</span></span><br></pre></td></tr></table></figure>

<p>⑥：继续：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span>)<span class="comment">//由于是第一次添加，ture</span></span><br><span class="line"> <span class="comment">//    找出该hash值找到的tab[]的位置，并判断是否为空。</span></span><br><span class="line">            tab[i] = newNode(hash, key, value, <span class="literal">null</span>);<span class="comment">//存入该节点</span></span><br><span class="line">			<span class="comment">//newNode()底层是new Node();</span></span><br><span class="line">            <span class="comment">//hash的作用是防止下次传入一个一样的元素。</span></span><br><span class="line">            <span class="comment">// key: &quot;hsp&quot;;</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Node&lt;K,V&gt; e; K k;</span><br><span class="line">            <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                e = p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">                        p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                        <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    p = e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">                <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">                <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                    e.value = value;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="keyword">return</span> oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ++modCount;<span class="comment">//记录修改次数，初始为0</span></span><br><span class="line">        <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">            <span class="comment">//如果size+1 &gt; 12 了</span></span><br><span class="line">            resize();<span class="comment">//扩大</span></span><br><span class="line">        afterNodeInsertion(evict);<span class="comment">//留给HashMap的子类去搞的</span></span><br><span class="line"><span class="comment">//      void afterNodeInsertion(boolean evict) &#123; &#125;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"><span class="comment">//返回null</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//与add()方法的</span></span><br><span class="line"><span class="comment">// return map.put(e, PRESENT)==null;一致</span></span><br><span class="line">添加成功<span class="string">&quot;hsp&quot;</span>！！！</span><br></pre></td></tr></table></figure>

<p>⑦：<font color='hotpink'>添加”java”:</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123; <span class="comment">// &quot;php&quot;</span></span><br><span class="line">        <span class="keyword">return</span> map.put(e, PRESENT)==<span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123;</span><br><span class="line">    <span class="comment">//         &quot;php&quot;,  PRESENT</span></span><br><span class="line">       <span class="keyword">return</span> putVal(hash(key), key, value, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">final</span> V <span class="title function_">putVal</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">boolean</span> onlyIfAbsent,</span></span><br><span class="line"><span class="params">                   <span class="type">boolean</span> evict)</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="type">int</span> n, i;</span><br><span class="line">        <span class="keyword">if</span> ((tab = table) == <span class="literal">null</span> || (n = tab.length) == <span class="number">0</span>)<span class="comment">//false</span></span><br><span class="line">            n = (tab = resize()).length;</span><br><span class="line">        <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span>)<span class="comment">//true，该位置为空，直接算，</span></span><br><span class="line">            tab[i] = newNode(hash, key, value, <span class="literal">null</span>);<span class="comment">//存入节点</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Node&lt;K,V&gt; e; K k;</span><br><span class="line">            <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                e = p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">                        p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                        <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    p = e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">                <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">                <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                    e.value = value;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="keyword">return</span> oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ++modCount;<span class="comment">//修改次数加加</span></span><br><span class="line">        <span class="keyword">if</span> (++size &gt; threshold)<span class="comment">//size大于扩张的临界值吗？  false。</span></span><br><span class="line">            resize();</span><br><span class="line">        afterNodeInsertion(evict);<span class="comment">// 子类去实现的，true</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// 一步步返回，完成！！！</span></span><br></pre></td></tr></table></figure>

<p>⑧：<font color='hotpink'>第二次添加”java”</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> map.put(e, PRESENT)==<span class="literal">null</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> putVal(hash(key), key, value, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> V <span class="title function_">putVal</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">boolean</span> onlyIfAbsent,</span></span><br><span class="line"><span class="params">                   <span class="type">boolean</span> evict)</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="type">int</span> n, i;</span><br><span class="line">        <span class="keyword">if</span> ((tab = table) == <span class="literal">null</span> || (n = tab.length) == <span class="number">0</span>)<span class="comment">//false</span></span><br><span class="line">           <span class="comment">//table表不为空！已经存了&quot;hsp&quot;和&quot;php&quot;</span></span><br><span class="line">            n = (tab = resize()).length;</span><br><span class="line">        <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span>)<span class="comment">//false</span></span><br><span class="line">        <span class="comment">//发现该hash值所要的位置上存东西了，不能直接存放。    </span></span><br><span class="line">            tab[i] = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Node&lt;K,V&gt; e; K k;		<span class="comment">//定义辅助变量</span></span><br><span class="line">            </span><br><span class="line"> <span class="comment">//如果table表里的p节点的hash值与传入的hash值一致(同一个对象)，且</span></span><br><span class="line"> <span class="comment">// 满足以下一个：</span></span><br><span class="line"> <span class="comment">// p节点的key值等于传入的key,或者key不为空，且调用equals()方法来判断！！！！！！！</span></span><br><span class="line">            <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                e = p;  <span class="comment">// 使e指向p;</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode) <span class="comment">//false</span></span><br><span class="line"><span class="comment">//判读是否为一颗红黑树，如果是，执行putTreeVal()方法。            </span></span><br><span class="line">                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//链表进行</span></span><br><span class="line">                <span class="comment">//即不满足hash什么的相同，也不是红黑树</span></span><br><span class="line">                <span class="comment">//链表进行循环！！！</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="comment">//p节点的下一个为空，是(Node)p节点的next指向newNode(),加入末尾成功</span></span><br><span class="line">                        p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                        <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line"><span class="comment">//把新节点加入到链表中后，应该立即判断当前链表是否已经达到8个,如果达到8个，就进行树化（转成红黑树），注意，转成红黑树时，要进行判断，</span></span><br><span class="line"><span class="comment">//if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)    resize();</span></span><br><span class="line"><span class="comment">//如果上面条件成立，先table扩容， tab.length要&gt;=64才树化                           </span></span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">     <span class="comment">// 由于e = p.next;当p.next的节点的hash相同，且是相同对象或key不为空时且内容相等       //鉴定为同一个东西，直接break！！！！！</span></span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    p = e;<span class="comment">//它们在循环中。</span></span><br><span class="line">                    <span class="comment">//让p指向e,保证一直是p.next为e,循环ing。 </span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 将旧值换新值。</span></span><br><span class="line">            <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">                <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">                <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                    e.value = value;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="keyword">return</span> oldValue;<span class="comment">//返回，不执行后续代码！！！！</span></span><br><span class="line">   <span class="comment">//因为不修改，故不用加加和判断！！！，返回的不是null!!!,但有什么关系吗？</span></span><br><span class="line">   <span class="comment">/**public boolean add(E e) &#123;</span></span><br><span class="line"><span class="comment">        return map.put(e, PRESENT)==null;</span></span><br><span class="line"><span class="comment">    &#125;   没有关系！！！</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ++modCount;<span class="comment">//修改次数++</span></span><br><span class="line">        <span class="keyword">if</span> (++size &gt; threshold)<span class="comment">//size大于8?</span></span><br><span class="line">            resize();</span><br><span class="line">        afterNodeInsertion(evict);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<p>HashSet的扩容和转成红黑树的机制：</p>
<blockquote>
<p>①：HashSet的<font color='hotpink'>底层是HashMap</font>，<font color='springgreen'>第一次添加</font>时，<font color='orange'>table数组扩容到16</font>，临界值（threshold）（门槛，界）为<font color='wheat'>16*加载因子（loadFactor）0.75  &#x3D;  12</font></p>
<p>②：如果table数组使用到了（超过了）<font color='orange'>临界值</font>12，就会<font color='cornflowerblue'>扩容</font>到16*2 &#x3D; 32；新的临界值就是32 * 0.75 &#x3D;24；依此类推。</p>
<p>③：在Java8中如果<font color='orange'>一条链表</font>的<font color='khaki'>元素个数</font>到达<font color='springgreen'>TREEIFY_THRESHOLD(默认是8)</font>，并且<font color='hotpink'>table的大小&gt;&#x3D;MIN_TREEIFY_CAPACITY(默认为64)</font>，就进行<font color='slateblue'>树化（红黑树）</font>，否则依旧<font color='wheat'>数组扩容机制</font>。</p>
<h6 id="验证扩容机制："><a href="#验证扩容机制：" class="headerlink" title="验证扩容机制："></a>验证扩容机制：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i= <span class="number">1</span>;i&lt;= <span class="number">100</span>;i++)&#123;</span><br><span class="line">            hashSet.add(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用stepover</span></span><br></pre></td></tr></table></figure>

<h6 id="验证树化机制："><a href="#验证树化机制：" class="headerlink" title="验证树化机制："></a>验证树化机制：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">           hashSet.add(<span class="keyword">new</span> <span class="title class_">S</span>(i));</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">S</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">S</span><span class="params">(<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.i = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">111</span>;</span><br><span class="line">    &#125;<span class="comment">//决定了存放的位置！！</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//stepover</span></span><br><span class="line"><span class="comment">//当链表上的元素超过8个时，每增加一个元素，就resize()一次，即数组扩容：16  32   64； 到64再加一个元素时就要树化了（第8个16，第9个32，第10个64，第11个树化）！！！</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">if</span> (++size &gt; threshold)<span class="comment">//size大于临界值时，扩容</span></span><br><span class="line"><span class="comment">//每加入一个节点，size就会++,不论加到什么位子。</span></span><br><span class="line">            resize();</span><br></pre></td></tr></table></figure>

</blockquote>
<h6 id="练习题："><a href="#练习题：" class="headerlink" title="练习题："></a>练习题：</h6><blockquote>
<p>定义一个Employee类，包含private的成员属性name和age。</p>
<p>要求：创建3个Employee放入HashSet中；</p>
<p>​			当name和age相同时则认为是同一人。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;lili&quot;</span>,<span class="number">12</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;tom&quot;</span>,<span class="number">12</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;lili&quot;</span>,<span class="number">13</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;lili&quot;</span>,<span class="number">12</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(hashSet);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> (Employee) o;</span><br><span class="line">        <span class="keyword">return</span> age == employee.age &amp;&amp; Objects.equals(name, employee.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person=&#123; &quot;</span>+</span><br><span class="line">                name+<span class="string">&quot;,&quot;</span>+age+</span><br><span class="line">                <span class="string">&quot; &#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在Generate中重写hashCode()和equals()方法即可，注意：如果不重写hashCode(),是根据对象地址计算的，不重写，很难得到同一个hashCode()(不同的值hashCode（Object里）可以相等)</span></span><br><span class="line"><span class="comment">// 至于age会自动装箱为Integer，而Integer底层重写了hashCode()方法，返回数值!!!</span></span><br></pre></td></tr></table></figure>


</blockquote>
<blockquote>
<p>定义一个Employee类，包含private的成员属性name,sal,brithday(Mydate类型)。其中birthday为MyDate类型（属性包括：year,month,day）</p>
<p>要求：创建3个Employee放入HashSet中；</p>
<p>​			当name和birthday相同时则认为是同一人。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;lili&quot;</span>,<span class="number">12.4</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2002</span>,<span class="number">1</span>,<span class="number">3</span>)));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;lili&quot;</span>,<span class="number">13.5</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2002</span>,<span class="number">1</span>,<span class="number">3</span>)));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;lili&quot;</span>,<span class="number">12.4</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2001</span>,<span class="number">1</span>,<span class="number">3</span>)));</span><br><span class="line">        System.out.println(hashSet);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> sal;</span><br><span class="line">    <span class="keyword">private</span> MyDate birthday;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSal</span><span class="params">(<span class="type">double</span> sal)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sal = sal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> MyDate <span class="title function_">getBirthday</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBirthday</span><span class="params">(MyDate birthday)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Employee&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, sal=&quot;</span> + sal +</span><br><span class="line">                <span class="string">&quot;, birthday=&quot;</span> + birthday +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">double</span> sal, MyDate birthday)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sal = sal;</span><br><span class="line">        <span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> (Employee) o;</span><br><span class="line">        <span class="keyword">return</span> Objects.equals(name, employee.name) &amp;&amp; Objects.equals(birthday, employee.birthday);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, birthday);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyDate</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> month;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> day;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getYear</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> year;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setYear</span><span class="params">(<span class="type">int</span> year)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.year = year;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMonth</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> month;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMonth</span><span class="params">(<span class="type">int</span> month)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.month = month;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDay</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> day;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDay</span><span class="params">(<span class="type">int</span> day)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.day = day;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyDate</span><span class="params">(<span class="type">int</span> year, <span class="type">int</span> month, <span class="type">int</span> day)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.year = year;</span><br><span class="line">        <span class="built_in">this</span>.month = month;</span><br><span class="line">        <span class="built_in">this</span>.day = day;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;MyDate&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;year=&quot;</span> + year +</span><br><span class="line">                <span class="string">&quot;, month=&quot;</span> + month +</span><br><span class="line">                <span class="string">&quot;, day=&quot;</span> + day +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">MyDate</span> <span class="variable">myDate</span> <span class="operator">=</span> (MyDate) o;</span><br><span class="line">        <span class="keyword">return</span> year == myDate.year &amp;&amp; month == myDate.month &amp;&amp; day == myDate.day;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(year, month, day);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//由于区别于name和MyDate类，重写它们的equals和hashCode()即可！！</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="LinkedHashSet："><a href="#LinkedHashSet：" class="headerlink" title="LinkedHashSet："></a>LinkedHashSet：</h5><blockquote>
<p>①：LinkedHashSet是<font color='orange'>HashSet的子类</font>。</p>
<p>②：LinkedHashSet底层是<font color='hotpink'>LinkedHashMap</font>,底层维护了一个<font color='springgreen'>数组</font><font color='khaki'>+</font><font color='springgreen'>双向链表</font>（<font color='wheat'>HashSet为数组+单向链表</font>）</p>
<p>③：LinkedHashSet根据元素的<font color='cornflowerblue'>hashCode的值来决定元素的存储位置</font>，同时使用<font color='wheat'>链表来维护元素的次序（双向链表）</font>，使得元素看起来是<font color='slateblue'>以顺序插入的。（存入和取出一致，有序）</font></p>
<p>④：LinkedHashSet<font color='red'>不允许添加重复元素</font>。</p>
</blockquote>
<p><img src="/pic/p13.png" alt="img"></p>
<p>LinkedHashSet中维护了<font color='springgreen'>一个hash表</font>和<font color='springgreen'>双向链表</font></p>
<blockquote>
<p>①：LinkedHashSet有<font color='orange'>head</font>和<font color='orange'>tail</font>。</p>
<p>②：每一个节点有<font color='khaki'>prev</font>和<font color='khaki'>next</font>属性，这样<font color='slateblue'>可以形成双向链表。</font></p>
<p>③：在添加一个元素时，<font color='hotpink'>先求hash值</font>，再<font color='hotpink'>求索引</font>，确定该元素在<font color='hotpink'>hashtable的位子</font>，然后将添加的元素<font color='hotpink'>加入到双向链表</font>（如果已经存在，不添加（原则和hashSet一致））</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tail.next = newElement<span class="comment">//简单指定</span></span><br><span class="line">newElement.pre = tail;</span><br><span class="line">tail = newEelement;</span><br></pre></td></tr></table></figure>

<p>④：这样的话，我们<font color='khaki'>遍历LinkedHashSet也能确保插入顺序和遍历顺序一致</font>。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">LinkedHashSet</span> <span class="variable">linkedHashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>();</span><br><span class="line">        linkedHashSet.add(<span class="number">12</span>);</span><br><span class="line">        linkedHashSet.add(<span class="number">6</span>);</span><br><span class="line">        linkedHashSet.add(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">        linkedHashSet.add(<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">        linkedHashSet.add(<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(linkedHashSet);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [12, 6, running, A]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>①：LinkedHashSet<font color='springgreen'>加入顺序</font>和<font color='springgreen'>取出顺序</font><font color='hotpink'>一致</font>。</p>
<p>②：LinkedHashSet底层是<font color='hotpink'>LinkedHashMap</font>（HashMap的子类）</p>
<p>③：LinkedHashSet底层结构是（<font color='orange'>数组（table）</font>+ <font color='orange'>双向链表</font>）</p>
<p>④：添加第一次直接将<font color='khaki'>数组table扩容</font>到<font color='slateblue'>16</font>，存放的节点类型是<font color='khaki'>LinkedHashMap$Entry</font>。</p>
<p>⑤：数组是<font color='cornflowerblue'>HashMap$Node[ ]</font>，存放的元素&#x2F;数据是<font color='cornflowerblue'>LinkedHashMap$Entry</font>。</p>
<p><img src="/pic/p15.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Entry</span>&lt;K,V&gt; <span class="keyword">extends</span> <span class="title class_">HashMap</span>.Node&lt;K,V&gt; &#123;</span><br><span class="line">        Entry&lt;K,V&gt; before, after;</span><br><span class="line">        Entry(<span class="type">int</span> hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">            <span class="built_in">super</span>(hash, key, value, next);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">//Entry继续了Node,实现了数组的多态。</span></span><br></pre></td></tr></table></figure>

<p>源码就不追了，因为:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedHashSet</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">extends</span> <span class="title class_">HashSet</span>&lt;E&gt;<span class="comment">// 父类在这</span></span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">Set</span>&lt;E&gt;, Cloneable, java.io.Serializable &#123;   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>只是其是双向链表不一样而已。</p>
</blockquote>
<h6 id="例题："><a href="#例题：" class="headerlink" title="例题："></a>例题：</h6><blockquote>
<p>创建一个Car类，属性有name和price;要求name和price相同时，则认为是同一辆车。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">LinkedHashSet</span> <span class="variable">linkedHashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>();</span><br><span class="line">        linkedHashSet.add(<span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;保时捷&quot;</span>,<span class="number">12</span>));</span><br><span class="line">        linkedHashSet.add(<span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;保时捷&quot;</span>,<span class="number">12</span>));</span><br><span class="line">        linkedHashSet.add(<span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;宝马&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        linkedHashSet.add(<span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;奥迪&quot;</span>,<span class="number">14</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(linkedHashSet);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String name, <span class="type">double</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(<span class="type">double</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Car&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, price=&quot;</span> + price +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> (Car) o;</span><br><span class="line">        <span class="keyword">return</span> Double.compare(car.price, price) == <span class="number">0</span> &amp;&amp; Objects.equals(name, car.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, price);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 评价：和HashSet一样，就是有序而已，重写equals和hashCode即可。</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="Map接口-（接口不可实现）"><a href="#Map接口-（接口不可实现）" class="headerlink" title="Map接口:（接口不可实现）"></a>Map接口:（接口不可实现）</h5><blockquote>
<p>JDK8：Map与Collection并列共存，用于保存具有映射关系的（key - value）（双列元素）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">map.put(<span class="string">&quot;No.1&quot;</span>,<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;No.2&quot;</span>,<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">System.out.println(map);</span><br><span class="line"></span><br><span class="line"><span class="comment">//当有相同的K值时，就进行替换，没有add()方法。</span></span><br></pre></td></tr></table></figure>

<p><img src="/pic/p14.png" alt="img"></p>
<blockquote>
<p>①：Map中的<font color='slateblue'>key和value可以是任何引用类型的数据</font>，会封装到HashMap$Node里。</p>
<p>②：Map中的key和value<font color='orange'>都可以为null</font>，但<font color='khaki'>key只可以一个为空</font>。</p>
<p>③：常用String来做key;</p>
<p>④：key和value存在一对一的关系。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value = map.get(key);</span><br></pre></td></tr></table></figure>

<p>⑤：Map存放数据的key-value如下图所示，一对k-v放在一个<font color='wheat'>HashMap$Node</font>中，又因为Node实现了Entry接口，（一对k-v就是一个Entry）；</p>
<blockquote>
<p>Ⅰ：k-v最后是<font color='khaki'>HashMap$Node  node &#x3D; newNode(hash，key，value，null)；</font></p>
<p>Ⅱ： k-v为了程序员方便遍历，还会创建<font color='hotpink'>EntrySet集合</font>，该集合存放的元素类型是<font color='orange'>Entry</font>，而一个Entry对象有k,v,EntrySet &lt; Entry &lt; k,v&gt;&gt;即：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">transient</span> Set&lt;Map.Entry&lt;k,v&gt;&gt; entrySet;</span><br></pre></td></tr></table></figure>

<p>Ⅲ：entrySet中，定义的类型是<font color='khaki'>Map.Entry</font>，但是实际上存放的是<font color='orange'>HashMap$Node</font>,因为<font color='cornflowerblue'>Node实现了Map.Entry接口</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        map.put(<span class="string">&quot;No.1&quot;</span>,<span class="string">&quot;Nana&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;No.1&quot;</span>,<span class="string">&quot;Kimi&quot;</span>);</span><br><span class="line">        <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        System.out.println(set.getClass());</span><br><span class="line">        <span class="comment">//HashMap$EntrySet(内部类)</span></span><br><span class="line">        <span class="keyword">for</span>(Object n:set)&#123;</span><br><span class="line">            System.out.println(n.getClass());</span><br><span class="line">            <span class="comment">// HashMap$Node</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Ⅳ：当把HashMap$Node对象存入到entrySet就方便我们遍历，因为Map.Entry提供了重要方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">k <span class="title function_">getKey</span><span class="params">()</span>;</span><br><span class="line">v <span class="title function_">getValue</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">HashMap</span> <span class="variable">hashMap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        hashMap.put(<span class="string">&quot;No1&quot;</span>,<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line">        hashMap.put(<span class="string">&quot;No2&quot;</span>,<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> hashMap.entrySet();<span class="comment">//entrySet是集合！！！</span></span><br><span class="line">        <span class="keyword">for</span>(Object obj:set)&#123;</span><br><span class="line">            Map.<span class="type">Entry</span> <span class="variable">entry</span> <span class="operator">=</span> (Map.Entry) obj;<span class="comment">//向下转型。</span></span><br><span class="line">            System.out.println(entry.getKey()+<span class="string">&quot;-&quot;</span>+entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">HashMap</span> <span class="variable">hashMap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        hashMap.put(<span class="string">&quot;No1&quot;</span>,<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line">        hashMap.put(<span class="string">&quot;No2&quot;</span>,<span class="string">&quot;java&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> hashMap.entrySet();</span><br><span class="line">        <span class="type">Set</span> <span class="variable">keySet</span> <span class="operator">=</span> hashMap.keySet();</span><br><span class="line"> 		System.out.println(keySet.getClass());</span><br><span class="line">	    <span class="comment">//class java.util.HashMap$KeySet</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">values</span> <span class="operator">=</span> hashMap.values();</span><br><span class="line">        System.out.println(values.getClass());</span><br><span class="line">        <span class="comment">//class java.util.HashMap$Values</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
</blockquote>
<p><img src="/pic/p16.png" alt="img"></p>
<p>分析：如图：HashMap$Node实现了Entry接口，为了方便使用设计了一个EntrySet类来指向Node，KeySet和Values都是集合分别存所有的Key和所有的Value。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">HashMap</span> <span class="variable">hashMap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        hashMap.put(<span class="string">&quot;No1&quot;</span>,<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line">        hashMap.put(<span class="string">&quot;No2&quot;</span>,<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="type">Set</span> <span class="variable">keySet</span> <span class="operator">=</span> hashMap.keySet();</span><br><span class="line">        </span><br><span class="line">        System.out.println(keySet.getClass());<span class="comment">//class java.util.HashMap$KeySet</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> keySet.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">           <span class="type">String</span> <span class="variable">next</span> <span class="operator">=</span> (String)iterator.next();<span class="comment">//向下转型</span></span><br><span class="line">            System.out.println(next);</span><br><span class="line">        &#125;</span><br><span class="line">     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="Map继承体系图："><a href="#Map继承体系图：" class="headerlink" title="Map继承体系图："></a>Map继承体系图：</h5><p><img src="/pic/p17.png" alt="img"></p>
<h6 id="常见方法：-1"><a href="#常见方法：-1" class="headerlink" title="常见方法："></a>常见方法：</h6><blockquote>
<p>①：put();添加。</p>
<p>②：remove();删除键，去除映射关系。</p>
<p>③：size();获取元素个数。</p>
<p>④：isEmpty();&#x2F;&#x2F;判断是否为空。</p>
<p>⑤：get(key):&#x2F;&#x2F;返回Object。</p>
<p>⑥：clear()：&#x2F;&#x2F;清空。</p>
<p>⑦：containskey(Object key);&#x2F;&#x2F;查找键值是否存在</p>
</blockquote>
<h6 id="Map接口的遍历方法："><a href="#Map接口的遍历方法：" class="headerlink" title="Map接口的遍历方法："></a>Map接口的遍历方法：</h6><blockquote>
<p>①增强for循环：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HashMap</span> <span class="variable">hashMap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">   hashMap.put(<span class="string">&quot;No1&quot;</span>,<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line">   hashMap.put(<span class="string">&quot;No2&quot;</span>,<span class="string">&quot;java&quot;</span>);</span><br><span class="line"></span><br><span class="line">   <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> hashMap.keySet();</span><br><span class="line">   <span class="keyword">for</span>(Object obj:set)&#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;key=&quot;</span>+obj+<span class="string">&quot; value=&quot;</span>+hashMap.get(obj));</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>②迭代器:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Set</span> <span class="variable">set1</span> <span class="operator">=</span> hashMap.entrySet();</span><br><span class="line">       <span class="type">Iterator</span> <span class="variable">iterator1</span> <span class="operator">=</span> set1.iterator();</span><br><span class="line">       <span class="keyword">while</span> (iterator1.hasNext()) &#123;</span><br><span class="line">         Map.<span class="type">Entry</span> <span class="variable">src</span> <span class="operator">=</span> (Map.Entry) iterator1.next();</span><br><span class="line">          System.out.println(src);</span><br><span class="line"> <span class="comment">//          Object next = iterator1.next();</span></span><br><span class="line"><span class="comment">//          System.out.println(next.getClass());</span></span><br><span class="line">           <span class="comment">//class java.util.HashMap$Node,EntrySet里存的是node</span></span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>例题：使用HashMap接受3个员工对象，要求键：员工id，值：员工对象</p>
<p>并遍历员工工资&gt;18000的使用两种方式</p>
<p>员工类：姓名，工资，id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">HashMap</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        map.put(<span class="number">1001</span>,<span class="keyword">new</span> <span class="title class_">Emplee</span>(<span class="string">&quot;lili&quot;</span>,<span class="number">180000</span>,<span class="number">1001</span>));</span><br><span class="line">        map.put(<span class="number">1002</span>,<span class="keyword">new</span> <span class="title class_">Emplee</span>(<span class="string">&quot;jim&quot;</span>,<span class="number">180</span>,<span class="number">1002</span>));</span><br><span class="line">        map.put(<span class="number">1003</span>,<span class="keyword">new</span> <span class="title class_">Emplee</span>(<span class="string">&quot;alice&quot;</span>,<span class="number">18</span>,<span class="number">1003</span>));</span><br><span class="line">        <span class="comment">//System.out.println(map);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//方法一：</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">entry</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (entry.hasNext()) &#123;</span><br><span class="line">            Map.<span class="type">Entry</span> <span class="variable">next</span> <span class="operator">=</span>(Map.Entry)entry.next();</span><br><span class="line">            <span class="type">Emplee</span> <span class="variable">ep</span> <span class="operator">=</span> (Emplee)next.getValue();</span><br><span class="line">            <span class="keyword">if</span>(ep.getSal()&gt;<span class="number">18000</span>)&#123;</span><br><span class="line">                System.out.println(next.getKey()+<span class="string">&quot;-&quot;</span>+next.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//方法二：</span></span><br><span class="line">        System.out.println(<span class="string">&quot;方法二&quot;</span>);</span><br><span class="line">        <span class="type">Set</span> <span class="variable">keySet</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">        <span class="keyword">for</span>(Object obj:keySet)&#123;</span><br><span class="line">            <span class="type">Emplee</span> <span class="variable">ep</span> <span class="operator">=</span> (Emplee) map.get(obj);</span><br><span class="line">            <span class="keyword">if</span>(ep.getSal()&gt;<span class="number">18000</span>)&#123;</span><br><span class="line">                System.out.println(obj+<span class="string">&quot;-&quot;</span>+map.get(obj));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Emplee</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> sal;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Emplee</span><span class="params">(String name, <span class="type">double</span> sal, <span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sal = sal;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSal</span><span class="params">(<span class="type">double</span> sal)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sal = sal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Emplee&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, sal=&quot;</span> + sal +</span><br><span class="line">                <span class="string">&quot;, id=&#x27;&quot;</span> + id + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">1001-Emplee&#123;name=&#x27;lili&#x27;, sal=180000.0, id=&#x27;1001&#x27;&#125;</span></span><br><span class="line"><span class="comment">方法二</span></span><br><span class="line"><span class="comment">1001-Emplee&#123;name=&#x27;lili&#x27;, sal=180000.0, id=&#x27;1001&#x27;&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h6 id="HashMap小结："><a href="#HashMap小结：" class="headerlink" title="HashMap小结："></a>HashMap小结：</h6><blockquote>
<p>①：Map接口的常用实现类是：<font color='wheat'>HashMap</font>，<font color='orange'>Hashtable</font>和<font color='cornflowerblue'>Properties</font>。</p>
<p>②：HashMap是Map接口使用频率最高的实现类。</p>
<p>③：<font color='springgreen'>HashMap以key-value来存储数据</font></p>
<p>④：<font color='wheat'>key不可以重复</font>，但是<font color='khaki'>值可以重复</font>，允许<font color='cornflowerblue'>有null键和null值</font>。</p>
<p>⑤：如果<font color='springgreen'>添加相同的key值，则会覆盖原来的key-value，等同于修改（key不会替换，value会替换）</font></p>
<p>⑥：与HashSet一样，不保证映射的顺序，因为底层是以hash表的方式来存储的。</p>
<p>⑦：<font color='orange'>HashMap没有实现同步，因此是线程不安全的</font>。</p>
</blockquote>
<p><img src="/pic/p18.png" alt="img"></p>
<h5 id="HashMap底层机制和源码分析："><a href="#HashMap底层机制和源码分析：" class="headerlink" title="HashMap底层机制和源码分析："></a>HashMap底层机制和源码分析：</h5><blockquote>
<p>①：HashMap<font color='khaki'>底层维护</font>了<font color='slateblue'>Node类型的数组table</font>，<font color='orange'>默认为null</font>；</p>
<p>②：<font color='springgreen'>当创建对象时</font>，<font color='cornflowerblue'>将加载因子（loadfactor）初始化为</font><font color='khaki'>0.75</font></p>
<p>③：当添加<font color='wheat'>key-value</font>时，通过<font color='orange'>key的哈希值得到在table的索引</font>。然后<font color='cornflowerblue'>再判断索引处是否有元素</font>，如果<font color='khaki'>没有元素，直接添加</font>，<font color='slateblue'>如果有，继续判断key值和该处的key值等不等，如果相同，替换</font>，否则判断是树还是链表，做出相应的处理。添加时如果容量不够，进行扩容。</p>
<p>④：<font color='cornflowerblue'>第一次添加</font>后，<font color='khaki'>则需要将table扩容到16</font>，<font color='khaki'>临界值（threshold）为12(0.75*16)</font>，</p>
<p>⑤：<font color='slateblue'>以后再次扩容时</font>，则<font color='hotpink'>需要扩容table的容量到原来的2倍，临界值也为原来的二倍，即24</font>，依次类推。</p>
<p>⑥：在java8中，如果<font color='khaki'>一条链表的元素个数超过TREEIFY_THRESHOLD(默认为8)</font>，并且<font color='wheat'>table的大小&gt;&#x3D;MIN_TREEIFY_CAPACITY(默认为64)</font>，就会进行<font color='slateblue'>树化（红黑树）</font>。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">HashMap</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        map.put(<span class="string">&quot;java&quot;</span>,<span class="number">10</span>);</span><br><span class="line">        map.put(<span class="string">&quot;php&quot;</span>,<span class="number">11</span>);</span><br><span class="line">        map.put(<span class="string">&quot;java&quot;</span>,<span class="number">12</span>);<span class="comment">//替换</span></span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>①：<font color='khaki'>构造器初始化</font>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public HashMap() &#123;</span><br><span class="line">       this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><font color='khaki'>加载因子赋值为0.75</font>；<font color='red'>HashMap$Node [ ] &#x3D; table;</font></p>
<p>②：执行put方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123;</span><br><span class="line">    <span class="comment">//       &quot;java&quot;   10</span></span><br><span class="line">        <span class="keyword">return</span> putVal(hash(key), key, value, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>③：执行hash()方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">hash</span><span class="params">(Object key)</span> &#123;</span><br><span class="line">        <span class="type">int</span> h;</span><br><span class="line">    <span class="comment">//执行算法</span></span><br><span class="line">        <span class="keyword">return</span> (key == <span class="literal">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>⑦：执行putval()方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> V <span class="title function_">putVal</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">boolean</span> onlyIfAbsent,</span></span><br><span class="line"><span class="params">                   <span class="type">boolean</span> evict)</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="type">int</span> n, i;<span class="comment">//初始化</span></span><br><span class="line">        <span class="keyword">if</span> ((tab = table) == <span class="literal">null</span> || (n = tab.length) == <span class="number">0</span>)<span class="comment">//判断是否为空，true</span></span><br><span class="line">            n = (tab = resize()).length;<span class="comment">//扩容，进入resize();</span></span><br><span class="line">        <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span><span class="comment">//存入对应的位置</span></span><br><span class="line">            tab[i] = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Node&lt;K,V&gt; e; K k;</span><br><span class="line">            <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                e = p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">                        p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                        <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    p = e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">                <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">                <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                    e.value = value;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="keyword">return</span> oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ++modCount;</span><br><span class="line">        <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">            resize();</span><br><span class="line">        afterNodeInsertion(evict);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>⑧：进入resize()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class="line">       Node&lt;K,V&gt;[] oldTab = table;<span class="comment">//初始化辅助变量</span></span><br><span class="line">       <span class="type">int</span> <span class="variable">oldCap</span> <span class="operator">=</span> (oldTab == <span class="literal">null</span>) ? <span class="number">0</span> : oldTab.length;<span class="comment">//0</span></span><br><span class="line">       <span class="type">int</span> <span class="variable">oldThr</span> <span class="operator">=</span> threshold;<span class="comment">// 0</span></span><br><span class="line">       <span class="type">int</span> newCap, newThr = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">if</span> (oldCap &gt; <span class="number">0</span>) &#123;<span class="comment">//false</span></span><br><span class="line">           <span class="keyword">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</span><br><span class="line">               threshold = Integer.MAX_VALUE;</span><br><span class="line">               <span class="keyword">return</span> oldTab;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">if</span> ((newCap = oldCap &lt;&lt; <span class="number">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class="line">                    oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class="line">               newThr = oldThr &lt;&lt; <span class="number">1</span>; <span class="comment">// double threshold</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span> <span class="keyword">if</span> (oldThr &gt; <span class="number">0</span>) <span class="comment">// initial capacity was placed in threshold</span></span><br><span class="line">                 <span class="comment">//false</span></span><br><span class="line">           newCap = oldThr;</span><br><span class="line">       <span class="keyword">else</span> &#123;               <span class="comment">// zero initial threshold signifies using defaults</span></span><br><span class="line">           newCap = DEFAULT_INITIAL_CAPACITY;<span class="comment">//   16</span></span><br><span class="line">           newThr = (<span class="type">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class="line">           <span class="comment">//临界值为 16 * 0.75 = 12</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (newThr == <span class="number">0</span>) &#123; <span class="comment">// false</span></span><br><span class="line">           <span class="type">float</span> <span class="variable">ft</span> <span class="operator">=</span> (<span class="type">float</span>)newCap * loadFactor;</span><br><span class="line">           newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (<span class="type">float</span>)MAXIMUM_CAPACITY ?</span><br><span class="line">                     (<span class="type">int</span>)ft : Integer.MAX_VALUE);</span><br><span class="line">       &#125;</span><br><span class="line">       threshold = newThr;<span class="comment">// 12</span></span><br><span class="line">       <span class="meta">@SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)</span></span><br><span class="line">       Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class="keyword">new</span> <span class="title class_">Node</span>[newCap];</span><br><span class="line">    <span class="comment">//关键的一步，使table指向newTab[16]</span></span><br><span class="line">       table = newTab;</span><br><span class="line">       <span class="keyword">if</span> (oldTab != <span class="literal">null</span>) &#123;<span class="comment">//false</span></span><br><span class="line">           <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; oldCap; ++j) &#123;</span><br><span class="line">               Node&lt;K,V&gt; e;</span><br><span class="line">               <span class="keyword">if</span> ((e = oldTab[j]) != <span class="literal">null</span>) &#123;</span><br><span class="line">                   oldTab[j] = <span class="literal">null</span>;</span><br><span class="line">                   <span class="keyword">if</span> (e.next == <span class="literal">null</span>)</span><br><span class="line">                       newTab[e.hash &amp; (newCap - <span class="number">1</span>)] = e;</span><br><span class="line">                   <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                       ((TreeNode&lt;K,V&gt;)e).split(<span class="built_in">this</span>, newTab, j, oldCap);</span><br><span class="line">                   <span class="keyword">else</span> &#123; <span class="comment">// preserve order</span></span><br><span class="line">                       Node&lt;K,V&gt; loHead = <span class="literal">null</span>, loTail = <span class="literal">null</span>;</span><br><span class="line">                       Node&lt;K,V&gt; hiHead = <span class="literal">null</span>, hiTail = <span class="literal">null</span>;</span><br><span class="line">                       Node&lt;K,V&gt; next;</span><br><span class="line">                       <span class="keyword">do</span> &#123;</span><br><span class="line">                           next = e.next;</span><br><span class="line">                           <span class="keyword">if</span> ((e.hash &amp; oldCap) == <span class="number">0</span>) &#123;</span><br><span class="line">                               <span class="keyword">if</span> (loTail == <span class="literal">null</span>)</span><br><span class="line">                                   loHead = e;</span><br><span class="line">                               <span class="keyword">else</span></span><br><span class="line">                                   loTail.next = e;</span><br><span class="line">                               loTail = e;</span><br><span class="line">                           &#125;</span><br><span class="line">                           <span class="keyword">else</span> &#123;</span><br><span class="line">                               <span class="keyword">if</span> (hiTail == <span class="literal">null</span>)</span><br><span class="line">                                   hiHead = e;</span><br><span class="line">                               <span class="keyword">else</span></span><br><span class="line">                                   hiTail.next = e;</span><br><span class="line">                               hiTail = e;</span><br><span class="line">                           &#125;</span><br><span class="line">                       &#125; <span class="keyword">while</span> ((e = next) != <span class="literal">null</span>);</span><br><span class="line">                       <span class="keyword">if</span> (loTail != <span class="literal">null</span>) &#123;</span><br><span class="line">                           loTail.next = <span class="literal">null</span>;</span><br><span class="line">                           newTab[j] = loHead;</span><br><span class="line">                       &#125;</span><br><span class="line">                       <span class="keyword">if</span> (hiTail != <span class="literal">null</span>) &#123;</span><br><span class="line">                           hiTail.next = <span class="literal">null</span>;</span><br><span class="line">                           newTab[j + oldCap] = hiHead;</span><br><span class="line">                       &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> newTab;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>…自己拿电脑追。</p>
</blockquote>
<h5 id="Hashtable的基本介绍："><a href="#Hashtable的基本介绍：" class="headerlink" title="Hashtable的基本介绍："></a>Hashtable的基本介绍：</h5><blockquote>
<p>①：存放的元素是<font color='cornflowerblue'>键值对</font>：即<font color='khaki'>k - v</font></p>
<p>②：<font color='slateblue'>Hashtable</font>的<font color='wheat'>键</font>和<font color='wheat'>值</font>都<font color='khaki'>不为空</font>，<font color='hotpink'>否则会抛出NullPiontException</font>.</p>
<p>③：<font color='cornflowerblue'>Hashtable方法和HashMap基本一致</font>。</p>
<p>④：Hashtable是<font color='orange'>线程安全的(synchronized)</font>，<font color='khaki'>HashMap是线程不安全的</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Hashtable</span> <span class="variable">hashtable</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hashtable</span>();</span><br><span class="line">       hashtable.put(<span class="number">1101</span>,<span class="string">&quot;lili&quot;</span>);<span class="comment">// ok</span></span><br><span class="line">       hashtable.put(<span class="literal">null</span>,<span class="string">&quot;lili&quot;</span>);<span class="comment">// 抛出异常</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="底层工作机制："><a href="#底层工作机制：" class="headerlink" title="底层工作机制："></a>底层工作机制：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Hashtable</span> <span class="variable">hashtable</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hashtable</span>();</span><br><span class="line">        hashtable.put(<span class="number">1</span>,<span class="string">&quot;lili&quot;</span>);</span><br><span class="line">        hashtable.put(<span class="number">2</span>,<span class="string">&quot;jim&quot;</span>);</span><br><span class="line">        hashtable.put(<span class="number">3</span>,<span class="string">&quot;john&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>①：构造器初始化：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="title function_">Hashtable</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(<span class="number">11</span>, <span class="number">0.75f</span>);</span><br><span class="line"><span class="comment">//    初始化容积   加载因子     </span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">Hashtable</span><span class="params">(<span class="type">int</span> initialCapacity, <span class="type">float</span> loadFactor)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="comment">//初始容积&lt;0</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Illegal Capacity: &quot;</span>+</span><br><span class="line">                                               initialCapacity);</span><br><span class="line">        <span class="keyword">if</span> (loadFactor &lt;= <span class="number">0</span> || Float.isNaN(loadFactor))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Illegal Load: &quot;</span>+loadFactor);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (initialCapacity==<span class="number">0</span>)</span><br><span class="line">            initialCapacity = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">this</span>.loadFactor = loadFactor;</span><br><span class="line">        table = <span class="keyword">new</span> <span class="title class_">Entry</span>&lt;?,?&gt;[initialCapacity];</span><br><span class="line">     <span class="comment">//     创建了Entry数组为11.</span></span><br><span class="line">        threshold = (<span class="type">int</span>)Math.min(initialCapacity * loadFactor, MAX_ARRAY_SIZE + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">//     8      =               11  * 0.75        </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>②：执行put方法，不追了，也就那样。</p>
<p>③：扩容，按照其条件机制扩容，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (count &gt;= threshold) &#123;</span><br><span class="line">           <span class="comment">// Rehash the table if the threshold is exceeded</span></span><br><span class="line">           rehash();</span><br><span class="line">           ...</span><br><span class="line">&#125;           </span><br></pre></td></tr></table></figure>

<p>增长机制：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">   <span class="type">int</span> <span class="variable">newCapacity</span> <span class="operator">=</span> (oldCapacity &lt;&lt; <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line"><span class="comment">//   2倍加1</span></span><br></pre></td></tr></table></figure>
</blockquote>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">版本</th>
<th align="center">线程安全（同步）</th>
<th align="center">效率</th>
<th align="center">允许null值,null键</th>
</tr>
</thead>
<tbody><tr>
<td align="center">HashMap</td>
<td align="center">1.2</td>
<td align="center">不安全</td>
<td align="center">高</td>
<td align="center">可以</td>
</tr>
<tr>
<td align="center">Hashtable</td>
<td align="center">1.0</td>
<td align="center">安全</td>
<td align="center">低</td>
<td align="center">不可以</td>
</tr>
</tbody></table>
<h5 id="Properties："><a href="#Properties：" class="headerlink" title="Properties："></a>Properties：</h5><blockquote>
<p>①：<font color='springgreen'>Properties类</font><font color='wheat'>继承</font>自<font color='khaki'>Hashtable类</font>，并且<font color='orange'>实现了Map接口，也是使用键值对来存储数据</font></p>
<p>②：<font color='wheat'>特点与Hashtable相同</font>。</p>
<p>③：<font color='slateblue'>Properties还可以用于从xxx.properties文件中</font>，加载到Properties类的对象，并进行读取和修改。</p>
<p>④：说明：工作后，<font color='slateblue'>xxx.properties文件通常作为配置文件</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取value:</span></span><br><span class="line">properties.get(key);</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="集合的选择："><a href="#集合的选择：" class="headerlink" title="集合的选择："></a>集合的选择：</h5><blockquote>
<p>①：先判断<font color='khaki'>存储类型</font>：</p>
<blockquote>
<p>Ⅰ：<font color='orange'>一组对象（单列）</font>。Ⅱ：<font color='orange'>一组键值对（双列）</font>。</p>
</blockquote>
<p>②：<font color='orange'>一组对象：Collection接口</font></p>
<blockquote>
<p>Ⅰ：<font color='springgreen'>允许重复：List</font></p>
<p>​				<font color='wheat'>增删多</font>：<font color='slateblue'>LinkedList  底层维护了一个双向链表</font>。</p>
<p>​				<font color='wheat'>改查多</font>：<font color='cornflowerblue'>ArrayList底层是Object类型的可变数组</font>。</p>
</blockquote>
<blockquote>
<p>Ⅱ：<font color='springgreen'>不允许重复：Set</font></p>
<p>​				<font color='wheat'>无序</font>：<font color='slateblue'>HashSet，底层为HashMap</font>，维护了<font color='khaki'>一个哈希表</font>（即<font color='orange'>数组</font>+<font color='orange'>链表</font>+<font color='orange'>红黑树</font>）</p>
<p>​				<font color='wheat'>排序</font>：<font color='cornflowerblue'>TreeSet</font></p>
<p>​				<font color='wheat'>插入和取出顺序一致</font>：<font color='slateblue'>LinkedHashSet</font>，维护了<font color='hotpink'>数组</font>+<font color='hotpink'>双向链表</font>。</p>
</blockquote>
<p>③：<font color='orange'>一对键值对（双列）：Map</font></p>
<blockquote>
<p>Ⅰ：<font color='cornflowerblue'>键无序</font>：<font color='wheat'>HashMap</font>，<font color='khaki'>底层为哈希表</font>，（jdk7.0   数组+链表）（jdk8.0   数组+链表+红黑树）</p>
<p>Ⅱ：<font color='cornflowerblue'>键排序</font>：<font color='wheat'>TreeMap</font></p>
<p>Ⅲ：<font color='cornflowerblue'>键插入和取出顺序一致</font>：<font color='wheat'>LinkedHashMap</font></p>
<p>Ⅳ：<font color='cornflowerblue'>读取文件</font>：<font color='wheat'>Properties</font></p>
</blockquote>
</blockquote>
<h5 id="TreeSet的解读："><a href="#TreeSet的解读：" class="headerlink" title="TreeSet的解读："></a>TreeSet的解读：</h5><p>使用<font color='slateblue'>无参构造器</font>时：<font color='springgreen'>创建TreeSet还是无序</font>的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">TreeSet</span> <span class="variable">treeSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeSet</span>(<span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> ((String)o1).compareTo((String)o2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        treeSet.add(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;lili&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;alice&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;brown&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>底层追溯：底层是TreeMap</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">TreeSet</span><span class="params">(Comparator&lt;? <span class="built_in">super</span> E&gt; comparator)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(comparator));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">TreeMap</span><span class="params">(Comparator&lt;? <span class="built_in">super</span> K&gt; comparator)</span> &#123;</span><br><span class="line">       <span class="built_in">this</span>.comparator = comparator;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加元素的比较：</span></span><br><span class="line">  <span class="keyword">if</span> (cpr != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                parent = t;</span><br><span class="line">                cmp = cpr.compare(key, t.key);</span><br><span class="line"><span class="comment">//cpr就是传入的匿名内部类，调用其compare()方法                </span></span><br><span class="line">                <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">                    t = t.left;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">                    t = t.right;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                <span class="comment">//如果相等，key加不进去</span></span><br><span class="line">                    <span class="keyword">return</span> t.setValue(value);</span><br><span class="line">            &#125; <span class="keyword">while</span> (t != <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">// 不追了        </span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">treeSet.add(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">   treeSet.add(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">   treeSet.add(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">   treeSet.add(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">   <span class="comment">//几个john?一个</span></span><br><span class="line">   </span><br><span class="line">    treeSet.add(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">   treeSet.add(<span class="string">&quot;ab&quot;</span>);</span><br><span class="line">   treeSet.add(<span class="string">&quot;cfd&quot;</span>);</span><br><span class="line">   treeSet.add(<span class="string">&quot;sp&quot;</span>);</span><br><span class="line">   <span class="comment">//比较规则为长度。</span></span><br><span class="line">   <span class="comment">//只有：&quot;abc&quot;,&quot;ab&quot;</span></span><br><span class="line">   <span class="comment">//[ab, abc]</span></span><br></pre></td></tr></table></figure>

<h5 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap:"></a>TreeMap:</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">TreeMap</span> <span class="variable">treeMap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeMap</span>(<span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> ((String)o1).length()-((String)o2).length();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        treeMap.put(<span class="string">&quot;jack&quot;</span>, <span class="string">&quot;杰克&quot;</span>);</span><br><span class="line">        treeMap.put(<span class="string">&quot;john&quot;</span>, <span class="string">&quot;约翰&quot;</span>);</span><br><span class="line">        treeMap.put(<span class="string">&quot;brown&quot;</span>, <span class="string">&quot;布朗&quot;</span>);</span><br><span class="line">        treeMap.put(<span class="string">&quot;tom&quot;</span>, <span class="string">&quot;汤姆&quot;</span>);<span class="comment">//会发生替换。k不可换，但v可以。</span></span><br><span class="line"></span><br><span class="line">        System.out.println(treeMap);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">&#123;tom=汤姆, jack=约翰, brown=布朗&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h5 id="Collection工具类："><a href="#Collection工具类：" class="headerlink" title="Collection工具类："></a>Collection工具类：</h5><blockquote>
<p>①：<font color='slateblue'>Collections是一个操作Set，List和Map等集合的工具类</font></p>
<p>②：Collections中提供了一系列的<font color='wheat'>静态方法</font>对集合元素进行排序，查询，修改。</p>
<blockquote>
<p>排序操作（均为static方法）：</p>
<p>Ⅰ：<font color='springgreen'>reverse（List）</font>list中的元素</p>
<p>Ⅱ：<font color='springgreen'>shuffle（List）</font>随机排序</p>
<p>Ⅲ：<font color='springgreen'>sort（List）</font>对字母的先后顺序升序，自然排序。</p>
<p>Ⅳ：<font color='springgreen'>sort（List，Comparator）</font>依据comparator的排序方法对List集合元素排序。</p>
<p>Ⅴ：<font color='springgreen'>swap(List,int i,int j)</font>;交换指定List集合中i处元素和j处元素。</p>
<p>Ⅵ：<font color='springgreen'>max（Collection）</font>：根据自然排序，返回集合中最的元素。</p>
<p>​		max（Collection，Comparator）：传入比较器</p>
<p>Ⅶ：<font color='springgreen'>int frequency（Collection ，Object）</font>；返回指定元素的出现次数</p>
<p>Ⅷ：<font color='springgreen'>void copy（List dest，List src）</font>将src的内容复制到dest中</p>
<blockquote>
<p>注意：copy时，dest要 &gt;&#x3D; src的size。（不然报错）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; src.size();i++)&#123;</span><br><span class="line">		....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</blockquote>
<p>Ⅸ：boolean replace（List list，Object  oldValue，Object newValue）</p>
</blockquote>
</blockquote>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">底层结构</th>
<th align="center">版本</th>
<th align="center">线程安全</th>
<th align="center">扩容机制</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ArrayList</td>
<td align="center">可变数组</td>
<td align="center">jdk1.2</td>
<td align="center">不安全，高效</td>
<td align="center">①：有参1.5倍②：无参，先10，后按1.5倍扩容</td>
</tr>
<tr>
<td align="center">Vector</td>
<td align="center">可变数组</td>
<td align="center">jdk1.0</td>
<td align="center">安全，不高效</td>
<td align="center">①：有参2倍②：无参，先10，后按2倍扩容</td>
</tr>
</tbody></table>
<h5 id="泛型："><a href="#泛型：" class="headerlink" title="泛型："></a>泛型：</h5><p><font color='khaki'>接受指定数据类型的数据类型</font>。</p>
<p>引入：用ArrayList添加3个对象。</p>
<p>传统问题：</p>
<blockquote>
<p>①：不能对加入集合的数据进行约束。</p>
<p>②：遍历时，需要进行类型转换，数据越多，效率就越低。</p>
</blockquote>
<p>为此，引入泛型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ArrayList &lt;Dog&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Dog&gt;( );</span><br><span class="line"><span class="comment">//只能够接收Dog类的对象。</span></span><br></pre></td></tr></table></figure>

<p>泛型的好处：</p>
<blockquote>
<p>①：<font color='orange'>编译时即检查元素的类型，提高了安全性</font>。</p>
<p>②：<font color='springgreen'>减少类型转换的次数，提高效率</font>。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//			不使用泛型前：</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">       list.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">       list.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;2&quot;</span>));</span><br><span class="line">       list.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;3&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(Object obj:list)&#123;</span><br><span class="line">            <span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> (Dog)obj;<span class="comment">//向下转型</span></span><br><span class="line">            System.out.println(dog);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dog&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"><span class="comment">//		使用泛型：</span></span><br><span class="line">        ArrayList&lt;Dog&gt; dogs = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();<span class="comment">//这里可不写Dog</span></span><br><span class="line">        <span class="comment">//如果add()的对象不是Dog类的话，会报错</span></span><br><span class="line">        dogs.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">        dogs.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;2&quot;</span>));</span><br><span class="line">        dogs.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;3&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(Dog dog:dogs)&#123;</span><br><span class="line">            System.out.println(dog);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dog&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="泛型简介："><a href="#泛型简介：" class="headerlink" title="泛型简介："></a>泛型简介：</h6><blockquote>
<p>①：泛型又称<font color='cornflowerblue'>参数化类型</font>，是JDK5.0出现的新特性，解决了<font color='orange'>数据类型的安全性问题</font>。</p>
<p>②：在<font color='khaki'>类声明</font>或<font color='khaki'>实例化</font>时指定即可。</p>
<p>③可以<font color='orange'>保证程序编译时没有警告</font>，<font color='hotpink'>运行时没有classCastException异常</font>，同时，代码简洁，健壮，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayList</span>&lt;E&gt;&#123; ... &#125;</span><br><span class="line">ArrayList&lt;Dog&gt; list = <span class="keyword">new</span> <span class="title class_">Arraylist</span>&lt;Dog&gt;(); <span class="comment">//Dog传入到E</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><font color='slateblue'>E具体的数据类型在定义Dog对象时指定，即在编译时，就确定E时什么类型</font>。</p>
</blockquote>
<p>④：泛型的作用：可以在类声明时通过一个标识来表示某个属性类型，或者是某个方法的返回类型，或者是参数类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Dog&lt;String&gt; lili = <span class="keyword">new</span> <span class="title class_">Dog</span>&lt;&gt;(<span class="string">&quot;lili&quot;</span>);</span><br><span class="line">        System.out.println(lili.getName());</span><br><span class="line">        Dog&lt;Integer&gt; john = <span class="keyword">new</span> <span class="title class_">Dog</span>&lt;&gt;(<span class="number">23</span>);</span><br><span class="line">        System.out.println(john.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>&lt;E&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> E name;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(E name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> E <span class="title function_">getName</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">lili</span></span><br><span class="line"><span class="comment">23</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="泛型的声明："><a href="#泛型的声明：" class="headerlink" title="泛型的声明："></a>泛型的声明：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">interface 接口名&lt;T&gt;&#123;&#125;</span><br><span class="line">class 类名&lt;K,v&gt;&#123;&#125;</span><br><span class="line"><span class="comment">//说明：T，V，K不代表值，而是表示类型。</span></span><br><span class="line"><span class="comment">//任意字母都可以，常用T表示，是Type缩写</span></span><br></pre></td></tr></table></figure>

<h6 id="要求："><a href="#要求：" class="headerlink" title="要求："></a>要求：</h6><blockquote>
<p>①：泛型指向数据类型，要求是<font color='red'>引用类型</font>，<font color='red'>不能是</font><font color='cornflowerblue'>基本数据类型。</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">ArrayList&lt;<span class="type">int</span>&gt; list1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();<span class="comment">//Type arguement</span></span><br></pre></td></tr></table></figure>

<p>②：在给<font color='khaki'>泛型指定具体类型</font>后，可以<font color='slateblue'>传入该类型或其子类型</font>。</p>
<p>③使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();<span class="comment">// 更推荐,简洁，编译器会进行类型判断。</span></span><br><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>

<p>④若<font color='khaki'>未对E传入任何数据类型</font>，会<font color='wheat'>默认泛型为Object</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="comment">// List&lt;Object&gt; list = new ArrayList();</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="自定义泛型："><a href="#自定义泛型：" class="headerlink" title="自定义泛型："></a>自定义泛型：</h5><blockquote>
<p>语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class 类名&lt;T,R...&gt;&#123; <span class="comment">//可以有多个泛型</span></span><br><span class="line">	<span class="comment">//成员</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>①：普通成员可以使用<font color='cornflowerblue'>泛型（属性，方法）</font>；</p>
<p>②：使用<font color='hotpink'>泛型的数组不可以初始化</font>。</p>
<p>③：<font color='orange'>静态方法</font>中不可以使用类的泛型（<font color='slateblue'>因为静态方法和类有关，静态方法早于对象的创建</font>）</p>
<p>④：类的泛型的类型，是在创建对象时确定的（因为创建对象时，需要指定确定传入的类型）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rtr</span>&lt;T,R,M&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> T t;</span><br><span class="line">    <span class="keyword">private</span> R r;</span><br><span class="line">    <span class="keyword">private</span> M m;</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Rtr</span><span class="params">(T t, R r, M m)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.t = t;</span><br><span class="line">        <span class="built_in">this</span>.r = r;</span><br><span class="line">        <span class="built_in">this</span>.m = m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Arr</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="comment">// R rs[]= new R[2];//不行，未初始化不行,因为不知道其类型，无法开辟空间</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Rtr&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;t=&quot;</span> + t +</span><br><span class="line">                <span class="string">&quot;, r=&quot;</span> + r +</span><br><span class="line">                <span class="string">&quot;, m=&quot;</span> + m +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>⑤：接口类型的泛型类型在继承接口或者实现接口时确定。</p>
</blockquote>
</blockquote>
<h6 id="基本语法：-2"><a href="#基本语法：-2" class="headerlink" title="基本语法："></a>基本语法：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修饰符&lt;T,R...&gt;返回类型 方法名(参数列表)&#123;...&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>泛型方法可在普通类中定义，也可在泛型类中定义。调用泛型方法时，类型会确定。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">(E e)</span>&#123;&#125;<span class="comment">//这部是泛型方法，故其不是泛型</span></span><br><span class="line"><span class="comment">//      会报错</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p><font color='slateblue'>泛型不具备继承的特性：</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Object&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();<span class="comment">//error</span></span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?&gt;<span class="comment">//支持任意类型</span></span><br><span class="line">&lt;? extend XX&gt;<span class="comment">// xx类及其子类（上限）</span></span><br><span class="line">&lt;? supper XX&gt;<span class="comment">// xx类及其父类（下限）</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="JUnit的使用："><a href="#JUnit的使用：" class="headerlink" title="JUnit的使用："></a>JUnit的使用：</h5><blockquote>
<p>java语言的单元测试框架，多数java开发环境集成JUnit作为测试工具。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span> <span class="comment">// alt + enter</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span><span class="comment">//JUnit工具</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">aa</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</blockquote>
<h5 id="Java绘图机制："><a href="#Java绘图机制：" class="headerlink" title="Java绘图机制："></a>Java绘图机制：</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(0,0)——————————————————————————————(x)  </span><br><span class="line">|								    </span><br><span class="line">|        .(1,1)单位像素(px)           </span><br><span class="line">|</span><br><span class="line">|</span><br><span class="line">|</span><br><span class="line">(y)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>①：计算机显示的分辨率：800 × 600</p>
<p>表示每一行有800个点，共600行，则屏幕有480000个像素，像素是个密度单位，而厘米什么的是长度单位，二者不可比较。</p>
</blockquote>
<h6 id="画图大概过程："><a href="#画图大概过程：" class="headerlink" title="画图大概过程："></a>画图大概过程：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTest</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;<span class="comment">//JFrame相当于是画板(框架)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">MyJPanel</span> <span class="variable">mjp</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="keyword">new</span> <span class="title class_">AllTest</span>(); <span class="comment">//调用自身。</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AllTest</span><span class="params">()</span>&#123;</span><br><span class="line">        mjp = <span class="keyword">new</span> <span class="title class_">MyJPanel</span>();</span><br><span class="line">        <span class="built_in">this</span>.add(mjp);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">400</span>,<span class="number">300</span>);</span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyJPanel</span> <span class="keyword">extends</span> <span class="title class_">JPanel</span> &#123; <span class="comment">//JPanel相当于是画纸</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span>&#123; <span class="comment">//绘图方法</span></span><br><span class="line">        <span class="built_in">super</span>.paint(g);<span class="comment">//调用父类方法完成初始化。</span></span><br><span class="line">        g.drawOval(<span class="number">10</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">100</span>);<span class="comment">//画圆</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="绘图原理："><a href="#绘图原理：" class="headerlink" title="绘图原理："></a>绘图原理：</h6><p>Component类提供了两个和绘图相关最重要的方法</p>
<blockquote>
<p>①：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ponit(Graphics g)&#123;&#125;</span><br><span class="line"><span class="comment">//绘制组件</span></span><br></pre></td></tr></table></figure>

<p>②：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">repaint();</span><br><span class="line"><span class="comment">//重绘组件</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>当组件第一次在屏幕上显示时，程序自动调用paint( )方法绘制组件：</p>
<blockquote>
<p>一下情况，paint( )方法被调用：</p>
<blockquote>
<p>①：窗口变化。</p>
<p>②：调用repain( );</p>
</blockquote>
</blockquote>
<h6 id="常用方法："><a href="#常用方法：" class="headerlink" title="常用方法："></a>常用方法：</h6><blockquote>
<p>①：画直线：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drawLine(<span class="type">int</span> x1,<span class="type">int</span> y1,<span class="type">int</span> x2,<span class="type">int</span> y2);</span><br></pre></td></tr></table></figure>

<p>②：画矩形的边框：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drawRect(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> width,<span class="type">int</span> height);</span><br></pre></td></tr></table></figure>

<p>③：画椭圆的边框：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drawOval(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> width,<span class="type">int</span> height);</span><br></pre></td></tr></table></figure>

<p>④：填充矩形：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fillRect(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> width,<span class="type">int</span> height);</span><br></pre></td></tr></table></figure>

<p>⑤：填充椭圆：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fillOval(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> width,<span class="type">int</span> height);</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="画图片："><a href="#画图片：" class="headerlink" title="画图片："></a>画图片：</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">drawImage(Image img,<span class="type">int</span> x,<span class="type">int</span> y...);</span><br><span class="line"></span><br><span class="line">获取图片：</span><br></pre></td></tr></table></figure>

<h5 id="Java事件处理机制："><a href="#Java事件处理机制：" class="headerlink" title="Java事件处理机制："></a>Java事件处理机制：</h5><p>java事件处理机制采取”<font color='slateblue'>委派事件模型</font>“。当事件发生时，产生事件的对象，会把此信息传递给<font color='springgreen'>事件的监听者</font>，信息实际上就是<font color='hotpink'>java.awt.event</font>事件类型库里某个类所创建的对象，把其称为<font color='slateblue'>事件对象</font>。</p>
<blockquote>
<p><font color='wheat'>事件源</font>  —<font color='khaki'>事件 &#x2F; 对象</font>—&gt;  <font color='orange'>事件监听者（事件处理方法）</font>；</p>
<p><font color='cornflowerblue'>事件源</font>：<font color='wheat'>事件源是产生事件的对象</font>，比如：按钮，窗口。</p>
<p><font color='cornflowerblue'>事件</font>：<font color='wheat'>事件就是承载事件源状态改变的对象</font>，比如键盘事件，鼠标事件窗口事件，会生成一个事件对象，该对象保存着当前事件的很多信息，比如KeyEvent对象有按下键的Code值.</p>
<p><font color='springgreen'>java.awt.event</font>包和<font color='springgreen'>javax.swing.event</font>包中定义了各种事件。</p>
</blockquote>
<p>事件监听接口：</p>
<blockquote>
<p>①：<font color='slateblue'>事件源产生一个事件，可以传送给事件监听者处理</font></p>
<p>②：事件监听者实际上就是一个类，该类<font color='springgreen'>实现了某个事件的的监听器接口</font>。比如之前的MyPanel就是一个类，实现了keyListener接口，它就可以作为一个事件的监听者，对接受到的事件进行处理。</p>
<p>③：事件监听器接口有很多种，不同的事件监听器接口可以监听不同的事件，一个类可以实现多个监听接口</p>
<p>④：这些接口在<font color='slateblue'>java.awt.event</font>包和<font color='slateblue'>javax.swing.event</font>包中定义。</p>
</blockquote>
<h5 id="小球移动代码："><a href="#小球移动代码：" class="headerlink" title="小球移动代码："></a>小球移动代码：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.KeyEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.KeyListener;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 演示小球移动</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTest</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MyPanel</span> <span class="variable">mp</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">AllTest</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AllTest</span><span class="params">()</span> &#123;</span><br><span class="line">        mp = <span class="keyword">new</span> <span class="title class_">MyPanel</span>();</span><br><span class="line">        <span class="built_in">this</span>.add(mp);</span><br><span class="line">        <span class="built_in">this</span>.addKeyListener(mp);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">400</span>, <span class="number">300</span>);</span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * KeyListener接口监听键盘</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyPanel</span> <span class="keyword">extends</span> <span class="title class_">JPanel</span> <span class="keyword">implements</span> <span class="title class_">KeyListener</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">speed</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span>  <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span>  <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.paint(g);</span><br><span class="line">        g.fillOval(x, y, <span class="number">20</span>, <span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyTyped</span><span class="params">(KeyEvent e)</span> &#123;</span><br><span class="line">        <span class="comment">//有字符输出时，该方法调用</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyPressed</span><span class="params">(KeyEvent e)</span> &#123;</span><br><span class="line">        <span class="comment">//有键被按下时，该方法调用</span></span><br><span class="line">        <span class="type">char</span> key;</span><br><span class="line">        System.out.println((<span class="type">char</span>) e.getKeyCode() + <span class="string">&quot;键被按下！&quot;</span>);</span><br><span class="line">        <span class="keyword">switch</span> ((<span class="type">char</span>) e.getKeyCode()) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;W&#x27;</span>:</span><br><span class="line">                y -= speed;</span><br><span class="line">                repaint();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span>:</span><br><span class="line">                x += speed;</span><br><span class="line">                repaint();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;S&#x27;</span>:</span><br><span class="line">                y+= speed;</span><br><span class="line">                repaint();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>:</span><br><span class="line">                x-= speed;</span><br><span class="line">                repaint();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;未知的按键&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyReleased</span><span class="params">(KeyEvent e)</span> &#123;</span><br><span class="line">        <span class="comment">//当某个键松开了，该方法调用</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="线程："><a href="#线程：" class="headerlink" title="线程："></a>线程：</h5><p>进程：</p>
<blockquote>
<p>①：<font color='wheat'>运行中的程序</font>，比如我们启动qq，就<font color='khaki'>相当于启动了一个进程</font>，操作系统就会为<font color='cornflowerblue'>该进程分配内存空间</font>，当我们打开应用时，就启动了一个进程，操作系统将为器其分配新的内存空间。</p>
<p>②：<font color='orange'>进程是程序的一次执行过程，或是正在运行的一个程序</font>，是多态过程，有其自己的产生，存在和消亡过程。</p>
<p>​     					<font color='springgreen'>线程</font>由<font color='hotpink'>进程创建</font>，是进程的的一个实体。</p>
<pre><code>                   &lt;font color=&#39;hotpink&#39;&gt;一个进程&lt;/font&gt;可以有&lt;font color=&#39;springgreen&#39;&gt;多个线程&lt;/font&gt;。（例：迅雷可以有多个下载任务（线程））。
</code></pre>
</blockquote>
<blockquote>
<p><font color='khaki'>单个线程</font>：<font color='orange'>同一时刻</font>，<font color='red'>只允许执行一个线程</font>。</p>
<p><font color='khaki'>多个线程</font>：<font color='orange'>同一时刻</font>，<font color='red'>可以执行多个线程</font>。</p>
<p><font color='khaki'>并发</font>：<font color='orange'>同一时刻</font>，<font color='red'>多个任务交替执行</font>，造成一种貌似同时执行的错觉，简单来说，单核cpu实现多任务就是并发。（比如：人一边开车，一边打电话）</p>
<p><font color='wheat'>并行</font>：<font color='orange'>同一个时刻</font>，<font color='red'>多个任务同时执行</font>，多核cpu实现的多任务就是并行。</p>
</blockquote>
<p>创建线程的两种方式：</p>
<blockquote>
<p>方式一：<font color='springgreen'>继承Thread类</font>，<font color='khaki'>重写run（）方法</font>。</p>
<p>try-catch:ctr + alt + t</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        cat.start();<span class="comment">//调用start()方法,mian线程启动一个子线程。</span></span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);<span class="comment">//单位是毫秒</span></span><br><span class="line">            System.out.println(<span class="string">&quot;main线程&quot;</span>+Thread.currentThread().getName()+<span class="string">&quot;-&quot;</span>+i);</span><br><span class="line">        &#125;<span class="comment">//main线程和其子线程交替执行。主线程结束并不意味着程序结束</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//假如是  cat.run(); 如果调用它相当于是调用main线程，你的Thread.currentThread().getName()的结果是main，并且是要等run()方法的代码全部执行才执行main方法。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">time</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;小喵，喵喵喵&quot;</span>);</span><br><span class="line">            time++;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(time == <span class="number">8</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用IDEA查看线程：</p>
<p><font color='cornflowerblue'>运行程序</font>，使线程长时间运行，找到<font color='cornflowerblue'>Terminal</font>，输入<font color='khaki'>jconsole</font>，回车，找到<font color='cornflowerblue'>包名</font>，直接<font color='cornflowerblue'>连接</font>，看<font color='cornflowerblue'>线程</font>就好了。</p>
</blockquote>
<blockquote>
<p>进程–》main线程—start()—》Thread-0.</p>
<p>主线程和子线程交替执行。</p>
</blockquote>
<blockquote>
<p>start（）方法的底层，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">	start0();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">start0</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//是本地方法，由于JVM机调用，底层是c++/c，真正实现多线程效果的是start0()而不是run()</span></span><br></pre></td></tr></table></figure>

<p><img src="/pic/p19.png" alt="img"></p>
<p>注意：start（）调用start0（）方法后，该线程并不一定会立马执行，只是，将该线程变成了可运行状态，具体什么时候执行，由cpu决定。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        <span class="type">ThreadRroxy</span> <span class="variable">threadRroxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadRroxy</span>(cat);</span><br><span class="line">        threadRroxy.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThreadRroxy</span> <span class="keyword">implements</span>  <span class="title class_">Runnable</span>&#123;<span class="comment">//模拟Thread类,代理模式</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(target!=<span class="literal">null</span>)&#123;target.run();&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ThreadRroxy</span><span class="params">(Runnable target)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>&#123;</span><br><span class="line">        start0();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start0</span><span class="params">()</span>&#123;</span><br><span class="line">        run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;小喵，喵喵喵&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方式二：<font color='springgreen'>实现Runnable接口</font>，<font color='khaki'>重写run（）方法</font>（<font color='cornflowerblue'>Thread继承了Runnable接口</font>）。</p>
<blockquote>
<p>①：实现Runnable的好处，java是单继承，而当类已继承某个父类时，再继承Thread已经不可以了。</p>
<p>②：为此java开发者提供了Runnable接口来创建线程。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(cat);</span><br><span class="line">        thread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">time</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(time==<span class="number">10</span>)&#123;<span class="keyword">break</span>;&#125;</span><br><span class="line">            time++;</span><br><span class="line">            System.out.println(<span class="string">&quot;当前线程名是&quot;</span>+Thread.currentThread().getName()+<span class="string">&quot;-&quot;</span>+time);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="继承Thread和实现Runnable接口"><a href="#继承Thread和实现Runnable接口" class="headerlink" title="继承Thread和实现Runnable接口"></a>继承Thread和实现Runnable接口</h6><blockquote>
<p>①：从java的设计者来看，二者没有本质区别，Thread实现了Runnable接口。</p>
<p>②：实现了Runnable接口方式，更加适合多个线程共享一个资源的情况，并且避免了单继承机制。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> 		<span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(cat);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(cat);</span><br><span class="line">        thread.start();</span><br><span class="line">        thread1.start();</span><br><span class="line"><span class="comment">//这里启用了两个线程，实现了资源共享</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**      当前线程名是Thread-1-1</span></span><br><span class="line"><span class="comment">当前线程名是Thread-0-1</span></span><br><span class="line"><span class="comment">当前线程名是Thread-0-3</span></span><br><span class="line"><span class="comment">当前线程名是Thread-1-3</span></span><br><span class="line"><span class="comment">当前线程名是Thread-0-4</span></span><br><span class="line"><span class="comment">当前线程名是Thread-1-5</span></span><br><span class="line"><span class="comment">当前线程名是Thread-1-6</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="问题：编程是实现三个窗口卖15张票；"><a href="#问题：编程是实现三个窗口卖15张票；" class="headerlink" title="问题：编程是实现三个窗口卖15张票；"></a>问题：编程是实现三个窗口卖15张票；</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Seller</span> <span class="variable">seller</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Seller</span>();</span><br><span class="line">        <span class="type">Seller</span> <span class="variable">seller1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Seller</span>();</span><br><span class="line">        <span class="type">Seller</span> <span class="variable">seller2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Seller</span>();</span><br><span class="line"></span><br><span class="line">        seller.start();</span><br><span class="line">        seller1.start();</span><br><span class="line">        seller2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Seller</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>  num=<span class="number">15</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">50</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;窗口&quot;</span>+Thread.currentThread().getName()+<span class="string">&quot;还剩&quot;</span> + num-- + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span>(num&lt;=<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩15张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩13张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩14张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩12张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩12张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩11张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩10张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩9张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩8张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩6张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩7张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩5张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩4张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩2张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩3张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩0张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩1张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩-1张票</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Seller</span> <span class="variable">seller</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Seller</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(seller);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(seller);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(seller);</span><br><span class="line">        thread.start();</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Seller</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>  &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">15</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               Thread.sleep(<span class="number">50</span>);</span><br><span class="line">           &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">           System.out.println(<span class="string">&quot;窗口&quot;</span>+Thread.currentThread().getName()+<span class="string">&quot;还剩&quot;</span> + num-- + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">           <span class="keyword">if</span>(num&lt;=<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩15张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩13张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩14张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩11张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩10张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩12张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩9张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩9张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩9张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩8张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩8张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩7张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩6张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩5张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩6张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩4张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩4张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩3张票</span></span><br><span class="line"><span class="comment">窗口Thread-2还剩1张票</span></span><br><span class="line"><span class="comment">窗口Thread-0还剩0张票</span></span><br><span class="line"><span class="comment">窗口Thread-1还剩2张票</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>可见无论是Runnable还是，Thread都会有问题，原因：三个线程同时访问一个判断，</p>
</blockquote>
<h6 id="线程的终止："><a href="#线程的终止：" class="headerlink" title="线程的终止："></a>线程的终止：</h6><blockquote>
<p>①：<font color='cornflowerblue'>线程完成任务</font>后，自动退出</p>
<p>②：还可以通过使用变量来控制run（）方法来退出，停止线程，即<font color='cornflowerblue'>通知方式</font></p>
</blockquote>
<h6 id="线程的常用方法："><a href="#线程的常用方法：" class="headerlink" title="线程的常用方法："></a>线程的常用方法：</h6><blockquote>
<p>①：<font color='springgreen'>setName()</font>:<font color='khaki'>设置线程名字</font>。使之与参数name相同。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thread.currentThread().setName(<span class="string">&quot;lili-0&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>②：<font color='springgreen'>getName()</font>:<font color='khaki'>返回线程名字</font>。</p>
<p>③：<font color='springgreen'>start()</font>:<font color='khaki'>使线程执行</font>，底层会<font color='orange'>创建新线程</font>，调用run()方法，<font color='slateblue'>run()方法就是一个简单的方法调用</font>，不会启动新线程。</p>
<p>④：线程优先级：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MAX_PRIORITY:<span class="number">10</span>;</span><br><span class="line">NORM_PRIORITY:<span class="number">5</span>;</span><br><span class="line">MIN_PRIORITY:<span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>⑤：<font color='cornflowerblue'>interrupt:</font><font color='wheat'>中断线程</font>，但<font color='khaki'>没有真正结束线程</font>，（抛出异常），一般用于中断正在休眠的线程，</p>
<p>⑥：<font color='cornflowerblue'>sleep()</font>：线程的<font color='orange'>静态方法</font>，<font color='wheat'>使当前线程休眠</font>。</p>
<p>⑦：<font color='cornflowerblue'>yield()</font>:<font color='orange'>线程的礼让，让出CPU，让其他线程先执行</font>，但礼让时间不确定，所以也<font color='khaki'>不一定会礼让成功（资源不紧张时，不用礼让）</font></p>
<p>⑧：<font color='cornflowerblue'>join()</font>：<font color='orange'>线程的插队</font>，<font color='hotpink'>插队线程一旦成功，则肯定先执行完插队的线程的所有的任务</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Seller</span> <span class="variable">seller</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Seller</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(seller);</span><br><span class="line">        thread.start();</span><br><span class="line">        thread.join();<span class="comment">//先执行</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>;i++)&#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;窗口&quot;</span>+Thread.currentThread().getName());<span class="comment">//main线程</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Seller</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>  &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">15</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">           &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">           System.out.println(<span class="string">&quot;窗口&quot;</span>+Thread.currentThread().getName()+<span class="string">&quot;还剩&quot;</span> + num-- + <span class="string">&quot;张票&quot;</span>);<span class="comment">//Thread-0</span></span><br><span class="line">           <span class="keyword">if</span>(num&lt;=<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>①：<font color='khaki'>用户线程</font>：也叫<font color='orange'>工作线程</font>，当<font color='cornflowerblue'>线程任务完成</font>时或者以<font color='cornflowerblue'>通知方式结束</font>。</p>
<p>②：<font color='khaki'>守护线程</font>：一般是为<font color='orange'>工作线程服务</font>，当<font color='slateblue'>所有用户线程结束</font>，<font color='cornflowerblue'>守护线程自动结束</font>，相当于是用户线程的保姆。</p>
<p>③：<font color='khaki'>常见守护线程</font>：<font color='orange'>垃圾回收机制</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Seller</span> <span class="variable">seller</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Seller</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(seller);</span><br><span class="line">        thread.setDaemon(<span class="literal">true</span>);<span class="comment">//必须放在start()前。否则有异常抛出，而且，setDaemon(true)将  该线程  设置为守护线程，</span></span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">15</span>;i++)&#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;窗口&quot;</span>+Thread.currentThread().getName()+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Seller</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>  &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">           &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">           System.out.println(<span class="string">&quot;窗口&quot;</span>+Thread.currentThread().getName()+<span class="string">&quot;还剩&quot;</span> + num-- + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">           <span class="keyword">if</span>(num&lt;=<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="线程的生命周期："><a href="#线程的生命周期：" class="headerlink" title="线程的生命周期："></a>线程的生命周期：</h6><p>官方：JDK中用Thread.State枚举状态；(6种)</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">enum</span> <span class="title class_">Thread</span>.State </span><br><span class="line"><span class="keyword">extends</span> <span class="title class_">Enum</span>&lt;Thread.State&gt;</span><br><span class="line"><span class="comment">//线程状态，线程可以处于以下状态之一： </span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NEW</span><br><span class="line"><span class="comment">//尚未启动的线程处于此状态。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RUNNABLE</span><br><span class="line"><span class="comment">//JVM中执行的线程处于此状态，可运行状态，但不一定在运行。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BLOCKED</span><br><span class="line"><span class="comment">//被阻塞等待监视器锁定的线程    </span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WATTING</span><br><span class="line"><span class="comment">//正在等待另一个线程执行特定动作的线程处于此状态。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TIME_WAITING</span><br><span class="line"><span class="comment">//等待另一个线程执行特定动作达到指定等待时间的线程处于此状态</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TERMINATED</span><br><span class="line"><span class="comment">//已退出的线程处于此状态</span></span><br></pre></td></tr></table></figure>

<p><img src="/pic/p20.png" alt="img"></p>
</blockquote>
<p><font color='hotpink'>synchronized（线程同步机制）</font></p>
<blockquote>
<p>①：多线程编程时：一些敏感数据<font color='springgreen'>不允许被多个线程同时访问</font>，此时使用<font color='springgreen'>同步访问技术</font>，保证数据在任何时刻，最多有一个线程访问，以<font color='springgreen'>保证数据的完整性</font>。</p>
<p>②：线程同步，<font color='orange'>当有一个线程在对内存操作</font>时，其他线程都<font color='red'>不可以对这个内存地址操作</font>，直到该线程完成操作，才可以对该线程操作。</p>
</blockquote>
<hr>
<blockquote>
<p>①：<font color='slateblue'>同步代码块</font>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (对象)&#123;<span class="comment">//得到对象的锁才可以操作同步代码块</span></span><br><span class="line"><span class="comment">//同步代码块</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>②：synchronized还可以放在<font color='slateblue'>方法声明中，表示整个方法—–同步方法</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">m</span><span class="params">(String s)</span>&#123;</span><br><span class="line">	<span class="comment">//同步代码块</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>理解：一伙人上厕所，一个进去，上锁，上完了，下一个，重复。</p>
<h5 id="互斥锁："><a href="#互斥锁：" class="headerlink" title="互斥锁："></a>互斥锁：</h5><blockquote>
<p>①：java中，引入了<font color='khaki'>对象互斥锁</font>的概念，来<font color='cornflowerblue'>保证共享数据操作的完整性</font></p>
<p>②：每个对象都应用于一个可称为”<font color='khaki'>互斥锁</font>“的标记，这个标记保证任一时刻，只能有一个线程访问对象。</p>
<p>③关键字<font color='springgreen'>synchronized</font>来与对象的互斥锁联系，当某个对象用synchronized修饰时，表明该对象在任意时刻<font color='orange'>只能被一个线程访问。</font></p>
<p>④：同步的<font color='cornflowerblue'>局限性</font>：<font color='hotpink'>程序执行效率低下</font>。</p>
<p>⑤：<font color='wheat'>同步方法（非静态的）</font>的锁可以是<font color='khaki'>this</font>，也可以是其他对象（要求是同一对象）</p>
<p>⑥：<font color='wheat'>同步方法（静态的）</font>锁为当前<font color='khaki'>本类</font>。</p>
<p>⑦：<font color='cornflowerblue'>最好选同步代码块</font>，因为其影响范围小。</p>
</blockquote>
<h6 id="线程死锁："><a href="#线程死锁：" class="headerlink" title="线程死锁："></a>线程死锁：</h6><p><font color='red'>多个线程占用对方的资源，但不肯相让，导致了死锁，要避免，非常的危险</font>。比如：妈妈要小明先写作业，小明要先玩手机。</p>
<h5 id="释放锁："><a href="#释放锁：" class="headerlink" title="释放锁："></a>释放锁：</h5><p><font color='cornflowerblue'>下面操作释放锁</font>:</p>
<blockquote>
<p>①：当前线程的<font color='khaki'>同步方法，同步代码块执行结束</font>（上完厕所，自己出来）</p>
<p>②：同步方法遇到<font color='khaki'>break</font>或者<font color='khaki'>return</font>（没上完，有事回家了）</p>
<p>③：出现了<font color='khaki'>未处理的Error</font>或者<font color='khaki'>Exception</font>，导致结束。（没完事，忘带纸，不得已出来）</p>
<p>④：<font color='khaki'>执行wait（）方法，线程暂停，释放锁</font>。（没完事，但还想酝酿）</p>
</blockquote>
<p><font color='cornflowerblue'>下面情况不释放锁</font>：</p>
<blockquote>
<p>①：调用<font color='orange'>Threa.sleep（）</font>，<font color='orange'>Thread.yield（）</font>方法暂停当前线程的执行，不会释放锁。</p>
<p>②：其他线程调用了该<font color='orange'>线程的suspend（）将该线程挂起</font>，该线程不会释放锁，</p>
<p>③：<font color='orange'>避免</font>用<font color='orange'>suspend（）</font>和<font color='orange'>resume（）</font>来控制线程，因为已不被推荐使用。                           </p>
</blockquote>
<p>题目一：要求设置两个线程，线程A重复输出0到100的数，线程B收到键盘（Scanner）传入Q时时关闭线程A。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(a);</span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>(a);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(b);</span><br><span class="line">        thread.start();</span><br><span class="line">        thread1.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="type">boolean</span> <span class="variable">a</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">setA</span><span class="params">(<span class="type">boolean</span> a)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.a = a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(a)&#123;</span><br><span class="line">            System.out.println((<span class="type">int</span>)(Math.random()*<span class="number">101</span>));</span><br><span class="line">            <span class="comment">//  这里的顺序非常重要！！！</span></span><br><span class="line">            <span class="comment">//先输出，再停顿，不然，你改为false后，会有数字再输出。</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">   A a;</span><br><span class="line">    <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">B</span><span class="params">(A a)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.a = a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;按\&quot;Q\&quot;退出程序：&quot;</span>);</span><br><span class="line">       <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">           &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(scanner.next().charAt(<span class="number">0</span>)==<span class="string">&#x27;Q&#x27;</span>)&#123;</span><br><span class="line">               a.setA(<span class="literal">false</span>);</span><br><span class="line">               System.out.println(<span class="string">&quot;二线程退出&quot;</span>);</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>题目二：</p>
<blockquote>
<p>2个用户分别从同一个卡上取钱（总额10000元）,每次取1000，余额不足时，就不可以取款了，不可以超取。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Counter</span> <span class="variable">counter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Counter</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(counter);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(counter);</span><br><span class="line">         thread.start();</span><br><span class="line">        thread1.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="type">int</span> <span class="variable">money</span> <span class="operator">=</span> <span class="number">10000</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span>   <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">//用代码块</span></span><br><span class="line">            <span class="keyword">synchronized</span>(<span class="built_in">this</span>) &#123;<span class="comment">//谁抢到了this就执行synchronized代码块</span></span><br><span class="line">                <span class="keyword">if</span> (money &lt; <span class="number">1000</span>) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;余额不足&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                money -= <span class="number">1000</span>;</span><br><span class="line">                System.out.println(<span class="string">&quot;用户&quot;</span> + Thread.currentThread().getName() + <span class="string">&quot;取了1000元&quot;</span> + <span class="string">&quot;余额为&quot;</span> + money);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//休眠要放到锁外面，不然会只有一个线程。</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>坦克大战1.0：</p>
<blockquote>
<p>说明：该版本实现了绘制我方和敌方坦克，并且可以使我方坦克移动。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.Reona.TankFighting.Tank01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.KeyEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.KeyListener;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyPanel</span> <span class="keyword">extends</span> <span class="title class_">JPanel</span> <span class="keyword">implements</span> <span class="title class_">KeyListener</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Hero</span> <span class="variable">hero</span> <span class="operator">=</span> <span class="literal">null</span>;<span class="comment">//初始化一个hero</span></span><br><span class="line">     Vector&lt;Emeny&gt; Emenies = <span class="keyword">new</span> <span class="title class_">Vector</span>&lt;&gt;();<span class="comment">//建立Vector来存储敌人</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//hero坦克的初始位置：设置成变量便于后期的修改</span></span><br><span class="line">    <span class="keyword">private</span>  <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">private</span>  <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">EmenySize</span> <span class="operator">=</span> <span class="number">3</span>;<span class="comment">//考虑敌方坦克的消亡</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//paint()方法：</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.paint(g);</span><br><span class="line">        <span class="comment">//   传入x和y</span></span><br><span class="line">        hero.setX(x);</span><br><span class="line">        hero.setY(y);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;EmenySize;i++)&#123;<span class="comment">//考虑敌方坦克的消亡</span></span><br><span class="line">            Emenies.add(<span class="keyword">new</span> <span class="title class_">Emeny</span>(<span class="number">10</span>+<span class="number">80</span>*i,<span class="number">10</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//绘制我方坦克</span></span><br><span class="line">        drawTank(hero.getX(),hero.getY(),g, hero.getDirect(),<span class="number">0</span>);</span><br><span class="line">        <span class="comment">//绘制敌方坦克</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;EmenySize;i++)&#123;<span class="comment">//考虑敌方坦克的消亡</span></span><br><span class="line">            drawTank(Emenies.get(i).getX(),Emenies.get(i).getY(),g,Emenies.get(i).getDirect(),<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyPanel</span><span class="params">()</span>&#123;</span><br><span class="line">        hero = <span class="keyword">new</span> <span class="title class_">Hero</span>(x,y);</span><br><span class="line">    &#125;<span class="comment">//创建我方坦克</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> x :坦克的横坐标</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> y：坦克的纵坐标</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> g：画笔</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> direct：坦克的朝向</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> type：坦克的类型。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawTank</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,Graphics g,<span class="type">int</span> direct,<span class="type">int</span> type)</span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (type)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                g.setColor(Color.cyan);<span class="comment">//我方青色</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                g.setColor(Color.yellow);<span class="comment">//我方黄色</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">switch</span>(direct)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:<span class="comment">//上</span></span><br><span class="line">                g.fill3DRect(x,y,<span class="number">10</span>,<span class="number">60</span>,<span class="literal">false</span>);</span><br><span class="line">                g.fill3DRect(x+<span class="number">30</span>,y,<span class="number">10</span>,<span class="number">60</span>,<span class="literal">false</span>);</span><br><span class="line">                g.fill3DRect(x+<span class="number">10</span>,y+<span class="number">10</span>,<span class="number">20</span>,<span class="number">40</span>,<span class="literal">false</span>);</span><br><span class="line">                g.fillOval(x+<span class="number">10</span>,y+<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">                g.drawLine(x+<span class="number">20</span>,y,x+<span class="number">20</span>,y+<span class="number">30</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">           <span class="keyword">case</span> <span class="number">1</span>:<span class="comment">//右</span></span><br><span class="line">               g.fill3DRect(x-<span class="number">10</span>,y+<span class="number">10</span>,<span class="number">60</span>,<span class="number">10</span>,<span class="literal">false</span>);</span><br><span class="line">               g.fill3DRect(x-<span class="number">10</span>,y+<span class="number">40</span>,<span class="number">60</span>,<span class="number">10</span>,<span class="literal">false</span>);</span><br><span class="line">               g.fill3DRect(x,y+<span class="number">20</span>,<span class="number">40</span>,<span class="number">20</span>,<span class="literal">false</span>);</span><br><span class="line">               g.fillOval(x+<span class="number">10</span>,y+<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">               g.drawLine(x+<span class="number">20</span>,y+<span class="number">30</span>,x+<span class="number">50</span>,y+<span class="number">30</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:<span class="comment">//下</span></span><br><span class="line">                g.fill3DRect(x,y,<span class="number">10</span>,<span class="number">60</span>,<span class="literal">false</span>);</span><br><span class="line">                g.fill3DRect(x+<span class="number">30</span>,y,<span class="number">10</span>,<span class="number">60</span>,<span class="literal">false</span>);</span><br><span class="line">                g.fill3DRect(x+<span class="number">10</span>,y+<span class="number">10</span>,<span class="number">20</span>,<span class="number">40</span>,<span class="literal">false</span>);</span><br><span class="line">                g.fillOval(x+<span class="number">10</span>,y+<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">                g.drawLine(x+<span class="number">20</span>,y+<span class="number">30</span>,x+<span class="number">20</span>,y+<span class="number">60</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:<span class="comment">//左</span></span><br><span class="line">                g.fill3DRect(x-<span class="number">10</span>,y+<span class="number">10</span>,<span class="number">60</span>,<span class="number">10</span>,<span class="literal">false</span>);</span><br><span class="line">                g.fill3DRect(x-<span class="number">10</span>,y+<span class="number">40</span>,<span class="number">60</span>,<span class="number">10</span>,<span class="literal">false</span>);</span><br><span class="line">                g.fill3DRect(x,y+<span class="number">20</span>,<span class="number">40</span>,<span class="number">20</span>,<span class="literal">false</span>);</span><br><span class="line">                g.fillOval(x+<span class="number">10</span>,y+<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">                g.drawLine(x+<span class="number">20</span>,y+<span class="number">30</span>,x-<span class="number">10</span>,y+<span class="number">30</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyTyped</span><span class="params">(KeyEvent e)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyPressed</span><span class="params">(KeyEvent e)</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> ((<span class="type">char</span>)e.getKeyCode())&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;W&#x27;</span>:<span class="comment">//上</span></span><br><span class="line">                y-=hero.getSpeed();</span><br><span class="line">                hero.setDirect(<span class="number">0</span>);<span class="comment">//改变朝向</span></span><br><span class="line">                repaint();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span>:<span class="comment">//右</span></span><br><span class="line">                x+=hero.getSpeed();</span><br><span class="line">                repaint();</span><br><span class="line">                hero.setDirect(<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;S&#x27;</span>:<span class="comment">//下</span></span><br><span class="line">                y+=hero.getSpeed();</span><br><span class="line">                hero.setDirect(<span class="number">2</span>);</span><br><span class="line">                repaint();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>:<span class="comment">//左</span></span><br><span class="line">                x-=hero.getSpeed();</span><br><span class="line">                hero.setDirect(<span class="number">3</span>);</span><br><span class="line">                repaint();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;J&#x27;</span>:<span class="comment">//按下j时发射子弹</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyReleased</span><span class="params">(KeyEvent e)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Reona.TankFighting.Tank01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Game</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="type">MyPanel</span> <span class="variable">mp</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Game</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Game</span><span class="params">()</span>&#123;</span><br><span class="line">        mp = <span class="keyword">new</span> <span class="title class_">MyPanel</span>();</span><br><span class="line">        <span class="built_in">this</span>.add(mp);</span><br><span class="line">        <span class="built_in">this</span>.addKeyListener(mp);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">1000</span>,<span class="number">800</span>);</span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Reona.TankFighting.Tank01;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hero</span> <span class="keyword">extends</span> <span class="title class_">Tank</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="type">int</span> <span class="variable">direct</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">speed</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Hero</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(x, y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getSpeed</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> speed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setSpeed</span><span class="params">(<span class="type">int</span> speed)</span> &#123;</span><br><span class="line">        Hero.speed = speed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDirect</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> direct;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDirect</span><span class="params">(<span class="type">int</span> direct)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.direct = direct;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Reona.TankFighting.Tank01;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tank</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> x;</span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> y;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getX</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setX</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.x = x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getY</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setY</span><span class="params">(<span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Tank</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.x = x;</span><br><span class="line">        <span class="built_in">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Reona.TankFighting.Tank01;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Emeny</span> <span class="keyword">extends</span> <span class="title class_">Tank</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="type">int</span> <span class="variable">direct</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">speed</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Emeny</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(x, y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDirect</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> direct;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDirect</span><span class="params">(<span class="type">int</span> direct)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.direct = direct;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSpeed</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> speed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSpeed</span><span class="params">(<span class="type">int</span> speed)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.speed = speed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</blockquote>
<h5 id="IO流："><a href="#IO流：" class="headerlink" title="IO流："></a>IO流：</h5><p><font color='wheat'>文件</font>：<font color='slateblue'>保存数据的地方</font>。</p>
<p><font color='wheat'>文件流</font>：文件在程序中是以<font color='slateblue'>流</font>的形势来操作的。</p>
<blockquote>
<p>java程序 《———输入流——— 文件</p>
<p>（内存）———–输出流———-》（磁盘）</p>
</blockquote>
<p><font color='wheat'>流</font>：<font color='cornflowerblue'>数据在数据源（文件）和程序（内存）之间经历的路径</font>。</p>
<p><font color='wheat'>输入流</font>：<font color='cornflowerblue'>数据从数据源（文件）到程序（内存）之间经历的路径</font>。</p>
<p><font color='wheat'>输出流</font>：<font color='cornflowerblue'>数据从程序（内存）到数据源（文件）的路径</font>。</p>
<h5 id="常用的文件操作："><a href="#常用的文件操作：" class="headerlink" title="常用的文件操作："></a>常用的文件操作：</h5><p>创建文件对象相关构造器和方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">File</span>(String pathname);<span class="comment">//根据路径构建一个File对象</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">File</span>(File parent,String child);<span class="comment">//根据父目录文件+子路径构建</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">File</span>(String parent,String child);<span class="comment">//根据父目录+子目录构建</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><font color='springgreen'>File</font>实现了<font color='springgreen'>Serializable接口</font>和Comparable接口。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 演示创建文件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NewFile</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">creat01</span><span class="params">()</span>&#123;<span class="comment">//new File( String filePath)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\news1.txt&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(filePath);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            file.createNewFile();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;文件创建成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">creat02</span><span class="params">()</span>&#123;  <span class="comment">//new File( File fatherFile ,String fileName)</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;news2.txt&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(file, name);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            file1.createNewFile();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;文件创建成功！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">creat03</span><span class="params">()</span>&#123;<span class="comment">//new File(String parent,String child);</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">parent</span> <span class="operator">=</span> <span class="string">&quot;e:\\&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">child</span> <span class="operator">=</span> <span class="string">&quot;news03.txt&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(parent, child);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            file.createNewFile();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;文件创建成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file.creatNewFile();<span class="comment">//真正实现将文件创建，（从Java程序把创建好的对象写入磁盘）</span></span><br></pre></td></tr></table></figure>

<p>获取文件的相关信息：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">info</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\news005.txt&quot;</span>);</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           file.createNewFile();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">       System.out.println(<span class="string">&quot;创建文件成功！！&quot;</span>);</span><br><span class="line">       System.out.println(<span class="string">&quot;文件名是&quot;</span>+file.getName());</span><br><span class="line">       System.out.println(<span class="string">&quot;文件的绝对路径&quot;</span>+file.getAbsolutePath());</span><br><span class="line">       </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>常见方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">getName();<span class="comment">//文件名</span></span><br><span class="line">getParetnt();<span class="comment">//文件绝对路径</span></span><br><span class="line">getAbsolutePath();<span class="comment">//文件父目录</span></span><br><span class="line">length();<span class="comment">//文件大小，根据不同的编码，大小不同，UTF-8中字母是1，中文为3；</span></span><br><span class="line">exists();<span class="comment">//文件是否存在</span></span><br><span class="line">isFile();<span class="comment">//是不是一个文件</span></span><br><span class="line">isDirectory();<span class="comment">//是不是一个目录</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Delete</span><span class="params">()</span>&#123;</span><br><span class="line">        String filePath=<span class="string">&quot;e:\\news03.txt&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(filePath);</span><br><span class="line">        <span class="keyword">if</span>(file.exists())&#123;</span><br><span class="line">            <span class="keyword">if</span>(file.delete())&#123; System.out.println(<span class="string">&quot;文件删除成功&quot;</span>);&#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;文件删除失败&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;文件不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">DeleteMulu</span><span class="params">()</span>&#123;</span><br><span class="line">        String filePath=<span class="string">&quot;e:\\Amg&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(filePath);</span><br><span class="line">        <span class="keyword">if</span>(file.exists())&#123;</span><br><span class="line">            <span class="keyword">if</span>(file.delete())&#123; System.out.println(<span class="string">&quot;删除成功&quot;</span>);&#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;删除失败&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;目录不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    目录也是一种特殊的文件,和文件的操作一样</span></span><br><span class="line"><span class="comment">    */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">creat06</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span><span class="string">&quot;e:\\aa\\bb\\cc&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(filePath);</span><br><span class="line">        <span class="keyword">if</span>(file.exists())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;文件存在&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>( file.mkdirs())&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;创建成功！&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;创建失败！&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;文件不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">创建多级目录：file.mdirs();//返回类型为boolean值</span></span><br><span class="line"><span class="comment">创建一级目录：file.mdir();//返回类型为boolean值</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>IO流的原理及流的分类：</p>
<blockquote>
<p>①：<font color='khaki'>I&#x2F;O</font>是<font color='cornflowerblue'>Input</font>&#x2F;<font color='cornflowerblue'>Output</font>的缩写，I&#x2F;O技术是非常实用的技术用于处理<font color='hotpink'>数据传输</font>，如读&#x2F;写文件，网络通信。</p>
<p>②：<font color='cornflowerblue'>Java程序中对于数据的输入&#x2F;输出</font>以<font color='khaki'>流</font>的形势进行。</p>
<p>③：<font color='slateblue'>java.io</font>包下提供了各种流类和接口，用于获取不同种类的数据，并通过方法输入或输出数据。</p>
</blockquote>
<p>IO流的分类：</p>
<blockquote>
<p>Ⅰ：按操作数据的单位的不同分：①<font color='orange'>字节流</font>（8bit），对二进制友好，无损。②<font color='orange'>字符流</font>（与编码格式无关）。</p>
<p>Ⅱ：流向：①：<font color='orange'>输入流</font>。②：<font color='orange'>输出流</font></p>
<p>Ⅲ：按角色的不同：节点流，处理流&#x2F;包装流。</p>
<table>
<thead>
<tr>
<th align="center">抽象基类</th>
<th align="center">字节流</th>
<th align="center">字符流</th>
</tr>
</thead>
<tbody><tr>
<td align="center">输入流</td>
<td align="center">InputStream</td>
<td align="center">Reader</td>
</tr>
<tr>
<td align="center">输出流</td>
<td align="center">OutputStream</td>
<td align="center">Writer</td>
</tr>
</tbody></table>
<blockquote>
<p>Java的IO流共涉及40多个类，从这4个类中派生而来。</p>
<p>由这四个类派生的子类名称都是<font color='orange'>父类名变成了子类的后缀</font>。</p>
</blockquote>
</blockquote>
<h5 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h5><p><font color='cornflowerblue'>InputStream</font>抽象类是<font color='khaki'>所有类字节输入流</font>的<font color='wheat'>超类</font>。</p>
<p>常见子类：</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream	<span class="comment">//文件输入流</span></span><br><span class="line">BufferedInputStream	<span class="comment">//缓冲字节输入流</span></span><br><span class="line">ObjectInputStream	<span class="comment">//对象字节输入流</span></span><br></pre></td></tr></table></figure>

<p><img src="/pic/p21.png" alt="img"></p>
<p>①：FileInputStream:</p>
<p><font color='red'>文件流必须关闭，否则浪费资源</font></p>
<blockquote>
<p>①：<font color='wheat'>read（）</font>方法：<font color='khaki'>获取字符的ASCII码值</font>，<font color='khaki'>得到-1时，代表文件读取完成</font>。</p>
<p><font color='cornflowerblue'>read()返回-1代表 读到了最后一个</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\story.txt&quot;</span>;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">readData</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建FileInputStream来读取文件</span></span><br><span class="line">           fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(filePath);<span class="comment">//有编译异常</span></span><br><span class="line">            <span class="keyword">while</span>((readData = fileInputStream.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">                System.out.print((<span class="type">char</span>)readData);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fileInputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>②：<font color='wheat'>read(byte[ ] b)</font>:从该<font color='khaki'>读入流</font>中读取最多<font color='khaki'>b.length字节的数据到(存储到)字节数组</font>，<font color='orange'>每次返回数组的长度</font>，到<font color='wheat'>文件末尾返回-1</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read02</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\story.txt&quot;</span>;</span><br><span class="line">       <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">     <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">8</span>];<span class="comment">//</span></span><br><span class="line">     <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="comment">//创建FileInputStream来读取文件</span></span><br><span class="line">           fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(filePath);<span class="comment">//有编译异常</span></span><br><span class="line">           <span class="keyword">while</span>((length= fileInputStream.read(bytes))!=-<span class="number">1</span>)&#123;</span><br><span class="line">               System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(bytes,<span class="number">0</span>,length));</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               fileInputStream.close();</span><br><span class="line">           &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<p>②：FileOutputStream</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePth</span> <span class="operator">=</span> <span class="string">&quot;e:\\abc23.text&quot;</span>;</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileOutputStream = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(filePth);</span><br><span class="line">            fileOutputStream.write(<span class="string">&#x27;A&#x27;</span>);<span class="comment">//char和int之间相互转换</span></span><br><span class="line">            System.out.println(<span class="string">&quot;文件写入成功！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fileOutputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//写入一个字符</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePth</span> <span class="operator">=</span> <span class="string">&quot;e:\\abc24.text&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello.hsp&quot;</span>;</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileOutputStream = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(filePth);</span><br><span class="line">            </span><br><span class="line">            fileOutputStream.write(str.getBytes());</span><br><span class="line">            </span><br><span class="line">            System.out.println(<span class="string">&quot;文件写入成功！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fileOutputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//写入一个byte数组,如果重复的执行是覆盖原来的内容！！！</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePth</span> <span class="operator">=</span> <span class="string">&quot;e:\\abc24.text&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello.hsp&quot;</span>;</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileOutputStream = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(filePth);</span><br><span class="line">            </span><br><span class="line">            fileOutputStream.write(str.getBytes(),<span class="number">0</span>,str.length());</span><br><span class="line">            <span class="comment">//     自定义从哪里写到哪里</span></span><br><span class="line">            System.out.println(<span class="string">&quot;文件写入成功！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fileOutputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePth</span> <span class="operator">=</span> <span class="string">&quot;e:\\abc24.text&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hei,hsp&quot;</span>;</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            </span><br><span class="line">            fileOutputStream = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(filePth,<span class="literal">true</span>);</span><br><span class="line">            <span class="comment">//append:true.代表是追加。默认为false</span></span><br><span class="line">            fileOutputStream.write(str.getBytes(),<span class="number">0</span>,str.length());</span><br><span class="line">            System.out.println(<span class="string">&quot;文件写入成功！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fileOutputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>题目：将E盘下的best.jpg复制到D盘下。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileCopy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span><span class="string">&quot;e:\\best.jpg&quot;</span>;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath1</span> <span class="operator">=</span><span class="string">&quot;d:\\best.jpg&quot;</span>;</span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileInputStream= <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(filePath);</span><br><span class="line">            fileOutputStream= <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(filePath1,<span class="literal">true</span>);</span><br><span class="line">            <span class="keyword">while</span>(fileInputStream.read(bytes)!=-<span class="number">1</span>)&#123;</span><br><span class="line">               fileOutputStream.write(bytes,<span class="number">0</span>, bytes.length);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fileInputStream.close();</span><br><span class="line">                fileOutputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;写入成功！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="字符流："><a href="#字符流：" class="headerlink" title="字符流："></a>字符流：</h5><blockquote>
<p><font color='cornflowerblue'>FileReader</font>和<font color='cornflowerblue'>FileWriter</font>是字符流，即按照<font color='khaki'>字符</font>来操作io。</p>
<p>①：FileReader:</p>
<p><img src="/pic/p22.png" alt="img"></p>
<p>相关方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">FileReader</span>(File/String);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read();<span class="comment">//每次读取单个字符，返回该字符，如果到文件末尾返回-1</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read(<span class="type">char</span>[]);<span class="comment">//批量读取多个字符到数组，返回读取到的字符数，如果到文件末尾返回-1</span></span><br></pre></td></tr></table></figure>

<p>常用的API：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">String</span>(<span class="type">char</span>[]);<span class="comment">//将char[]转为String</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">String</span>(<span class="type">char</span>[],off,length);<span class="comment">//将指定部分转换成String</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Filess</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="meta">@Test</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read01</span><span class="params">()</span>&#123;</span><br><span class="line">     <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\story.txt&quot;</span>;</span><br><span class="line">     <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">     <span class="type">char</span> arr[] = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">10</span>];<span class="comment">//使用字符数组来读取,多个读取</span></span><br><span class="line">     <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">try</span> &#123;</span><br><span class="line">         fileReader = <span class="keyword">new</span> <span class="title class_">FileReader</span>(filePath);</span><br><span class="line">       <span class="keyword">while</span>((length=fileReader.read(arr))!=-<span class="number">1</span>)&#123;</span><br><span class="line">           System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(arr,<span class="number">0</span>,length));</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">     &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">     &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             fileReader.close();</span><br><span class="line">         &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">             e.printStackTrace();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     System.out.println(<span class="string">&quot;\n文件读取成功！&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//单个读取 </span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read01</span><span class="params">()</span>&#123;</span><br><span class="line">     <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\story.txt&quot;</span>;</span><br><span class="line">     <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">     <span class="type">int</span> a;</span><br><span class="line">     <span class="keyword">try</span> &#123;</span><br><span class="line">         fileReader = <span class="keyword">new</span> <span class="title class_">FileReader</span>(filePath);</span><br><span class="line">       <span class="keyword">while</span>((a=fileReader.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">           System.out.print((<span class="type">char</span>)a);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">     &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">     &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             fileReader.close();</span><br><span class="line">         &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">             e.printStackTrace();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     System.out.println(<span class="string">&quot;\n文件读取成功！&quot;</span>);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write01</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\news1.txt&quot;</span>;</span><br><span class="line">       <span class="type">String</span> <span class="variable">txt</span> <span class="operator">=</span> <span class="string">&quot;你好！hello!&quot;</span>;</span><br><span class="line">       <span class="type">FileWriter</span> <span class="variable">fileWriter</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           fileWriter=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(filePath,<span class="literal">true</span>);</span><br><span class="line">           fileWriter.write(txt);</span><br><span class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               fileWriter.close();</span><br><span class="line">               <span class="comment">//必须要close()或者flush()</span></span><br><span class="line">               <span class="comment">//close()会调用写入的方法！！！=flush()+关闭</span></span><br><span class="line">           &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><img src="/pic/p23.png" alt="img"></p>
<h5 id="节点流："><a href="#节点流：" class="headerlink" title="节点流："></a>节点流：</h5><blockquote>
<p>从特定的数据源读写数据:FileReader，FileWriter</p>
</blockquote>
<h5 id="处理流-包装流-："><a href="#处理流-包装流-：" class="headerlink" title="处理流(包装流)："></a>处理流(包装流)：</h5><blockquote>
<p>“连接”已存在的流（节点流或者处理流）之上，为程序提供更为强大的读写功能。</p>
</blockquote>
<p>以BufferedReade为例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedReader</span> <span class="keyword">extends</span> <span class="title class_">Reader</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Reader in;<span class="comment">// 可以接送节点流，只要是Reade的子类即可</span></span><br></pre></td></tr></table></figure>

<p>节点流和处理流的区别与联系</p>
<blockquote>
<p>①<font color='springgreen'>节点流</font>是<font color='orange'>底层流&#x2F;低级流</font>，<font color='khaki'>直接</font>跟数据源相连</p>
<p>②<font color='springgreen'>处理流（包装流）</font><font color='hotpink'>包装节点流</font>，既可以<font color='khaki'>消除不同节点流的实现差异</font>，也可以<font color='wheat'>提供更方便的方法来完成输入和输出</font></p>
<p>③<font color='springgreen'>处理流（包装流）</font><font color='hotpink'>对节点进行包装</font>，<font color='cornflowerblue'>使用了修饰器模式</font>，<font color='khaki'>不直接与数据源相连（模拟修饰器设计模式）</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedReader_1</span> <span class="keyword">extends</span> <span class="title class_">Reader_1</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> Reader_1 reader1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BufferedReader_1</span><span class="params">(Reader_1 reader1)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.reader1 = reader1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Reader_1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span>&#123;&#125;;</span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">readString</span><span class="params">()</span>&#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileReader_1</span> <span class="keyword">extends</span>  <span class="title class_">Reader_1</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;对文件读取&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringReader_1</span> <span class="keyword">extends</span> <span class="title class_">Reader_1</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readString</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;读取字符串&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BufferedReader_1</span> <span class="variable">bufferedReader_1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader_1</span>(<span class="keyword">new</span> <span class="title class_">FileReader_1</span>());</span><br><span class="line">        bufferedReader_1.reader1.read();</span><br><span class="line">        <span class="comment">//对文件读取</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</blockquote>
<blockquote>
<p>处理流的功能主要体现在以下两个方面：</p>
<blockquote>
<p>①：<font color='springgreen'>性能的提高</font>：主要以<font color='cornflowerblue'>增加缓冲</font>的方式<font color='wheat'>来提高输入输出</font>的方法</p>
<p>②：<font color='springgreen'>操作的便捷</font>：处理流可提供一系列便捷的方法来<font color='cornflowerblue'>一次输入输出大批量的数据</font>，使用更加灵活。</p>
</blockquote>
<p>处理流：<font color='khaki'>BufferedReader</font>和<font color='khaki'>BufferedWriter</font></p>
<blockquote>
<p>二者属于<font color='orange'>字符流</font>，按照<font color='wheat'>字符</font>来读取数据。</p>
<p>关闭处理流时，只需要<font color='red'>关闭外层流</font>即可（虽然真正工作的是节点流）（关闭包装流，会自动关闭节点流）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedRead01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span><span class="string">&quot;d:\\story.txt&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span>[] arr = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">8</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">           fileReader = <span class="keyword">new</span> <span class="title class_">FileReader</span>(filePath);</span><br><span class="line">            bufferedReader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fileReader);</span><br><span class="line">           <span class="keyword">while</span>((length=bufferedReader.read(arr))!=-<span class="number">1</span>)&#123;</span><br><span class="line">               System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(arr,<span class="number">0</span>,length));</span><br><span class="line">           &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bufferedReader.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedRead01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span><span class="string">&quot;d:\\story.txt&quot;</span>;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        String line=<span class="literal">null</span>;<span class="comment">//高效</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">           fileReader = <span class="keyword">new</span> <span class="title class_">FileReader</span>(filePath);</span><br><span class="line">            bufferedReader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fileReader);</span><br><span class="line">           <span class="keyword">while</span>((line=bufferedReader.readLine())!=<span class="literal">null</span>)&#123;</span><br><span class="line">               System.out.println(line);</span><br><span class="line">           &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bufferedReader.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>处理流：BufferedInputStream和BufferedOutputStream</p>
<blockquote>
<p><font color='khaki'>BufferedInputStream是字节流</font>，在<font color='wheat'>创建BufferedInputStream时会创建一个内部缓冲数组</font></p>
</blockquote>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="comment">//利用字符流完成对文件的复制</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">copy</span><span class="params">()</span>&#123;</span><br><span class="line">   </span><br><span class="line">       <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">       <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">       </span><br><span class="line">       <span class="type">String</span> <span class="variable">srcpath</span> <span class="operator">=</span> <span class="string">&quot;e:\\okay.png&quot;</span>;</span><br><span class="line">       <span class="type">String</span> <span class="variable">deapath</span> <span class="operator">=</span> <span class="string">&quot;d:\\okay.png&quot;</span>;</span><br><span class="line">       </span><br><span class="line">       <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">       <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">       </span><br><span class="line">       <span class="type">byte</span> []arr = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">10</span>];</span><br><span class="line">       <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(srcpath);</span><br><span class="line">           fileOutputStream=<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(deapath);</span><br><span class="line">           </span><br><span class="line">         bis = <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fileInputStream);</span><br><span class="line">         bos = <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fileOutputStream);</span><br><span class="line">         </span><br><span class="line">         <span class="keyword">while</span>((length=bis.read(arr))!=-<span class="number">1</span>)&#123;</span><br><span class="line">             bos.write(arr,<span class="number">0</span>,length);</span><br><span class="line">         &#125;</span><br><span class="line">         </span><br><span class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="comment">// 关闭外层就好(包装流)</span></span><br><span class="line">               bos.close();</span><br><span class="line">               bis.close();</span><br><span class="line">           &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h5 id="对象流："><a href="#对象流：" class="headerlink" title="对象流："></a>对象流：</h5><blockquote>
<p>看一个需求：将Dog dog &#x3D; new Dog(“小黄”,12)这个dog对象保存的文件中，要求取出时也是dog;</p>
<p>这里涉及到序列化和反序列化：</p>
<blockquote>
<p>①：<font color='hotpink'>序列化</font>就是在<font color='khaki'>保存数据</font>时，保存<font color='orange'>数据的值</font>和<font color='orange'>数据类型</font>。</p>
<p>②：<font color='hotpink'>反序列化</font>就是在<font color='khaki'>恢复数据</font>时，恢复<font color='orange'>数据的值</font>和<font color='orange'>数据类型</font>。</p>
<p>③：<font color='cornflowerblue'>为了实现序列化</font>，则要求<font color='khaki'>其类是可序列化</font>的，必须实现以下接口之一：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Serializable</span><br><span class="line"><span class="comment">//推荐，标记接口，里面没有方法，啥也没有。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Externalizable</span><br><span class="line"><span class="comment">//继承了Serializable接口，有两个重要方法</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p><font color='cornflowerblue'>ObjectOutputStream提供序列化</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="keyword">new</span>  <span class="title class_">ObjectOutputStream</span>(OutputStream out);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><font color='cornflowerblue'>ObjectInputStream提供反序列化</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span>  <span class="title class_">ObjectInputStream</span>(InputStream out);</span><br></pre></td></tr></table></figure>

<p>例题：使用ObjectOutPutStream序列化基本数据类型和一个Dog对象 （name,age），并保存到data.dat文件中.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedRead01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePth</span> <span class="operator">=</span><span class="string">&quot;e:\\data.dat&quot;</span>;</span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(filePth));</span><br><span class="line">        </span><br><span class="line">        oos.writeInt(<span class="number">100</span>);<span class="comment">//int --》 integer</span></span><br><span class="line">        oos.writeBoolean(<span class="literal">true</span>);<span class="comment">//boolean --&gt; Boolean</span></span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;lili&quot;</span>));<span class="comment">//必须要实现Serializable接口</span></span><br><span class="line">        oos.writeUTF(<span class="string">&quot;韩顺平教育&quot;</span>);<span class="comment">//String本身就实现了Serializable接口</span></span><br><span class="line">        oos.close();</span><br><span class="line">         <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(filePth));</span><br><span class="line">        <span class="comment">//读取顺序必须要和写入顺序一致，不然抛异常</span></span><br><span class="line">        System.out.println(ois.readInt());</span><br><span class="line">        System.out.println(ois.readBoolean());</span><br><span class="line">        <span class="type">Object</span> <span class="variable">dog</span> <span class="operator">=</span> ois.readObject();</span><br><span class="line">        System.out.println(<span class="string">&quot;dog的运行类型是&quot;</span>+dog.getClass());</span><br><span class="line">        System.out.println(dog);</span><br><span class="line">        ois.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>①：<font color='khaki'>序列化</font>和<font color='khaki'>反序列化对象</font>需要实现<font color='springgreen'>Serializable接口</font></p>
<p>②：<font color='cornflowerblue'>序列化的类中建议添加SerialVersionUID</font>，为提高版本兼容性，这样引入新属性时不会被认为是一个新类，而是当初那个类</p>
<p>③<font color='khaki'>序列化对象时，里面所有的属性都进行序列化</font>，但除了<font color='wheat'>static</font>和<font color='wheat'>transient</font>修饰的成员不序列化。</p>
<p>④：序列化对象时，<font color='khaki'>属性类型也要实现序列化接口</font>。</p>
<p>⑤：序列化具备<font color='wheat'>可继承性</font>，也就是某类实现了序列化，则它的所有子类也已经默认实现了序列化。</p>
</blockquote>
</blockquote>
<h5 id="标准输入输出流："><a href="#标准输入输出流：" class="headerlink" title="标准输入输出流："></a>标准输入输出流：</h5><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">类型</th>
<th align="center">默认设置</th>
</tr>
</thead>
<tbody><tr>
<td align="center">System.in</td>
<td align="center">InputStream（编译类型）（运行类型为BufferedInputStream）</td>
<td align="center">键盘</td>
</tr>
<tr>
<td align="center">System.out</td>
<td align="center">PrintStream（编译和运行类型）</td>
<td align="center">显示器</td>
</tr>
</tbody></table>
<p><font color='cornflowerblue'>利用out对象打印到显示器上</font>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(System.out.getClass());<span class="comment">//标准输出，输出到显示器</span></span><br></pre></td></tr></table></figure>

<h5 id="转换流："><a href="#转换流：" class="headerlink" title="转换流："></a>转换流：</h5><p>将<font color='orange'>字节流</font>转换成<font color='orange'>字符流</font></p>
<p>InputStreamReader和OutputStreamWriter</p>
<blockquote>
<p>默认情况下，编码格式为<font color='cornflowerblue'>utf-8</font>,但当是其他格式时，就会乱码。</p>
</blockquote>
<blockquote>
<p><font color='wheat'>InPutStreamReader：Reader的子类，可以将InputStream包装成转换为Reader（字节流）</font></p>
<p><font color='wheat'>OutputStreamWriter：Writer的子类，可以将OutputStream包装成转换为Writer（字节流）</font></p>
<p>构造器：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">InputStreamReader</span><span class="params">(InputStream in, Charset cs)</span>&#123;...&#125;</span><br><span class="line"><span class="comment">//  					传入一个InputStream,指定一个编码格式</span></span><br></pre></td></tr></table></figure>

<p>处理纯文本时，使用字符流效率更高，并且有效解决中文问题，建议将字节流转换成字符流。</p>
</blockquote>
<h5 id="打印流："><a href="#打印流：" class="headerlink" title="打印流："></a>打印流：</h5><p>PrintStream和PrintWriter（只有输出，没有输入）</p>
<p><font color='orange'>print（）方法底层调用write（）</font>，故可以用write（）方法打印。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PrintStream</span> <span class="variable">out</span> <span class="operator">=</span> System.out;</span><br><span class="line">out.println(<span class="string">&quot;Hahah&quot;</span>);</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure>

<h5 id="Properties类"><a href="#Properties类" class="headerlink" title="Properties类:"></a>Properties类:</h5><blockquote>
<p>需求：xx.properties配置文件 —–配置—–》程序——-》数据库</p>
<p>​          xx.properties配置文件 《—–写入—–程序《——-数据库           </p>
<p>格式：</p>
<blockquote>
<p><font color='springgreen'>键&#x3D;值</font></p>
<p>注意:键值对<font color='wheat'>不需要要空格</font>，<font color='khaki'>值不需要引号框</font>，<font color='cornflowerblue'>默认为String</font>。  </p>
</blockquote>
<p>方法：</p>
<blockquote>
<p>①load：<font color='khaki'>加载配置文件的键值对</font>到<font color='cornflowerblue'>Properties对象</font>。</p>
<p>②list：将<font color='wheat'>数据显示到指定设备</font>。</p>
<p> ③getProperty（key)；<font color='wheat'>根据键获取值</font>。</p>
<p>④setProperty（key,value）；<font color='wheat'>设置键值对</font>到Properties对象。</p>
<p>⑤store:<font color='wheat'>将Properties中的键值对存储到配置文件</font>（原先有就覆盖），在idea中，保存配置中<font color='khaki'>若含有中文，会存储为unicode</font>。         </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">key=<span class="number">123</span>;</span><br><span class="line">vlaue=<span class="number">12345</span>;</span><br><span class="line"><span class="comment">// example.properties在src下建的文件</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	   <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        properties.load(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;src\\example.properties&quot;</span>));</span><br><span class="line">        properties.list(System.out);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">-- listing properties --</span></span><br><span class="line"><span class="comment">key=123;</span></span><br><span class="line"><span class="comment">vlaue=12345;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</blockquote>
<h5 id="网络编程："><a href="#网络编程：" class="headerlink" title="网络编程："></a>网络编程：</h5><blockquote>
<p>网络通信：两台设备间通过网络实现数据传输。</p>
<p><font color='hotpink'>java.net包</font>下提供了一系列的类与接口，供程序员使用，完成网络通信。</p>
<p>根据网络覆盖范围：</p>
<blockquote>
<p><font color='slateblue'>局域网</font>，<font color='slateblue'>城域网</font>，<font color='slateblue'>广域网</font></p>
</blockquote>
<p>ip地址：<font color='orange'>唯一标识</font>网络中的每台计算机&#x2F;主机</p>
<p>ip地址的表示：<font color='slateblue'>点分十进制</font></p>
<p>查看IP的方式：<font color='khaki'>win + r—&gt;cmd—&gt;ipcofig</font></p>
<p>我的ip地址：192.168.16.69（<font color='orange'>网络地址</font>：前三位）+（<font color='orange'>主机地址</font>）</p>
<p>ipv6：使用<font color='springgreen'>16个字节</font>（128位，16进制表示）是<font color='khaki'>ipv4的4倍</font>，</p>
</blockquote>
<h6 id="ipv4地址分类："><a href="#ipv4地址分类：" class="headerlink" title="ipv4地址分类："></a>ipv4地址分类：</h6><p><img src="/pic/p24.png" alt="img"></p>
<p>特殊的，<font color='hotpink'>127.0.0.1表示本机地址</font>。</p>
<h5 id="域名："><a href="#域名：" class="headerlink" title="域名："></a>域名：</h5><blockquote>
<p>为方便记忆，解决ip难记问题。例：<a target="_blank" rel="noopener" href="http://www.baidu.com(主机ip/">www.baidu.com（主机IP</a> xx.xx.xx.xx）</p>
<p>ip地址依据<font color='khaki'>HTTP协议</font>映射成<font color='khaki'>域名</font>。</p>
</blockquote>
<h5 id="端口号："><a href="#端口号：" class="headerlink" title="端口号："></a>端口号：</h5><blockquote>
<p>用于标识计算机上某个特定的网络程序（<font color='khaki'>监听端口</font>）（<font color='cornflowerblue'>一个端口只可以为一个程序服务</font>）</p>
<blockquote>
<p>电脑浏览器——-IP+端口———80端口——网站服务</p>
</blockquote>
<p>表示：</p>
<blockquote>
<p>整数：<font color='wheat'>0<del>65535（2个字节：0</del>2^16  - 1 &#x3D; 65535）</font><font color='wheat'></font></p>
<p><font color='khaki'>3.0~1024已被占用，ssh20,ftp21,smtp25,http80(尽量别占用它们)</font></p>
</blockquote>
<p>常见端口号：<font color='hotpink'>tomcat：8080，mysql:3306，oracle：1521，sql server:1433</font></p>
</blockquote>
<h5 id="网络通信协议："><a href="#网络通信协议：" class="headerlink" title="网络通信协议："></a>网络通信协议：</h5><blockquote>
<p>协议：数据的组织形势</p>
<p>网络协议：<font color='springgreen'>tcp &#x2F; ip</font></p>
<p><font color='springgreen'>TCP &#x2F; IP（Transmission Control Protocol &#x2F; Internet Protocol）</font></p>
<p><font color='orange'>传输控制协议</font> &#x2F; <font color='orange'>因特网互联协议</font>，也叫<font color='hotpink'>网络通讯协议</font>，这个协议是Internet最基本的一个协议，简单说，由<font color='cornflowerblue'>网络层IP协议</font>和<font color='cornflowerblue'>传输层的TCP协议</font>组成。</p>
<p><img src="/pic/p25.png" alt="img"></p>
<p><img src="/pic/p26.png" alt="img"></p>
</blockquote>
<h5 id="TCP："><a href="#TCP：" class="headerlink" title="TCP："></a>TCP：</h5><blockquote>
<p>①：使用TCP协议，<font color='hotpink'>必须建立TCP连接，形成传输数据通道</font>。</p>
<p>②：传输前要进行<font color='hotpink'>3次握手</font>，来保证是可靠的。</p>
<p>③：TCP协议进行通信的两个应用进程：<font color='hotpink'>客户端</font>，<font color='hotpink'>服务端</font>。</p>
<p>④：在连接中，可进行<font color='hotpink'>大量的数据传输</font></p>
<p>⑤：传完后需要<font color='cornflowerblue'>释放已建立的连接，效率较低</font>。</p>
</blockquote>
<h5 id="UDP：用户数据协议"><a href="#UDP：用户数据协议" class="headerlink" title="UDP：用户数据协议"></a>UDP：用户数据协议</h5><blockquote>
<p>①：将数据源<font color='orange'>封装成数据包</font>，<font color='khaki'>不需要建立连接</font>。</p>
<p>②：每个数据包的大小<font color='wheat'>限制在64k内</font>，<font color='slateblue'>不适合于大量传输数据</font>。</p>
<p>③：<font color='cornflowerblue'>无需建立连接，不可靠</font>。</p>
<p>④：无需释放资源(因为不是面向连接的)，<font color='khaki'>速度快</font>。</p>
</blockquote>
<h5 id="InetAddress类："><a href="#InetAddress类：" class="headerlink" title="InetAddress类："></a>InetAddress类：</h5><blockquote>
<p>相关方法：</p>
<p>①：<font color='orange'>获取本机的InetAddress对象</font>，getLocalHost（）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InetAddress</span> <span class="variable">localHost</span> <span class="operator">=</span> InetAddress.getLocalHost();</span><br><span class="line">System.out.println(localHost);</span><br><span class="line"><span class="comment">//LAPTOP-UKA9TUK8/127.0.0.1    </span></span><br><span class="line"><span class="comment">// 设备名          IP地址</span></span><br></pre></td></tr></table></figure>

<p>②：<font color='khaki'>根据指定的主机名&#x2F;域名获取ip地址对象</font>：getByname（）</p>
<p>③：<font color='slateblue'>获取InetAddress对象的主机名</font>，getHostNam（）&#x2F;&#x2F;主机名</p>
<p>④：<font color='wheat'>获取InetAddress对象的地址名</font>，getHostAddress（）&#x2F;&#x2F;ip</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InetAddress</span> <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable &#123;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">API_</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//获取本机的InetAddress对象</span></span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">localHost</span> <span class="operator">=</span> InetAddress.getLocalHost();</span><br><span class="line">        System.out.println(localHost);<span class="comment">//LAPTOP-UKA9TUK8/192.168.8.77</span></span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">byName</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;LAPTOP-UKA9TUK8&quot;</span>);</span><br><span class="line">        System.out.println(byName);<span class="comment">//LAPTOP-UKA9TUK8/192.168.8.77</span></span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">byName1</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;www.baidu.com&quot;</span>);</span><br><span class="line">        System.out.println(byName1);<span class="comment">//www.baidu.com/36.152.44.95</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">hostAddress</span> <span class="operator">=</span> byName1.getHostAddress();</span><br><span class="line">        System.out.println(hostAddress);<span class="comment">//36.152.44.96</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">hostName</span> <span class="operator">=</span> byName1.getHostName();</span><br><span class="line">        System.out.println(hostName);<span class="comment">//www.baidu.com</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Socket："><a href="#Socket：" class="headerlink" title="Socket："></a>Socket：</h5><blockquote>
<p>①：套接字（Socket）开发网络应用程序被广泛的采用，因而成为了标准。</p>
<p>②：通信的两端都要有Socket，是两台机器间通信的端点。</p>
<p>③：网络通信其实就是Socket间的通信。</p>
<p>④：Socket允许程序把网络连接当成一个流，数据在两个Socket间通过IO传输。</p>
<p>⑤：一般主动发起通信的应用程序属客户端，等待通信请求的为服务端。 </p>
<p>通讯时两端都有：</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">socket.getOutputStream();</span><br><span class="line">socket.getInputStream();</span><br></pre></td></tr></table></figure>
</blockquote>
<p>socket必须关闭，避免浪费资源。</p>
</blockquote>
<p>Socket的建立：</p>
<blockquote>
<p>TCP编程：可靠</p>
<p>UDP编程：不可靠</p>
<p>TCP：</p>
<blockquote>
<p>①：基于客户端–服务器端的网络协议</p>
<p>②：底层使用的是TCP&#x2F;IP协议</p>
</blockquote>
<p>应用案例：</p>
<blockquote>
<p>①：编写一个服务器端和一个客户端</p>
<p>②：服务器端在9999端口监听。</p>
<p>③：客户端连接到服务器，发送”hello,server”，然后退出。</p>
<p>④：服务器收到客户端的信息，输出，退出。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//在9999端口监听，要求没被占用,程序此时被阻塞在这里，等待连接。</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;服务端在9999端口监听，等待连接......&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果有客户端连接，则会返回一个Socket对象</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">        System.out.println(<span class="string">&quot;服务器端socket = &quot;</span>+socket.getClass());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用socket的方法来获取输入流</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((length=inputStream.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(b,<span class="number">0</span>,length));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//关闭流</span></span><br><span class="line">        inputStream.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        <span class="comment">//serverSocket可以创建多个socket，实现与多个客户端连接</span></span><br><span class="line">        serverSocket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//连接这台主机的9999端口，如果连接成功，返回Socket对象。</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(InetAddress.getLocalHost(),<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端socket返回= &quot;</span>  +socket.getClass());</span><br><span class="line">        <span class="comment">//通过socket来获取输出流</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        outputStream.write(<span class="string">&quot;hello,server&quot;</span>.getBytes());</span><br><span class="line">        <span class="comment">//关闭流</span></span><br><span class="line">        outputStream.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端退出&quot;</span>);</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>①：编写一个服务器端和一个客户端</p>
<p>②：服务器端在9999端口监听。</p>
<p>③：客户端连接到服务器，发送”hello,server”，并接收服务器端回发的”hello,client”然后退出。</p>
<p>④：服务器收到客户端的信息，输出，并发送”hello,client”退出。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 服务器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//在9999端口监听，要求没被占用,程序此时被阻塞在这里，等待连接。</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;服务端在9999端口监听，等待连接......&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果有客户端连接，则会返回一个Socket对象</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">        System.out.println(<span class="string">&quot;服务器端socket = &quot;</span>+socket.getClass());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用socket的方法来获取输入流</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((length=inputStream.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(b,<span class="number">0</span>,length));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 结束标记</span></span><br><span class="line">        socket.shutdownInput();</span><br><span class="line">        </span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        outputStream.write(<span class="string">&quot;hello,client&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//关闭流</span></span><br><span class="line">        inputStream.close();</span><br><span class="line">        outputStream.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        <span class="comment">//serverSocket可以创建多个socket，实现与多个客户端连接</span></span><br><span class="line">        serverSocket.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;服务端退出&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 客户端</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//连接这台主机的9999端口，如果连接成功，返回Socket对象。</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(InetAddress.getLocalHost(),<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端socket返回= &quot;</span>  +socket.getClass());</span><br><span class="line">        <span class="comment">//通过socket来获取输出流</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        outputStream.write(<span class="string">&quot;hello,server&quot;</span>.getBytes());</span><br><span class="line">        <span class="comment">//结束标记</span></span><br><span class="line">        socket.shutdownOutput();</span><br><span class="line"></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">int</span> length= <span class="number">0</span>;</span><br><span class="line">        <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span>((length=inputStream.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(b,<span class="number">0</span>,length));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//关闭流</span></span><br><span class="line">        outputStream.close();</span><br><span class="line">        inputStream.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端退出&quot;</span>);</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>使用字符流：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 服务器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//在9999端口监听，要求没被占用,程序此时被阻塞在这里，等待连接。</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;服务端在9999端口监听，等待连接......&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果有客户端连接，则会返回一个Socket对象</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">        System.out.println(<span class="string">&quot;服务器端socket = &quot;</span>+socket.getClass());</span><br><span class="line">        <span class="comment">//使用socket的方法来获取输入流</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(inputStream));</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> bufferedReader.readLine();</span><br><span class="line">        System.out.println(str);</span><br><span class="line"></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        <span class="comment">//使用转换流再包装成包装流</span></span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bufferedWriter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(outputStream));</span><br><span class="line">        bufferedWriter.write(<span class="string">&quot;hello,client&quot;</span>);</span><br><span class="line">        bufferedWriter.newLine();</span><br><span class="line">        bufferedWriter.flush();</span><br><span class="line">        <span class="comment">//关闭流</span></span><br><span class="line">        inputStream.close();</span><br><span class="line">        outputStream.close();</span><br><span class="line">        bufferedWriter.close();</span><br><span class="line">        bufferedReader.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        <span class="comment">//serverSocket可以创建多个socket，实现与多个客户端连接</span></span><br><span class="line">        serverSocket.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;服务端退出&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 客户端</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//连接这台主机的9999端口，如果连接成功，返回Socket对象。</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(InetAddress.getLocalHost(),<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端socket返回= &quot;</span>  +socket.getClass());</span><br><span class="line">        <span class="comment">//通过socket来获取输出流</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bufferedWriter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(outputStream));</span><br><span class="line">        bufferedWriter.write(<span class="string">&quot;hello,server 字符流&quot;</span>);</span><br><span class="line">        bufferedWriter.newLine();<span class="comment">//插入一个换行符，表示写入内容结束,对方必须用readLine来读取。</span></span><br><span class="line">        bufferedWriter.flush();<span class="comment">//字符流要自动刷新，否则不会写入数据通道</span></span><br><span class="line"></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(inputStream));</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> bufferedReader.readLine();</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        <span class="comment">//关闭流</span></span><br><span class="line">        outputStream.close();</span><br><span class="line">        inputStream.close();</span><br><span class="line">        bufferedWriter.close();</span><br><span class="line">        bufferedReader.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        bufferedWriter.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端退出&quot;</span>);</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>客户端传图片到服务器，服务端下载图片并保存到指定位置：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 服务器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;服务器在监听9999端口&quot;</span>);</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">        <span class="type">String</span> <span class="variable">filepath</span> <span class="operator">=</span> <span class="string">&quot;d:\\best.jpg&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(filepath);</span><br><span class="line">        <span class="type">byte</span>[] b =<span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((length=inputStream.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            fileOutputStream.write(b,<span class="number">0</span>,length);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        socket.shutdownInput();</span><br><span class="line"></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        outputStream.write(<span class="string">&quot;接受成功&quot;</span>.getBytes());</span><br><span class="line">        socket.isOutputShutdown();</span><br><span class="line"></span><br><span class="line">        socket.close();</span><br><span class="line">        outputStream.close();</span><br><span class="line">        inputStream.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;Server退出&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>使用StreamUtils</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamUtils</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">byte</span>[] streamToByteArray(InputStream is) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 创建输出流对象</span></span><br><span class="line">        <span class="type">ByteArrayOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line">        <span class="comment">// 字节数组</span></span><br><span class="line">        <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// 循环读取</span></span><br><span class="line">            <span class="comment">// 把读取到的数据，写入 bos</span></span><br><span class="line">            bos.write(b, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">byte</span>[] array = bos.toByteArray();</span><br><span class="line">        bos.close();</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">streamToString</span><span class="params">(InputStream is)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(is));</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        String line;</span><br><span class="line">        <span class="keyword">while</span> ((line = reader.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            builder.append(line + <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> builder.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 服务器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//监听9999端口</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;服务器在监听9999端口&quot;</span>);</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bufferedInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(socket.getInputStream());</span><br><span class="line">        <span class="type">byte</span>[] bytes = StreamUtils.streamToByteArray(bufferedInputStream);</span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bufferedOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;d:\\best.jpg&quot;</span>));</span><br><span class="line">        bufferedOutputStream.write(bytes);</span><br><span class="line">        socket.shutdownInput();</span><br><span class="line"></span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bufferedWriter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(socket.getOutputStream()));</span><br><span class="line">        bufferedWriter.write(<span class="string">&quot;接收成功&quot;</span>);</span><br><span class="line">        bufferedWriter.flush();</span><br><span class="line">        bufferedWriter.close();</span><br><span class="line">        bufferedOutputStream.close();</span><br><span class="line">        bufferedInputStream.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 客户端</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//创建socket</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(InetAddress.getLocalHost(),<span class="number">9999</span>);</span><br><span class="line">        <span class="comment">//获取流</span></span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bufferedInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;e:\\best.jpg&quot;</span>));</span><br><span class="line">        <span class="comment">//StreamUtils是老韩自己写的工具类</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = StreamUtils.streamToByteArray(bufferedInputStream);</span><br><span class="line">        <span class="comment">//获得socket发送流</span></span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bufferedOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(socket.getOutputStream());</span><br><span class="line">        bufferedOutputStream.write(bytes);</span><br><span class="line">        socket.shutdownOutput();</span><br><span class="line"></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> StreamUtils.streamToString(inputStream);</span><br><span class="line">        System.out.println(s);</span><br><span class="line"></span><br><span class="line">        inputStream.close();</span><br><span class="line">        bufferedInputStream.close();<span class="comment">//关流</span></span><br><span class="line">        socket.close();</span><br><span class="line">        bufferedOutputStream.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</blockquote>
</blockquote>
<h5 id="netstat指令："><a href="#netstat指令：" class="headerlink" title="netstat指令："></a>netstat指令：</h5><blockquote>
<p>①：netstat -an：查看当前主机网络情况，包括端口监听和网络连接情况</p>
<p>②：netstat -an | more可以分页显示，按空格下一页，</p>
<p>③：要求在dos控制台下执行。</p>
<p>④：Listening表示某个端口在监听。</p>
<p>⑤：如果有一个外部程序（客户端）连接到该端口，就会显示一条连接信息。</p>
<p>⑥：Ctrl  +  c 退出指令</p>
</blockquote>
<blockquote>
<p>①：当客户端连接到服务端后，实际上客户端也是通过一个端口和服务端进行通讯的，这个端口是TCP&#x2F;IP来分配的，是随机的。</p>
</blockquote>
<h5 id="UDP网络编程："><a href="#UDP网络编程：" class="headerlink" title="UDP网络编程："></a>UDP网络编程：</h5><blockquote>
<p>①：类DatagramSocket和DatagramPacket实现了基于UDP协议网络程序。</p>
<p>②：UDP数据报通过数据套接字DatagramSocket发送和接收，系统不保证UDP数据报一定能够安全的送到目的地，也不确定什么时候可以抵达。</p>
<p>③：DatagramPacket对象封装了UDP数据报，在数据报中包含了发送端的IP地址和端口号以及接收端的IP地址和端口号。</p>
<p>④：UDP协议中每个数据报都给出了完整的地址信息，因此无须建立发送方和接收方的连接。</p>
</blockquote>
<p>UDP网络通信编程的基本流程：</p>
<blockquote>
<p>①：核心的两个类&#x2F;对象: DatagramSocket与DatagramPacket</p>
<p>②：建立发送端，接收端（没有明确的客户端和服务端）。</p>
<p>③：建立数据包。</p>
<p>④：调用DatagramSocket的发送，接收方法。</p>
<p>⑤：关闭DatagramSocket。</p>
<p>#说明：</p>
<blockquote>
<p>①：接收数据和发送数据是通过DatagramSocket对象完成的</p>
<p>②：将数据封装到DatagramPacket对象&#x2F;装包。</p>
<p>③：当接收到DatagramPacket对象，需要进行拆包，取出数据。</p>
<p>④：DatagramSocket可以指定在哪个端口接收数据。</p>
</blockquote>
<p>案例：</p>
<blockquote>
<p>①：编写一个接收端A和一个发送端B</p>
<p>②：接收端A在9999端口等待接收数据(receive)</p>
<p>③：发送端A向接收端B发送数据”明天吃火锅”</p>
<p>④：接收端B接收到发送端A发送的数据，回复”好的，明天见”,再退出</p>
<p>⑤：发送端接收恢复的数据，再退出。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//创建一个DatagramSocket对象，准备在9999端口接收数据</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">datagramSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">9999</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];<span class="comment">//UDP限制到64K</span></span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">datagramPacket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(buff, buff.length);</span><br><span class="line">        System.out.println(<span class="string">&quot;接收包A在等待数据&quot;</span>);</span><br><span class="line">        <span class="comment">//准备接收方法,将packet对象填充到socket里，有数据包时，该方法接收数据，若没有数据包，则会阻塞。</span></span><br><span class="line">        datagramSocket.receive(datagramPacket);</span><br><span class="line">        <span class="comment">//可以把packet拆包，取出数据，并显示。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> datagramPacket.getLength();<span class="comment">//实际的数据长度</span></span><br><span class="line">        <span class="type">byte</span>[] data = datagramPacket.getData();<span class="comment">//接收到数据</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(data,<span class="number">0</span>,length);</span><br><span class="line">        System.out.println(str);</span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] buff1 =<span class="string">&quot;好，明天见！&quot;</span>.getBytes();</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">datagramPacket1</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(buff1, buff1.length, InetAddress.getByName(<span class="string">&quot;192.168.8.77&quot;</span>),<span class="number">9998</span>);</span><br><span class="line">        datagramSocket.send(datagramPacket1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//关闭资源</span></span><br><span class="line">        datagramSocket.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;A端退出&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">B</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//创建DatagramSocket对象，准备在9998端口发送和接收数据</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">datagramSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">9998</span>);</span><br><span class="line">        <span class="comment">//传入字节数组，数组长度，主机（IP），端口。</span></span><br><span class="line">        <span class="type">byte</span>[] data = <span class="string">&quot;hello,明天去吃火锅&quot;</span>.getBytes();</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">datagramPacket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(data, data.length,InetAddress.getByName(<span class="string">&quot;192.168.8.77&quot;</span>),<span class="number">9999</span>);</span><br><span class="line">        datagramSocket.send(datagramPacket);</span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">datagramPacket1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(buff, buff.length);</span><br><span class="line">        datagramSocket.receive(datagramPacket1);</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> datagramPacket1.getLength();</span><br><span class="line">        <span class="type">byte</span>[] arr=datagramPacket1.getData();</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(arr,<span class="number">0</span>,length);</span><br><span class="line">        System.out.println(str);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//关闭资源</span></span><br><span class="line">        datagramSocket.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;B端退出&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>聊天：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 客户端</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;All&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;用户，你好，请输入你的问题：&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span><span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        str = sc.next();</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(InetAddress.getLocalHost(),<span class="number">9997</span>);</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        os.write(str.getBytes());</span><br><span class="line">        socket.shutdownOutput();</span><br><span class="line"></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">byte</span>[] data = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span>((length=is.read(data))!=-<span class="number">1</span>)&#123;</span><br><span class="line">          System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(data,<span class="number">0</span>,length));</span><br><span class="line">      &#125;</span><br><span class="line">        os.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> * 服务器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;All&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9997</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;服务器在9997端口监听&quot;</span>);</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">        InputStream is= socket.getInputStream();</span><br><span class="line">        <span class="type">byte</span>[] data = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span>((length=is.read(data))!=-<span class="number">1</span>)&#123;</span><br><span class="line">           str = <span class="keyword">new</span> <span class="title class_">String</span>(data,<span class="number">0</span>,length);</span><br><span class="line">           System.out.println(<span class="string">&quot;从Client收到的数据为&quot;</span>+str);</span><br><span class="line">       &#125;</span><br><span class="line">       socket.shutdownInput();</span><br><span class="line"></span><br><span class="line">        String str1=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        <span class="keyword">if</span>(str.equals(<span class="string">&quot;name&quot;</span>))&#123;</span><br><span class="line">            str1=<span class="string">&quot;nova&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(str.equals(<span class="string">&quot;hobby&quot;</span>))&#123;</span><br><span class="line">            str1=<span class="string">&quot;编写Java程序&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            str1=<span class="string">&quot;你说什么呢&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        os.write(str1.getBytes());</span><br><span class="line"></span><br><span class="line">        os.close();</span><br><span class="line">        socket.close();</span><br><span class="line">       is.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;All&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">datagramSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">9995</span>);</span><br><span class="line">        <span class="type">byte</span>[] data = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">datagramPacket</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(data, data.length);</span><br><span class="line">       datagramSocket.receive(datagramPacket);</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> datagramPacket.getLength();</span><br><span class="line">        <span class="type">byte</span>[] data1 = datagramPacket.getData();</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(data1,<span class="number">0</span>,length);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span><span class="string">&quot;&quot;</span>;</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;四大名著是哪些&quot;</span>.equals(str))&#123;</span><br><span class="line">            str1=<span class="string">&quot;四大名著是《红楼梦》《水浒传》《西游记》《三国演义》&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            str1 =<span class="string">&quot;What？&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        data1=str1.getBytes();</span><br><span class="line">        datagramPacket=<span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(data1, data1.length,InetAddress.getLocalHost(),<span class="number">9997</span>);</span><br><span class="line">        datagramSocket.send(datagramPacket);</span><br><span class="line">        System.out.println(<span class="string">&quot;A端退出&quot;</span>);</span><br><span class="line">        datagramSocket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> colourful</span></span><br><span class="line"><span class="comment"> * version 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">B</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">datagramSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">9997</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;四大名著是哪些&quot;</span>;</span><br><span class="line">        <span class="type">byte</span>[] data = str.getBytes();</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> data.length;</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">datagramPacket</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(data, length, InetAddress.getLocalHost(), <span class="number">9995</span>);</span><br><span class="line">        datagramSocket.send(datagramPacket);</span><br><span class="line">        data = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        datagramPacket= <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(data, data.length);</span><br><span class="line">        datagramSocket.receive(datagramPacket);</span><br><span class="line">        <span class="type">byte</span>[] data1 = datagramPacket.getData();</span><br><span class="line">        <span class="type">int</span> <span class="variable">length1</span> <span class="operator">=</span> datagramPacket.getLength();</span><br><span class="line">        System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(data1,<span class="number">0</span>,length1));</span><br><span class="line">        System.out.println(<span class="string">&quot;B端退出&quot;</span>);</span><br><span class="line">        datagramSocket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<h5 id="多用户通信项目："><a href="#多用户通信项目：" class="headerlink" title="多用户通信项目："></a>多用户通信项目：</h5><h6 id="项目开发流程的简介："><a href="#项目开发流程的简介：" class="headerlink" title="项目开发流程的简介："></a>项目开发流程的简介：</h6><blockquote>
<p>①需求分析阶段：需求分析报告：项目功能，客户要求。</p>
<p>②设计阶段：UML类图，流程图，模块设计，数据库，架构，原型开发。</p>
<p>③实现阶段：完成模块功能，测试模块。</p>
<p>④测试阶段：单元测试，黑盒测试，集成测试</p>
<p>⑤实施阶段：部署项目</p>
<p>⑥维护阶段：发现bug，项目升级。</p>
</blockquote>
<h5 id="-1"><a href="#-1" class="headerlink" title=""></a></h5></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">lijxing</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/11/19/JavaSE/">http://example.com/2022/11/19/JavaSE/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">myblog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/best.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/09/26/es6/" title="es6+"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">es6+</div></div></a></div><div class="next-post pull-right"><a href="/2022/11/19/IDEA%E7%9A%84%E4%BE%BF%E6%8D%B7%E4%BD%BF%E7%94%A8/" title="IDEA的便捷使用"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">IDEA的便捷使用</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/best.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">lijxing</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/lijxing"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#java%E7%AE%80%E4%BB%8B%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">java简介：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E8%BD%AF%E4%BB%B6%E6%9D%A5%E9%93%BE%E6%8E%A5%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">相关软件来链接：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEJDK"><span class="toc-number">3.</span> <span class="toc-text">设置JDK:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84%E4%B8%8E%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">相对路径与绝对路径：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Java%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A6%82%E5%BF%B5%E8%AF%8D"><span class="toc-number">5.</span> <span class="toc-text">Java的常见概念词:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JDK%E5%B7%A5%E5%85%B7%E4%BD%93%E7%B3%BB%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">JDK工具体系：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JDK%E6%96%87%E4%BB%B6%E5%A4%B9%E7%BB%93%E8%AF%BB%EF%BC%9A"><span class="toc-number">7.</span> <span class="toc-text">JDK文件夹结读：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Java%E7%A8%8B%E5%BA%8F%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">8.</span> <span class="toc-text">Java程序工作原理：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#java%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-number">8.1.</span> <span class="toc-text">java程序的分类：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Java%E7%A8%8B%E5%BA%8F%E7%9A%845%E4%B8%AA%E5%9F%BA%E6%9C%AC%E9%83%A8%E5%88%86%EF%BC%9A"><span class="toc-number">9.</span> <span class="toc-text">Java程序的5个基本部分：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%88%86%E9%9A%94%E7%AC%A6"><span class="toc-number">10.</span> <span class="toc-text">1.分隔符:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%A0%87%E8%AF%86%E7%AC%A6%EF%BC%8C%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">11.</span> <span class="toc-text">2.标识符，关键字</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#cmd%E5%86%99Java%E7%A8%8B%E5%BA%8F%EF%BC%9A"><span class="toc-number">12.</span> <span class="toc-text">cmd写Java程序：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Java%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">13.</span> <span class="toc-text">Java的数据类型：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%EF%BC%9Ajava%E4%B8%AD%E4%BD%BF%E7%94%A8final%E6%9D%A5%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F%EF%BC%8C%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F%EF%BC%9A"><span class="toc-number">14.</span> <span class="toc-text">常量：java中使用final来定义常量，语法格式：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%EF%BC%9A"><span class="toc-number">15.</span> <span class="toc-text">变量：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7%EF%BC%9A"><span class="toc-number">16.</span> <span class="toc-text">面向对象的三大特性：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-encapsulatoin"><span class="toc-number">17.</span> <span class="toc-text">封装(encapsulatoin):</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E6%AD%A5%E8%B5%B0"><span class="toc-number">18.</span> <span class="toc-text">三步走:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-extends"><span class="toc-number">19.</span> <span class="toc-text">继承(extends):</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">19.1.</span> <span class="toc-text">继承的本质:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#super"><span class="toc-number">19.2.</span> <span class="toc-text">super:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E9%87%8D%E5%86%99-%E8%A6%86%E7%9B%96-override"><span class="toc-number">19.3.</span> <span class="toc-text">方法的重写&#x2F;覆盖(override)</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">20.</span> <span class="toc-text">多态:</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E4%BD%93%E7%8E%B0"><span class="toc-number">20.1.</span> <span class="toc-text">具体体现:</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E7%9A%84%E7%BB%86%E8%8A%82"><span class="toc-number">21.</span> <span class="toc-text">多态的细节:</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E7%9A%84%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B"><span class="toc-number">21.1.</span> <span class="toc-text">多态的向上转型:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E7%9A%84%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B"><span class="toc-number">21.2.</span> <span class="toc-text">多态的向下转型:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E6%95%B0%E7%BB%84%EF%BC%9A"><span class="toc-number">21.3.</span> <span class="toc-text">多态数组：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E5%8F%82%E6%95%B0%EF%BC%9A"><span class="toc-number">21.4.</span> <span class="toc-text">多态参数：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%92%8Cequals%EF%BC%88%EF%BC%89%E6%96%B9%E6%B3%95"><span class="toc-number">22.</span> <span class="toc-text">&#x3D;&#x3D;和equals（）方法:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#hashCode%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">23.</span> <span class="toc-text">hashCode方法：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#toString%E5%9C%A8Object%E7%9A%84%E6%BA%90%E7%A0%81%EF%BC%9A"><span class="toc-number">24.</span> <span class="toc-text">toString在Object的源码：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Java%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-number">25.</span> <span class="toc-text">Java垃圾回收机制：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%84%EF%BC%9A"><span class="toc-number">26.</span> <span class="toc-text">对象数组：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E4%B8%8E%E7%B1%BB%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">27.</span> <span class="toc-text">类变量与类方法：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%EF%BC%88%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%EF%BC%89%E7%94%B1static%E4%BF%AE%E9%A5%B0%EF%BC%9A"><span class="toc-number">27.1.</span> <span class="toc-text">类变量（静态变量）由static修饰：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="toc-number">28.</span> <span class="toc-text">定义语法：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%EF%BC%88%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%EF%BC%89%E7%94%B1static%E4%BF%AE%E9%A5%B0"><span class="toc-number">28.1.</span> <span class="toc-text">类变量（静态变量）由static修饰:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95%EF%BC%9A-1"><span class="toc-number">28.2.</span> <span class="toc-text">定义语法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">28.3.</span> <span class="toc-text">访问方式：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">28.4.</span> <span class="toc-text">类方法的使用场景：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="toc-number">28.5.</span> <span class="toc-text">注意事项：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#main%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">28.6.</span> <span class="toc-text">main方法：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1%EF%BC%9A"><span class="toc-number">29.</span> <span class="toc-text">类与对象：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#OOP%EF%BC%88Object-Oriented-Programming%EF%BC%89"><span class="toc-number">30.</span> <span class="toc-text">OOP（Object-Oriented-Programming）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%EF%BC%9A"><span class="toc-number">31.</span> <span class="toc-text">类：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%A3%B0%E6%98%8E%EF%BC%9A"><span class="toc-number">31.1.</span> <span class="toc-text">类的声明：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B1%BB%E4%BF%AE%E9%A5%B0%E7%AC%A6%EF%BC%9A"><span class="toc-number">31.2.</span> <span class="toc-text">类修饰符：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95%E4%BF%AE%E9%A5%B0%E7%AC%A6%EF%BC%9A"><span class="toc-number">31.3.</span> <span class="toc-text">成员方法修饰符：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">31.4.</span> <span class="toc-text">成员变量修饰符:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E4%BF%AE%E9%A5%B0%E7%AC%A6%EF%BC%9A"><span class="toc-number">31.5.</span> <span class="toc-text">局部变量修饰符：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-number">31.6.</span> <span class="toc-text">成员方法的格式:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-construct"><span class="toc-number">31.7.</span> <span class="toc-text">构造方法(construct):</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Java%E7%9A%84%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90"><span class="toc-number">31.8.</span> <span class="toc-text">Java的内存结构分析:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8"><span class="toc-number">31.9.</span> <span class="toc-text">方法的调用:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8"><span class="toc-number">31.10.</span> <span class="toc-text">递归调用:</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8C%85"><span class="toc-number">32.</span> <span class="toc-text">包:</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8C%85%E7%9A%84%E5%91%BD%E5%90%8D"><span class="toc-number">32.1.</span> <span class="toc-text">包的命名:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83%E4%B8%80%E8%88%AC%E6%98%AF"><span class="toc-number">32.2.</span> <span class="toc-text">命名规范一般是:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E5%8C%85"><span class="toc-number">32.3.</span> <span class="toc-text">常见的包:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8C%85%E7%9A%84%E5%AF%BC%E5%85%A5"><span class="toc-number">32.4.</span> <span class="toc-text">包的导入:</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97%E4%B8%8Efinal"><span class="toc-number">33.</span> <span class="toc-text">代码块与final:</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D%EF%BC%9A"><span class="toc-number">33.1.</span> <span class="toc-text">基本介绍：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="toc-number">33.2.</span> <span class="toc-text">基本语法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9A"><span class="toc-number">33.3.</span> <span class="toc-text">代码块的理解：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">33.4.</span> <span class="toc-text">使用场景：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%88static%E4%BB%A3%E7%A0%81%E5%9D%97%EF%BC%89%E9%9D%99%E6%80%81%E4%BB%A3%E7%A0%81%E5%9D%97%EF%BC%9A"><span class="toc-number">33.5.</span> <span class="toc-text">（static代码块）静态代码块：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B1%BB%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E8%A2%AB%E5%8A%A0%E8%BD%BD%EF%BC%9A"><span class="toc-number">33.6.</span> <span class="toc-text">类什么时候被加载：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E4%BB%A3%E7%A0%81%E5%9D%97%EF%BC%9A"><span class="toc-number">33.7.</span> <span class="toc-text">普通代码块：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E9%A1%BA%E5%BA%8F%EF%BC%9A"><span class="toc-number">33.8.</span> <span class="toc-text">调用顺序：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#fianl%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%9A"><span class="toc-number">33.9.</span> <span class="toc-text">fianl关键字：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%EF%BC%9A"><span class="toc-number">34.</span> <span class="toc-text">抽象类：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A-1"><span class="toc-number">34.1.</span> <span class="toc-text">注意事项：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number"></span> <span class="toc-text"></span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">接口：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E4%B8%8E%E6%8E%A5%E5%8F%A3%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">继承与接口：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%A4%9A%E6%80%81%EF%BC%9A"><span class="toc-number">1.2.</span> <span class="toc-text">接口的多态：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E4%BC%A0%E9%80%92%EF%BC%9A"><span class="toc-number">1.3.</span> <span class="toc-text">多态传递：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E4%BA%94%E5%A4%A7%E6%88%90%E5%91%98%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">类的五大成员：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%9A"><span class="toc-number">2.1.</span> <span class="toc-text">内部类：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%EF%BC%9A-1"><span class="toc-number">2.2.</span> <span class="toc-text">基本语法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">内部类的分类：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%9A"><span class="toc-number">2.4.</span> <span class="toc-text">局部内部类：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%9A"><span class="toc-number">2.5.</span> <span class="toc-text">匿名内部类：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="toc-number">2.6.</span> <span class="toc-text">语法：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">成员内部类：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">特点：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">3.2.</span> <span class="toc-text">作用域:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%86%85%E9%83%A8%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-number">3.3.</span> <span class="toc-text">静态内部类的使用：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-number">4.</span> <span class="toc-text">枚举:</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%95%EF%BC%9A"><span class="toc-number">4.1.</span> <span class="toc-text">自定义法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8enum%E6%9D%A5%E5%AE%9E%E7%8E%B0%E6%9E%9A%E4%B8%BE"><span class="toc-number">4.2.</span> <span class="toc-text">使用enum来实现枚举:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A2%9E%E5%BC%BAfor%E5%BE%AA%E7%8E%AF"><span class="toc-number">4.3.</span> <span class="toc-text">增强for循环:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Enum%E7%B1%BB%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">4.4.</span> <span class="toc-text">Enum类的常用方法:</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%EF%BC%9A"><span class="toc-number">5.</span> <span class="toc-text">注解：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%9A%84Annotation%E4%BB%8B%E7%BB%8D%EF%BC%9A"><span class="toc-number">5.1.</span> <span class="toc-text">基本的Annotation介绍：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Override%E6%BA%90%E7%A0%81%EF%BC%9A"><span class="toc-number">5.2.</span> <span class="toc-text">@Override源码：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Deprecated"><span class="toc-number">5.3.</span> <span class="toc-text">@Deprecated:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#SuppressWarning-%E2%80%9C-%E2%80%9C-%EF%BC%88%E6%9F%A5%E8%A1%A8%E5%A1%AB%EF%BC%89"><span class="toc-number">5.4.</span> <span class="toc-text">@SuppressWarning({“  “})（查表填）</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">异常处理：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E8%BF%90%E8%A1%8C%E6%97%B6%E5%BC%82%E5%B8%B8%EF%BC%9A"><span class="toc-number">6.1.</span> <span class="toc-text">常见的运行时异常：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%BC%82%E5%B8%B8%EF%BC%9A"><span class="toc-number">6.2.</span> <span class="toc-text">编译异常：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%EF%BC%9A-1"><span class="toc-number">6.3.</span> <span class="toc-text">异常处理：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A-2"><span class="toc-number">6.4.</span> <span class="toc-text">#注意事项：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#throws%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%EF%BC%9A"><span class="toc-number">6.5.</span> <span class="toc-text">throws异常处理：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%EF%BC%9A"><span class="toc-number">6.6.</span> <span class="toc-text">自定义异常：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Wrapper"><span class="toc-number">7.</span> <span class="toc-text">Wrapper:</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB%E4%B8%8E%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2%EF%BC%9A"><span class="toc-number">7.1.</span> <span class="toc-text">包装类与基本数据类型的相互转换：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB%E4%B8%8EString%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2%EF%BC%9A"><span class="toc-number">7.2.</span> <span class="toc-text">包装类与String类型的相互转换：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#String"><span class="toc-number">8.</span> <span class="toc-text">String:</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAString%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">8.1.</span> <span class="toc-text">创建String对象的两种方式：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%B3%E4%BA%8EString%E5%AF%B9%E8%B1%A1%EF%BC%9A"><span class="toc-number">8.2.</span> <span class="toc-text">关于String对象：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#String%E7%B1%BB%E7%9A%84%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">9.</span> <span class="toc-text">String类的常见方法：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#StringBuffer%E7%B1%BB%EF%BC%9A"><span class="toc-number">10.</span> <span class="toc-text">StringBuffer类：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8%EF%BC%9A"><span class="toc-number">10.1.</span> <span class="toc-text">构造器：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#String%E8%BD%AC%E6%8D%A2%E4%B8%BAStringBuffer"><span class="toc-number">10.2.</span> <span class="toc-text">String转换为StringBuffer:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#StringBuffer%E8%BD%AC%E6%8D%A2%E4%B8%BAString%EF%BC%9A"><span class="toc-number">10.3.</span> <span class="toc-text">StringBuffer转换为String：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">10.4.</span> <span class="toc-text">常见方法：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#StringBuilder"><span class="toc-number">11.</span> <span class="toc-text">StringBuilder:</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%EF%BC%9A"><span class="toc-number">11.1.</span> <span class="toc-text">源码：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">11.2.</span> <span class="toc-text">说明：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E8%AE%BA%EF%BC%9A"><span class="toc-number">11.3.</span> <span class="toc-text">总结论：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E7%B1%BB%EF%BC%9A"><span class="toc-number">12.</span> <span class="toc-text">Math类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Array%E7%B1%BB%EF%BC%88%E6%95%B0%E7%BB%84%EF%BC%89%EF%BC%88%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%EF%BC%89"><span class="toc-number">13.</span> <span class="toc-text">Array类（数组）（引用类型）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%EF%BC%9A"><span class="toc-number">13.1.</span> <span class="toc-text">重点：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Arrays%E7%9A%84%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">14.</span> <span class="toc-text">Arrays的常见方法：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#System%E7%B1%BB%EF%BC%9A"><span class="toc-number">15.</span> <span class="toc-text">System类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Date%E7%B1%BB%EF%BC%9A"><span class="toc-number">16.</span> <span class="toc-text">Date类：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%BB%A3%E6%97%A5%E6%9C%9F%E7%B1%BB%EF%BC%9A"><span class="toc-number">16.1.</span> <span class="toc-text">第一代日期类：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E4%BB%A3%E6%97%A5%E6%9C%9F%E7%B1%BB%EF%BC%9A"><span class="toc-number">16.2.</span> <span class="toc-text">第二代日期类：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E4%BB%A3%E6%97%A5%E6%9C%9F%E7%B1%BB%EF%BC%9A"><span class="toc-number">16.3.</span> <span class="toc-text">第三代日期类：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9B%86%E5%90%88%EF%BC%88Collection%EF%BC%89%EF%BC%9A"><span class="toc-number">17.</span> <span class="toc-text">集合（Collection）：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%8D%E8%B6%B3%E4%B9%8B%E5%A4%84%EF%BC%9A"><span class="toc-number">17.1.</span> <span class="toc-text">数组的不足之处：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="toc-number">17.2.</span> <span class="toc-text">集合的优点：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E6%A1%86%E6%9E%B6%E5%9B%BE%EF%BC%9A"><span class="toc-number">17.3.</span> <span class="toc-text">集合的框架图：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Collection%E9%81%8D%E5%8E%86%E5%85%83%E7%B4%A0%EF%BC%9A"><span class="toc-number">17.4.</span> <span class="toc-text">Collection遍历元素：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#List%E6%8E%A5%E5%8F%A3%EF%BC%9A"><span class="toc-number">18.</span> <span class="toc-text">List接口：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%89%B9%E7%82%B9%EF%BC%9A-1"><span class="toc-number">18.1.</span> <span class="toc-text">特点：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#List%E7%9A%84%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">18.2.</span> <span class="toc-text">List的常见方法：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ArrayList%E7%9A%84%E5%BA%95%E5%B1%82%E5%88%86%E6%9E%90%EF%BC%9A"><span class="toc-number">19.</span> <span class="toc-text">ArrayList的底层分析：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E5%88%86%E6%9E%90%EF%BC%9A%EF%BC%88%E5%85%88%E8%AF%B4%E7%BB%93%E8%AE%BA%EF%BC%89"><span class="toc-number">19.1.</span> <span class="toc-text">底层分析：（先说结论）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%A9%BA%E5%8F%82%E6%9E%84%E9%80%A0%E5%99%A8%E7%9A%84%E5%BA%95%E5%B1%82%E5%88%86%E6%9E%90%EF%BC%9A"><span class="toc-number">19.2.</span> <span class="toc-text">空参构造器的底层分析：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Vector"><span class="toc-number">20.</span> <span class="toc-text">Vector:</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Vector%E7%9A%84%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%EF%BC%9A"><span class="toc-number">20.1.</span> <span class="toc-text">Vector的源码解读：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#LinkedList%E7%9A%84%E5%85%A8%E9%9D%A2%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">21.</span> <span class="toc-text">LinkedList的全面说明：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#LinkedList%E6%B7%BB%E5%8A%A0%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%EF%BC%9A"><span class="toc-number">21.1.</span> <span class="toc-text">LinkedList添加源码解读：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#LinkedList%E5%88%A0%E9%99%A4%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%EF%BC%9A"><span class="toc-number">21.2.</span> <span class="toc-text">LinkedList删除源码解读：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Set%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">22.</span> <span class="toc-text">Set接口和常用方法：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%89%B9%E7%82%B9%EF%BC%9A-2"><span class="toc-number">22.1.</span> <span class="toc-text">特点：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Set%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">22.2.</span> <span class="toc-text">Set接口的常用方法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Set%E6%8E%A5%E5%8F%A3%E7%9A%84%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">22.3.</span> <span class="toc-text">Set接口的遍历方式：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-number">22.4.</span> <span class="toc-text">验证扩容机制：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E6%A0%91%E5%8C%96%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-number">22.5.</span> <span class="toc-text">验证树化机制：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98%EF%BC%9A"><span class="toc-number">22.6.</span> <span class="toc-text">练习题：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#LinkedHashSet%EF%BC%9A"><span class="toc-number">23.</span> <span class="toc-text">LinkedHashSet：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BE%8B%E9%A2%98%EF%BC%9A"><span class="toc-number">23.1.</span> <span class="toc-text">例题：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Map%E6%8E%A5%E5%8F%A3-%EF%BC%88%E6%8E%A5%E5%8F%A3%E4%B8%8D%E5%8F%AF%E5%AE%9E%E7%8E%B0%EF%BC%89"><span class="toc-number">24.</span> <span class="toc-text">Map接口:（接口不可实现）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Map%E7%BB%A7%E6%89%BF%E4%BD%93%E7%B3%BB%E5%9B%BE%EF%BC%9A"><span class="toc-number">25.</span> <span class="toc-text">Map继承体系图：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%95%EF%BC%9A-1"><span class="toc-number">25.1.</span> <span class="toc-text">常见方法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Map%E6%8E%A5%E5%8F%A3%E7%9A%84%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">25.2.</span> <span class="toc-text">Map接口的遍历方法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#HashMap%E5%B0%8F%E7%BB%93%EF%BC%9A"><span class="toc-number">25.3.</span> <span class="toc-text">HashMap小结：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HashMap%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%EF%BC%9A"><span class="toc-number">26.</span> <span class="toc-text">HashMap底层机制和源码分析：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Hashtable%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D%EF%BC%9A"><span class="toc-number">27.</span> <span class="toc-text">Hashtable的基本介绍：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-number">27.1.</span> <span class="toc-text">底层工作机制：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Properties%EF%BC%9A"><span class="toc-number">28.</span> <span class="toc-text">Properties：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E9%80%89%E6%8B%A9%EF%BC%9A"><span class="toc-number">29.</span> <span class="toc-text">集合的选择：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#TreeSet%E7%9A%84%E8%A7%A3%E8%AF%BB%EF%BC%9A"><span class="toc-number">30.</span> <span class="toc-text">TreeSet的解读：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#TreeMap"><span class="toc-number">31.</span> <span class="toc-text">TreeMap:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Collection%E5%B7%A5%E5%85%B7%E7%B1%BB%EF%BC%9A"><span class="toc-number">32.</span> <span class="toc-text">Collection工具类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%EF%BC%9A"><span class="toc-number">33.</span> <span class="toc-text">泛型：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%AE%80%E4%BB%8B%EF%BC%9A"><span class="toc-number">33.1.</span> <span class="toc-text">泛型简介：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%9A%84%E5%A3%B0%E6%98%8E%EF%BC%9A"><span class="toc-number">33.2.</span> <span class="toc-text">泛型的声明：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A6%81%E6%B1%82%EF%BC%9A"><span class="toc-number">33.3.</span> <span class="toc-text">要求：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%9B%E5%9E%8B%EF%BC%9A"><span class="toc-number">34.</span> <span class="toc-text">自定义泛型：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%EF%BC%9A-2"><span class="toc-number">34.1.</span> <span class="toc-text">基本语法：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JUnit%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-number">35.</span> <span class="toc-text">JUnit的使用：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Java%E7%BB%98%E5%9B%BE%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-number">36.</span> <span class="toc-text">Java绘图机制：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%94%BB%E5%9B%BE%E5%A4%A7%E6%A6%82%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">36.1.</span> <span class="toc-text">画图大概过程：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%98%E5%9B%BE%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">36.2.</span> <span class="toc-text">绘图原理：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">36.3.</span> <span class="toc-text">常用方法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%94%BB%E5%9B%BE%E7%89%87%EF%BC%9A"><span class="toc-number">36.4.</span> <span class="toc-text">画图片：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Java%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-number">37.</span> <span class="toc-text">Java事件处理机制：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B0%8F%E7%90%83%E7%A7%BB%E5%8A%A8%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">38.</span> <span class="toc-text">小球移动代码：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%EF%BC%9A"><span class="toc-number">39.</span> <span class="toc-text">线程：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%A7%E6%89%BFThread%E5%92%8C%E5%AE%9E%E7%8E%B0Runnable%E6%8E%A5%E5%8F%A3"><span class="toc-number">39.1.</span> <span class="toc-text">继承Thread和实现Runnable接口</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%EF%BC%9A%E7%BC%96%E7%A8%8B%E6%98%AF%E5%AE%9E%E7%8E%B0%E4%B8%89%E4%B8%AA%E7%AA%97%E5%8F%A3%E5%8D%9615%E5%BC%A0%E7%A5%A8%EF%BC%9B"><span class="toc-number">39.2.</span> <span class="toc-text">问题：编程是实现三个窗口卖15张票；</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%BB%88%E6%AD%A2%EF%BC%9A"><span class="toc-number">39.3.</span> <span class="toc-text">线程的终止：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">39.4.</span> <span class="toc-text">线程的常用方法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9A"><span class="toc-number">39.5.</span> <span class="toc-text">线程的生命周期：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%92%E6%96%A5%E9%94%81%EF%BC%9A"><span class="toc-number">40.</span> <span class="toc-text">互斥锁：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%AD%BB%E9%94%81%EF%BC%9A"><span class="toc-number">40.1.</span> <span class="toc-text">线程死锁：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8A%E6%94%BE%E9%94%81%EF%BC%9A"><span class="toc-number">41.</span> <span class="toc-text">释放锁：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#IO%E6%B5%81%EF%BC%9A"><span class="toc-number">42.</span> <span class="toc-text">IO流：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%EF%BC%9A"><span class="toc-number">43.</span> <span class="toc-text">常用的文件操作：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-number">44.</span> <span class="toc-text">字节流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81%EF%BC%9A"><span class="toc-number">45.</span> <span class="toc-text">字符流：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E6%B5%81%EF%BC%9A"><span class="toc-number">46.</span> <span class="toc-text">节点流：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%B5%81-%E5%8C%85%E8%A3%85%E6%B5%81-%EF%BC%9A"><span class="toc-number">47.</span> <span class="toc-text">处理流(包装流)：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%B5%81%EF%BC%9A"><span class="toc-number">48.</span> <span class="toc-text">对象流：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81%EF%BC%9A"><span class="toc-number">49.</span> <span class="toc-text">标准输入输出流：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E6%B5%81%EF%BC%9A"><span class="toc-number">50.</span> <span class="toc-text">转换流：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E6%B5%81%EF%BC%9A"><span class="toc-number">51.</span> <span class="toc-text">打印流：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Properties%E7%B1%BB"><span class="toc-number">52.</span> <span class="toc-text">Properties类:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%EF%BC%9A"><span class="toc-number">53.</span> <span class="toc-text">网络编程：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#ipv4%E5%9C%B0%E5%9D%80%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-number">53.1.</span> <span class="toc-text">ipv4地址分类：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%EF%BC%9A"><span class="toc-number">54.</span> <span class="toc-text">域名：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E5%8F%B7%EF%BC%9A"><span class="toc-number">55.</span> <span class="toc-text">端口号：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%EF%BC%9A"><span class="toc-number">56.</span> <span class="toc-text">网络通信协议：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#TCP%EF%BC%9A"><span class="toc-number">57.</span> <span class="toc-text">TCP：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#UDP%EF%BC%9A%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E5%8D%8F%E8%AE%AE"><span class="toc-number">58.</span> <span class="toc-text">UDP：用户数据协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#InetAddress%E7%B1%BB%EF%BC%9A"><span class="toc-number">59.</span> <span class="toc-text">InetAddress类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Socket%EF%BC%9A"><span class="toc-number">60.</span> <span class="toc-text">Socket：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#netstat%E6%8C%87%E4%BB%A4%EF%BC%9A"><span class="toc-number">61.</span> <span class="toc-text">netstat指令：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#UDP%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%EF%BC%9A"><span class="toc-number">62.</span> <span class="toc-text">UDP网络编程：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E7%94%A8%E6%88%B7%E9%80%9A%E4%BF%A1%E9%A1%B9%E7%9B%AE%EF%BC%9A"><span class="toc-number">63.</span> <span class="toc-text">多用户通信项目：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%E7%9A%84%E7%AE%80%E4%BB%8B%EF%BC%9A"><span class="toc-number">63.1.</span> <span class="toc-text">项目开发流程的简介：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-1"><span class="toc-number">64.</span> <span class="toc-text"></span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/11/ajax/" title="ajax">ajax</a><time datetime="2024-06-11T12:42:50.559Z" title="发表于 2024-06-11 20:42:50">2024-06-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/11/%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87/" title="无题">无题</a><time datetime="2024-06-11T12:42:50.559Z" title="发表于 2024-06-11 20:42:50">2024-06-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/11/%E8%A7%A3%E5%86%B3typora+hexo%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E7%9A%84%E9%97%AE%E9%A2%98/" title="解决typora与hexo上传图片问题">解决typora与hexo上传图片问题</a><time datetime="2024-06-11T12:42:50.559Z" title="发表于 2024-06-11 20:42:50">2024-06-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/11/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/" title="无题">无题</a><time datetime="2024-06-11T12:42:50.559Z" title="发表于 2024-06-11 20:42:50">2024-06-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/11/Promise/" title="无题">无题</a><time datetime="2024-06-11T12:42:50.550Z" title="发表于 2024-06-11 20:42:50">2024-06-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By lijxing</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>